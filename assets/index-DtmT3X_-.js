var xu=Object.defineProperty;var Or=n=>{throw TypeError(n)};var wu=(n,r,o)=>r in n?xu(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o;var Yi=(n,r,o)=>wu(n,typeof r!="symbol"?r+"":r,o),Ra=(n,r,o)=>r.has(n)||Or("Cannot "+o);var _t=(n,r,o)=>(Ra(n,r,"read from private field"),o?o.call(n):r.get(n)),Gt=(n,r,o)=>r.has(n)?Or("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(n):r.set(n,o),Qt=(n,r,o,l)=>(Ra(n,r,"write to private field"),l?l.call(n,o):r.set(n,o),o),Ve=(n,r,o)=>(Ra(n,r,"access private method"),o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function o(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=o(c);fetch(c.href,d)}})();const ss=!1;var dn=Array.isArray,Eu=Array.prototype.indexOf,eo=Array.from,Wa=Object.defineProperty,ze=Object.getOwnPropertyDescriptor,ls=Object.getOwnPropertyDescriptors,Tu=Object.prototype,Pu=Array.prototype,io=Object.getPrototypeOf,kr=Object.isExtensible;function $i(n){return typeof n=="function"}const xi=()=>{};function Lu(n){return n()}function Qi(n){for(var r=0;r<n.length;r++)n[r]()}function Su(){var n,r,o=new Promise((l,c)=>{n=l,r=c});return{promise:o,resolve:n,reject:r}}const $t=2,no=4,Wn=8,ki=16,Pe=32,ii=64,us=128,ee=256,Zn=512,zt=1024,ae=2048,Le=4096,ue=8192,ni=16384,ao=32768,Vn=65536,Mr=1<<17,Au=1<<18,hn=1<<19,cs=1<<20,Va=1<<21,oo=1<<22,Je=1<<23,De=Symbol("$state"),ds=Symbol("legacy props"),ro=new class extends Error{constructor(){super(...arguments);Yi(this,"name","StaleReactionError");Yi(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Cu(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Yn(n){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ou(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ku(n){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Mu(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Iu(n){throw new Error("https://svelte.dev/e/effect_orphan")}function Ru(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Nu(n){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function zu(n){throw new Error("https://svelte.dev/e/props_invalid_value")}function Du(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ju(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Bu(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const $n=1,Xn=2,hs=4,Zu=8,qu=16,Fu=1,Uu=2,Hu=4,Gu=8,Wu=16,Vu=1,Yu=2,Rt=Symbol(),$u="http://www.w3.org/1999/xhtml";let Xu=!1;function fs(n){return n===this.v}function ps(n,r){return n!=n?r==r:n!==r||n!==null&&typeof n=="object"||typeof n=="function"}function _s(n){return!ps(n,this.v)}let Mi=!1,Ku=!1;function Ju(){Mi=!0}let yt=null;function qn(n){yt=n}function Ze(n,r=!1,o){yt={p:yt,c:null,e:null,s:n,x:null,l:Mi&&!r?{s:null,u:null,$:[]}:null}}function qe(n){var r=yt,o=r.e;if(o!==null){r.e=null;for(var l of o)Cs(l)}return yt=r.p,{}}function fn(){return!Mi||yt!==null&&yt.l===null}const Qu=new WeakMap;function tc(n){var r=ft;if(r===null)return dt.f|=Je,n;if((r.f&ao)===0){if((r.f&us)===0)throw!r.parent&&n instanceof Error&&vs(n),n;r.b.error(n)}else so(n,r)}function so(n,r){for(;r!==null;){if((r.f&us)!==0)try{r.b.error(n);return}catch(o){n=o}r=r.parent}throw n instanceof Error&&vs(n),n}function vs(n){const r=Qu.get(n);r&&(Wa(n,"message",{value:r.message}),Wa(n,"stack",{value:r.stack}))}let tn=[],Ya=[];function ms(){var n=tn;tn=[],Qi(n)}function ec(){var n=Ya;Ya=[],Qi(n)}function lo(n){tn.length===0&&queueMicrotask(ms),tn.push(n)}function ic(){tn.length>0&&ms(),Ya.length>0&&ec()}function nc(){for(var n=ft.b;n!==null&&!n.has_pending_snippet();)n=n.parent;return n===null&&Cu(),n}function Kn(n){var r=$t|ae,o=dt!==null&&(dt.f&$t)!==0?dt:null;return ft===null||o!==null&&(o.f&ee)!==0?r|=ee:ft.f|=hn,{ctx:yt,deps:null,effects:null,equals:fs,f:r,fn:n,reactions:null,rv:0,v:Rt,wv:0,parent:o??ft,ac:null}}function ac(n,r){let o=ft;o===null&&Ou();var l=o.b,c=void 0,d=nn(Rt),h=null,f=!dt;return gc(()=>{try{var p=n()}catch(j){p=Promise.reject(j)}var b=()=>p;c=(h==null?void 0:h.then(b,b))??Promise.resolve(p),h=c;var A=Tt,C=l.pending;f&&(l.update_pending_count(1),C||A.increment());const I=(j,S=void 0)=>{h=null,C||A.activate(),S?S!==ro&&(d.f|=Je,an(d,S)):((d.f&Je)!==0&&(d.f^=Je),an(d,j)),f&&(l.update_pending_count(-1),C||A.decrement()),bs()};if(c.then(I,j=>I(null,j||"unknown")),A)return()=>{queueMicrotask(()=>A.neuter())}}),new Promise(p=>{function b(A){function C(){A===c?p(d):b(c)}A.then(C,C)}b(c)})}function uo(n){const r=Kn(n);return r.equals=_s,r}function gs(n){var r=n.effects;if(r!==null){n.effects=null;for(var o=0;o<r.length;o+=1)Ee(r[o])}}function oc(n){for(var r=n.parent;r!==null;){if((r.f&$t)===0)return r;r=r.parent}return null}function co(n){var r,o=ft;Be(oc(n));try{gs(n),r=js(n)}finally{Be(o)}return r}function ys(n){var r=co(n);if(n.equals(r)||(n.v=r,n.wv=zs()),!ai)if(Ie!==null)Ie.set(n,n.v);else{var o=(Re||(n.f&ee)!==0)&&n.deps!==null?Le:zt;Ut(n,o)}}function rc(n,r,o){const l=fn()?Kn:uo;if(r.length===0){o(n.map(l));return}var c=Tt,d=ft,h=sc(),f=nc();Promise.all(r.map(p=>ac(p))).then(p=>{c==null||c.activate(),h();try{o([...n.map(l),...p])}catch(b){(d.f&ni)===0&&so(b,d)}c==null||c.deactivate(),bs()}).catch(p=>{f.error(p)})}function sc(){var n=ft,r=dt,o=yt;return function(){Be(n),me(r),qn(o)}}function bs(){Be(null),me(null),qn(null)}const Xi=new Set;let Tt=null,Ie=null,Ir=new Set,Fn=[];function xs(){const n=Fn.shift();Fn.length>0&&queueMicrotask(xs),n()}let ei=[],Jn=null,$a=!1,jn=!1;var Pi,Li,ke,sn,ln,Xe,Si,Ke,Me,Ai,un,cn,ce,ws,Bn,Xa;const Gn=class Gn{constructor(){Gt(this,ce);Yi(this,"current",new Map);Gt(this,Pi,new Map);Gt(this,Li,new Set);Gt(this,ke,0);Gt(this,sn,null);Gt(this,ln,!1);Gt(this,Xe,[]);Gt(this,Si,[]);Gt(this,Ke,[]);Gt(this,Me,[]);Gt(this,Ai,[]);Gt(this,un,[]);Gt(this,cn,[]);Yi(this,"skipped_effects",new Set)}process(r){var d;ei=[];var o=null;if(Xi.size>1){o=new Map,Ie=new Map;for(const[h,f]of this.current)o.set(h,{v:h.v,wv:h.wv}),h.v=f;for(const h of Xi)if(h!==this)for(const[f,p]of _t(h,Pi))o.has(f)||(o.set(f,{v:f.v,wv:f.wv}),f.v=p)}for(const h of r)Ve(this,ce,ws).call(this,h);if(_t(this,Xe).length===0&&_t(this,ke)===0){Ve(this,ce,Xa).call(this);var l=_t(this,Ke),c=_t(this,Me);Qt(this,Ke,[]),Qt(this,Me,[]),Qt(this,Ai,[]),Tt=null,Rr(l),Rr(c),Tt===null?Tt=this:Xi.delete(this),(d=_t(this,sn))==null||d.resolve()}else Ve(this,ce,Bn).call(this,_t(this,Ke)),Ve(this,ce,Bn).call(this,_t(this,Me)),Ve(this,ce,Bn).call(this,_t(this,Ai));if(o){for(const[h,{v:f,wv:p}]of o)h.wv<=p&&(h.v=f);Ie=null}for(const h of _t(this,Xe))ti(h);for(const h of _t(this,Si))ti(h);Qt(this,Xe,[]),Qt(this,Si,[])}capture(r,o){_t(this,Pi).has(r)||_t(this,Pi).set(r,o),this.current.set(r,r.v)}activate(){Tt=this}deactivate(){Tt=null;for(const r of Ir)if(Ir.delete(r),r(),Tt!==null)break}neuter(){Qt(this,ln,!0)}flush(){ei.length>0?Es():Ve(this,ce,Xa).call(this),Tt===this&&(_t(this,ke)===0&&Xi.delete(this),this.deactivate())}increment(){Qt(this,ke,_t(this,ke)+1)}decrement(){if(Qt(this,ke,_t(this,ke)-1),_t(this,ke)===0){for(const r of _t(this,un))Ut(r,ae),Ci(r);for(const r of _t(this,cn))Ut(r,Le),Ci(r);Qt(this,Ke,[]),Qt(this,Me,[]),this.flush()}else this.deactivate()}add_callback(r){_t(this,Li).add(r)}settled(){return(_t(this,sn)??Qt(this,sn,Su())).promise}static ensure(){if(Tt===null){const r=Tt=new Gn;Xi.add(Tt),jn||Gn.enqueue(()=>{Tt===r&&r.flush()})}return Tt}static enqueue(r){Fn.length===0&&queueMicrotask(xs),Fn.unshift(r)}};Pi=new WeakMap,Li=new WeakMap,ke=new WeakMap,sn=new WeakMap,ln=new WeakMap,Xe=new WeakMap,Si=new WeakMap,Ke=new WeakMap,Me=new WeakMap,Ai=new WeakMap,un=new WeakMap,cn=new WeakMap,ce=new WeakSet,ws=function(r){var A;r.f^=zt;for(var o=r.first;o!==null;){var l=o.f,c=(l&(Pe|ii))!==0,d=c&&(l&zt)!==0,h=d||(l&ue)!==0||this.skipped_effects.has(o);if(!h&&o.fn!==null){if(c)o.f^=zt;else if((l&no)!==0)_t(this,Me).push(o);else if((l&zt)===0)if((l&oo)!==0){var f=(A=o.b)!=null&&A.pending?_t(this,Si):_t(this,Xe);f.push(o)}else pn(o)&&((o.f&ki)!==0&&_t(this,Ai).push(o),ti(o));var p=o.first;if(p!==null){o=p;continue}}var b=o.parent;for(o=o.next;o===null&&b!==null;)o=b.next,b=b.parent}},Bn=function(r){for(const o of r)((o.f&ae)!==0?_t(this,un):_t(this,cn)).push(o),Ut(o,zt);r.length=0},Xa=function(){if(!_t(this,ln))for(const r of _t(this,Li))r();_t(this,Li).clear()};let en=Gn;function lc(n){var r=jn;jn=!0;try{for(var o;;){if(ic(),ei.length===0&&(Tt==null||Tt.flush(),ei.length===0))return Jn=null,o;Es()}}finally{jn=r}}function Es(){var n=wi;$a=!0;try{var r=0;for(zr(!0);ei.length>0;){var o=en.ensure();if(r++>1e3){var l,c;uc()}o.process(ei),je.clear()}}finally{$a=!1,zr(n),Jn=null}}function uc(){try{Ru()}catch(n){so(n,Jn)}}let $e=null;function Rr(n){var r=n.length;if(r!==0){for(var o=0;o<r;){var l=n[o++];if((l.f&(ni|ue))===0&&pn(l)&&($e=[],ti(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null&&l.ac===null?Ms(l):l.fn=null),$e.length>0)){je.clear();for(const c of $e)ti(c);$e=[]}}$e=null}}function Ci(n){for(var r=Jn=n;r.parent!==null;){r=r.parent;var o=r.f;if($a&&r===ft&&(o&ki)!==0)return;if((o&(ii|Pe))!==0){if((o&zt)===0)return;r.f^=zt}}ei.push(r)}const je=new Map;function nn(n,r){var o={f:0,v:n,reactions:null,equals:fs,rv:0,wv:0};return o}function Ce(n,r){const o=nn(n);return xc(o),o}function jt(n,r=!1,o=!0){var c;const l=nn(n);return r||(l.equals=_s),Mi&&o&&yt!==null&&yt.l!==null&&((c=yt.l).s??(c.s=[])).push(l),l}function ho(n,r){return mt(n,vt(()=>P(n))),r}function mt(n,r,o=!1){dt!==null&&(!ve||(dt.f&Mr)!==0)&&fn()&&(dt.f&($t|ki|oo|Mr))!==0&&!(Ft!=null&&Ft.includes(n))&&Bu();let l=o?yi(r):r;return an(n,l)}function an(n,r){if(!n.equals(r)){var o=n.v;ai?je.set(n,r):je.set(n,o),n.v=r;var l=en.ensure();l.capture(n,o),(n.f&$t)!==0&&((n.f&ae)!==0&&co(n),Ut(n,(n.f&ee)===0?zt:Le)),n.wv=zs(),Ts(n,ae),fn()&&ft!==null&&(ft.f&zt)!==0&&(ft.f&(Pe|ii))===0&&(te===null?wc([n]):te.push(n))}return r}function Na(n){mt(n,n.v+1)}function Ts(n,r){var o=n.reactions;if(o!==null)for(var l=fn(),c=o.length,d=0;d<c;d++){var h=o[d],f=h.f;if(!(!l&&h===ft)){var p=(f&ae)===0;p&&Ut(h,r),(f&$t)!==0?Ts(h,Le):p&&((f&ki)!==0&&$e!==null&&$e.push(h),Ci(h))}}}function yi(n){if(typeof n!="object"||n===null||De in n)return n;const r=io(n);if(r!==Tu&&r!==Pu)return n;var o=new Map,l=dn(n),c=Ce(0),d=Qe,h=f=>{if(Qe===d)return f();var p=dt,b=Qe;me(null),jr(d);var A=f();return me(p),jr(b),A};return l&&o.set("length",Ce(n.length)),new Proxy(n,{defineProperty(f,p,b){(!("value"in b)||b.configurable===!1||b.enumerable===!1||b.writable===!1)&&Du();var A=o.get(p);return A===void 0?A=h(()=>{var C=Ce(b.value);return o.set(p,C),C}):mt(A,b.value,!0),!0},deleteProperty(f,p){var b=o.get(p);if(b===void 0){if(p in f){const A=h(()=>Ce(Rt));o.set(p,A),Na(c)}}else mt(b,Rt),Na(c);return!0},get(f,p,b){var j;if(p===De)return n;var A=o.get(p),C=p in f;if(A===void 0&&(!C||(j=ze(f,p))!=null&&j.writable)&&(A=h(()=>{var S=yi(C?f[p]:Rt),k=Ce(S);return k}),o.set(p,A)),A!==void 0){var I=P(A);return I===Rt?void 0:I}return Reflect.get(f,p,b)},getOwnPropertyDescriptor(f,p){var b=Reflect.getOwnPropertyDescriptor(f,p);if(b&&"value"in b){var A=o.get(p);A&&(b.value=P(A))}else if(b===void 0){var C=o.get(p),I=C==null?void 0:C.v;if(C!==void 0&&I!==Rt)return{enumerable:!0,configurable:!0,value:I,writable:!0}}return b},has(f,p){var I;if(p===De)return!0;var b=o.get(p),A=b!==void 0&&b.v!==Rt||Reflect.has(f,p);if(b!==void 0||ft!==null&&(!A||(I=ze(f,p))!=null&&I.writable)){b===void 0&&(b=h(()=>{var j=A?yi(f[p]):Rt,S=Ce(j);return S}),o.set(p,b));var C=P(b);if(C===Rt)return!1}return A},set(f,p,b,A){var m;var C=o.get(p),I=p in f;if(l&&p==="length")for(var j=b;j<C.v;j+=1){var S=o.get(j+"");S!==void 0?mt(S,Rt):j in f&&(S=h(()=>Ce(Rt)),o.set(j+"",S))}if(C===void 0)(!I||(m=ze(f,p))!=null&&m.writable)&&(C=h(()=>Ce(void 0)),mt(C,yi(b)),o.set(p,C));else{I=C.v!==Rt;var k=h(()=>yi(b));mt(C,k)}var q=Reflect.getOwnPropertyDescriptor(f,p);if(q!=null&&q.set&&q.set.call(A,b),!I){if(l&&typeof p=="string"){var Y=o.get("length"),y=Number(p);Number.isInteger(y)&&y>=Y.v&&mt(Y,y+1)}Na(c)}return!0},ownKeys(f){P(c);var p=Reflect.ownKeys(f).filter(C=>{var I=o.get(C);return I===void 0||I.v!==Rt});for(var[b,A]of o)A.v!==Rt&&!(b in f)&&p.push(b);return p},setPrototypeOf(){ju()}})}var Nr,Ps,Ls,Ss;function cc(){if(Nr===void 0){Nr=window,Ps=/Firefox/.test(navigator.userAgent);var n=Element.prototype,r=Node.prototype,o=Text.prototype;Ls=ze(r,"firstChild").get,Ss=ze(r,"nextSibling").get,kr(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),kr(o)&&(o.__t=void 0)}}function Ii(n=""){return document.createTextNode(n)}function Un(n){return Ls.call(n)}function Qn(n){return Ss.call(n)}function F(n,r){return Un(n)}function ie(n,r){{var o=Un(n);return o instanceof Comment&&o.data===""?Qn(o):o}}function W(n,r=1,o=!1){let l=n;for(;r--;)l=Qn(l);return l}function dc(n){n.textContent=""}function fo(){return!1}function po(n){var r=dt,o=ft;me(null),Be(null);try{return n()}finally{me(r),Be(o)}}function As(n){ft===null&&dt===null&&Iu(),dt!==null&&(dt.f&ee)!==0&&ft===null&&Mu(),ai&&ku()}function hc(n,r){var o=r.last;o===null?r.last=r.first=n:(o.next=n,n.prev=o,r.last=n)}function ge(n,r,o,l=!0){var c=ft;c!==null&&(c.f&ue)!==0&&(n|=ue);var d={ctx:yt,deps:null,nodes_start:null,nodes_end:null,f:n|ae,first:null,fn:r,last:null,next:null,parent:c,b:c&&c.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(o)try{ti(d),d.f|=ao}catch(p){throw Ee(d),p}else r!==null&&Ci(d);if(l){var h=d;if(o&&h.deps===null&&h.teardown===null&&h.nodes_start===null&&h.first===h.last&&(h.f&hn)===0&&(h=h.first),h!==null&&(h.parent=c,c!==null&&hc(h,c),dt!==null&&(dt.f&$t)!==0&&(n&ii)===0)){var f=dt;(f.effects??(f.effects=[])).push(h)}}return d}function fc(n){const r=ge(Wn,null,!1);return Ut(r,zt),r.teardown=n,r}function Ka(n){As();var r=ft.f,o=!dt&&(r&Pe)!==0&&(r&ao)===0;if(o){var l=yt;(l.e??(l.e=[])).push(n)}else return Cs(n)}function Cs(n){return ge(no|cs,n,!1)}function pc(n){return As(),ge(Wn|cs,n,!0)}function _c(n){en.ensure();const r=ge(ii|hn,n,!0);return(o={})=>new Promise(l=>{o.outro?ta(r,()=>{Ee(r),l(void 0)}):(Ee(r),l(void 0))})}function Oe(n){return ge(no,n,!1)}function vc(n,r){var o=yt,l={effect:null,ran:!1,deps:n};o.l.$.push(l),l.effect=_o(()=>{n(),!l.ran&&(l.ran=!0,vt(r))})}function mc(){var n=yt;_o(()=>{for(var r of n.l.$){r.deps();var o=r.effect;(o.f&zt)!==0&&Ut(o,Le),pn(o)&&ti(o),r.ran=!1}})}function gc(n){return ge(oo|hn,n,!0)}function _o(n,r=0){return ge(Wn|r,n,!0)}function St(n,r=[],o=[]){rc(r,o,l=>{ge(Wn,()=>n(...l.map(P)),!0)})}function vo(n,r=0){var o=ge(ki|r,n,!0);return o}function Oi(n,r=!0){return ge(Pe|hn,n,!0,r)}function Os(n){var r=n.teardown;if(r!==null){const o=ai,l=dt;Dr(!0),me(null);try{r.call(null)}finally{Dr(o),me(l)}}}function ks(n,r=!1){var o=n.first;for(n.first=n.last=null;o!==null;){const c=o.ac;c!==null&&po(()=>{c.abort(ro)});var l=o.next;(o.f&ii)!==0?o.parent=null:Ee(o,r),o=l}}function yc(n){for(var r=n.first;r!==null;){var o=r.next;(r.f&Pe)===0&&Ee(r),r=o}}function Ee(n,r=!0){var o=!1;(r||(n.f&Au)!==0)&&n.nodes_start!==null&&n.nodes_end!==null&&(bc(n.nodes_start,n.nodes_end),o=!0),ks(n,r&&!o),Hn(n,0),Ut(n,ni);var l=n.transitions;if(l!==null)for(const d of l)d.stop();Os(n);var c=n.parent;c!==null&&c.first!==null&&Ms(n),n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes_start=n.nodes_end=n.ac=null}function bc(n,r){for(;n!==null;){var o=n===r?null:Qn(n);n.remove(),n=o}}function Ms(n){var r=n.parent,o=n.prev,l=n.next;o!==null&&(o.next=l),l!==null&&(l.prev=o),r!==null&&(r.first===n&&(r.first=l),r.last===n&&(r.last=o))}function ta(n,r){var o=[];mo(n,o,!0),Is(o,()=>{Ee(n),r&&r()})}function Is(n,r){var o=n.length;if(o>0){var l=()=>--o||r();for(var c of n)c.out(l)}else r()}function mo(n,r,o){if((n.f&ue)===0){if(n.f^=ue,n.transitions!==null)for(const h of n.transitions)(h.is_global||o)&&r.push(h);for(var l=n.first;l!==null;){var c=l.next,d=(l.f&Vn)!==0||(l.f&Pe)!==0;mo(l,r,d?o:!1),l=c}}}function go(n){Rs(n,!0)}function Rs(n,r){if((n.f&ue)!==0){n.f^=ue,(n.f&zt)===0&&(Ut(n,ae),Ci(n));for(var o=n.first;o!==null;){var l=o.next,c=(o.f&Vn)!==0||(o.f&Pe)!==0;Rs(o,c?r:!1),o=l}if(n.transitions!==null)for(const d of n.transitions)(d.is_global||r)&&d.in()}}let wi=!1;function zr(n){wi=n}let ai=!1;function Dr(n){ai=n}let dt=null,ve=!1;function me(n){dt=n}let ft=null;function Be(n){ft=n}let Ft=null;function xc(n){dt!==null&&(Ft===null?Ft=[n]:Ft.push(n))}let qt=null,Yt=0,te=null;function wc(n){te=n}let Ns=1,on=0,Qe=on;function jr(n){Qe=n}let Re=!1;function zs(){return++Ns}function pn(n){var C;var r=n.f;if((r&ae)!==0)return!0;if((r&Le)!==0){var o=n.deps,l=(r&ee)!==0;if(o!==null){var c,d,h=(r&Zn)!==0,f=l&&ft!==null&&!Re,p=o.length;if((h||f)&&(ft===null||(ft.f&ni)===0)){var b=n,A=b.parent;for(c=0;c<p;c++)d=o[c],(h||!((C=d==null?void 0:d.reactions)!=null&&C.includes(b)))&&(d.reactions??(d.reactions=[])).push(b);h&&(b.f^=Zn),f&&A!==null&&(A.f&ee)===0&&(b.f^=ee)}for(c=0;c<p;c++)if(d=o[c],pn(d)&&ys(d),d.wv>n.wv)return!0}(!l||ft!==null&&!Re)&&Ut(n,zt)}return!1}function Ds(n,r,o=!0){var l=n.reactions;if(l!==null&&!(Ft!=null&&Ft.includes(n)))for(var c=0;c<l.length;c++){var d=l[c];(d.f&$t)!==0?Ds(d,r,!1):r===d&&(o?Ut(d,ae):(d.f&zt)!==0&&Ut(d,Le),Ci(d))}}function js(n){var k;var r=qt,o=Yt,l=te,c=dt,d=Re,h=Ft,f=yt,p=ve,b=Qe,A=n.f;qt=null,Yt=0,te=null,Re=(A&ee)!==0&&(ve||!wi||dt===null),dt=(A&(Pe|ii))===0?n:null,Ft=null,qn(n.ctx),ve=!1,Qe=++on,n.ac!==null&&(po(()=>{n.ac.abort(ro)}),n.ac=null);try{n.f|=Va;var C=n.fn,I=C(),j=n.deps;if(qt!==null){var S;if(Hn(n,Yt),j!==null&&Yt>0)for(j.length=Yt+qt.length,S=0;S<qt.length;S++)j[Yt+S]=qt[S];else n.deps=j=qt;if(!Re||(A&$t)!==0&&n.reactions!==null)for(S=Yt;S<j.length;S++)((k=j[S]).reactions??(k.reactions=[])).push(n)}else j!==null&&Yt<j.length&&(Hn(n,Yt),j.length=Yt);if(fn()&&te!==null&&!ve&&j!==null&&(n.f&($t|Le|ae))===0)for(S=0;S<te.length;S++)Ds(te[S],n);return c!==null&&c!==n&&(on++,te!==null&&(l===null?l=te:l.push(...te))),(n.f&Je)!==0&&(n.f^=Je),I}catch(q){return tc(q)}finally{n.f^=Va,qt=r,Yt=o,te=l,dt=c,Re=d,Ft=h,qn(f),ve=p,Qe=b}}function Ec(n,r){let o=r.reactions;if(o!==null){var l=Eu.call(o,n);if(l!==-1){var c=o.length-1;c===0?o=r.reactions=null:(o[l]=o[c],o.pop())}}o===null&&(r.f&$t)!==0&&(qt===null||!qt.includes(r))&&(Ut(r,Le),(r.f&(ee|Zn))===0&&(r.f^=Zn),gs(r),Hn(r,0))}function Hn(n,r){var o=n.deps;if(o!==null)for(var l=r;l<o.length;l++)Ec(n,o[l])}function ti(n){var r=n.f;if((r&ni)===0){Ut(n,zt);var o=ft,l=wi;ft=n,wi=!0;try{(r&ki)!==0?yc(n):ks(n),Os(n);var c=js(n);n.teardown=typeof c=="function"?c:null,n.wv=Ns;var d;ss&&Ku&&(n.f&ae)!==0&&n.deps}finally{wi=l,ft=o}}}async function Tc(){await Promise.resolve(),lc()}function P(n){var r=n.f,o=(r&$t)!==0;if(dt!==null&&!ve){var l=ft!==null&&(ft.f&ni)!==0;if(!l&&!(Ft!=null&&Ft.includes(n))){var c=dt.deps;if((dt.f&Va)!==0)n.rv<on&&(n.rv=on,qt===null&&c!==null&&c[Yt]===n?Yt++:qt===null?qt=[n]:(!Re||!qt.includes(n))&&qt.push(n));else{(dt.deps??(dt.deps=[])).push(n);var d=n.reactions;d===null?n.reactions=[dt]:d.includes(dt)||d.push(dt)}}}else if(o&&n.deps===null&&n.effects===null){var h=n,f=h.parent;f!==null&&(f.f&ee)===0&&(h.f^=ee)}if(ai){if(je.has(n))return je.get(n);if(o){h=n;var p=h.v;return((h.f&zt)===0&&h.reactions!==null||Bs(h))&&(p=co(h)),je.set(h,p),p}}else if(o){if(h=n,Ie!=null&&Ie.has(h))return Ie.get(h);pn(h)&&ys(h)}if((n.f&Je)!==0)throw n.v;return n.v}function Bs(n){if(n.v===Rt)return!0;if(n.deps===null)return!1;for(const r of n.deps)if(je.has(r)||(r.f&$t)!==0&&Bs(r))return!0;return!1}function vt(n){var r=ve;try{return ve=!0,n()}finally{ve=r}}const Pc=-7169;function Ut(n,r){n.f=n.f&Pc|r}function Zs(n){if(!(typeof n!="object"||!n||n instanceof EventTarget)){if(De in n)Ja(n);else if(!Array.isArray(n))for(let r in n){const o=n[r];typeof o=="object"&&o&&De in o&&Ja(o)}}}function Ja(n,r=new Set){if(typeof n=="object"&&n!==null&&!(n instanceof EventTarget)&&!r.has(n)){r.add(n),n instanceof Date&&n.getTime();for(let l in n)try{Ja(n[l],r)}catch{}const o=io(n);if(o!==Object.prototype&&o!==Array.prototype&&o!==Map.prototype&&o!==Set.prototype&&o!==Date.prototype){const l=ls(o);for(let c in l){const d=l[c].get;if(d)try{d.call(n)}catch{}}}}}const Lc=["touchstart","touchmove"];function Sc(n){return Lc.includes(n)}const Ac=new Set,Br=new Set;function Cc(n,r,o,l={}){function c(d){if(l.capture||Ki.call(r,d),!d.cancelBubble)return po(()=>o==null?void 0:o.call(this,d))}return n.startsWith("pointer")||n.startsWith("touch")||n==="wheel"?lo(()=>{r.addEventListener(n,c,l)}):r.addEventListener(n,c,l),c}function Nt(n,r,o,l,c){var d={capture:l,passive:c},h=Cc(n,r,o,d);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&fc(()=>{r.removeEventListener(n,h,d)})}let Zr=null;function Ki(n){var y;var r=this,o=r.ownerDocument,l=n.type,c=((y=n.composedPath)==null?void 0:y.call(n))||[],d=c[0]||n.target;Zr=n;var h=0,f=Zr===n&&n.__root;if(f){var p=c.indexOf(f);if(p!==-1&&(r===document||r===window)){n.__root=r;return}var b=c.indexOf(r);if(b===-1)return;p<=b&&(h=p)}if(d=c[h]||n.target,d!==r){Wa(n,"currentTarget",{configurable:!0,get(){return d||o}});var A=dt,C=ft;me(null),Be(null);try{for(var I,j=[];d!==null;){var S=d.assignedSlot||d.parentNode||d.host||null;try{var k=d["__"+l];if(k!=null&&(!d.disabled||n.target===d))if(dn(k)){var[q,...Y]=k;q.apply(d,[n,...Y])}else k.call(d,n)}catch(m){I?j.push(m):I=m}if(n.cancelBubble||S===r||S===null)break;d=S}if(I){for(let m of j)queueMicrotask(()=>{throw m});throw I}}finally{n.__root=r,delete n.currentTarget,me(A),Be(C)}}}function Oc(n){var r=document.createElement("template");return r.innerHTML=n.replaceAll("<!>","<!---->"),r.content}function Qa(n,r){var o=ft;o.nodes_start===null&&(o.nodes_start=n,o.nodes_end=r)}function gt(n,r){var o=(r&Vu)!==0,l=(r&Yu)!==0,c,d=!n.startsWith("<!>");return()=>{c===void 0&&(c=Oc(d?n:"<!>"+n),o||(c=Un(c)));var h=l||Ps?document.importNode(c,!0):c.cloneNode(!0);if(o){var f=Un(h),p=h.lastChild;Qa(f,p)}else Qa(h,h);return h}}function Ei(){var n=document.createDocumentFragment(),r=document.createComment(""),o=Ii();return n.append(r,o),Qa(r,o),n}function ct(n,r){n!==null&&n.before(r)}function ut(n,r){var o=r==null?"":typeof r=="object"?r+"":r;o!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=o,n.nodeValue=o+"")}function kc(n,r){return Mc(n,r)}const vi=new Map;function Mc(n,{target:r,anchor:o,props:l={},events:c,context:d,intro:h=!0}){cc();var f=new Set,p=C=>{for(var I=0;I<C.length;I++){var j=C[I];if(!f.has(j)){f.add(j);var S=Sc(j);r.addEventListener(j,Ki,{passive:S});var k=vi.get(j);k===void 0?(document.addEventListener(j,Ki,{passive:S}),vi.set(j,1)):vi.set(j,k+1)}}};p(eo(Ac)),Br.add(p);var b=void 0,A=_c(()=>{var C=o??r.appendChild(Ii());return Oi(()=>{if(d){Ze({});var I=yt;I.c=d}c&&(l.$$events=c),b=n(C,l)||{},d&&qe()}),()=>{var S;for(var I of f){r.removeEventListener(I,Ki);var j=vi.get(I);--j===0?(document.removeEventListener(I,Ki),vi.delete(I)):vi.set(I,j)}Br.delete(p),C!==o&&((S=C.parentNode)==null||S.removeChild(C))}});return Ic.set(b,A),b}let Ic=new WeakMap;function Ne(n,r,o=!1){var l=n,c=null,d=null,h=Rt,f=o?Vn:0,p=!1;const b=(j,S=!0)=>{p=!0,I(S,j)};var A=null;function C(){A!==null&&(A.lastChild.remove(),l.before(A),A=null);var j=h?c:d,S=h?d:c;j&&go(j),S&&ta(S,()=>{h?d=null:c=null})}const I=(j,S)=>{if(h!==(h=j)){var k=fo(),q=l;if(k&&(A=document.createDocumentFragment(),A.append(q=Ii())),h?c??(c=S&&Oi(()=>S(q))):d??(d=S&&Oi(()=>S(q))),k){var Y=Tt,y=h?c:d,m=h?d:c;y&&Y.skipped_effects.delete(y),m&&Y.skipped_effects.add(m),Y.add_callback(C)}else C()}};vo(()=>{p=!1,r(b),p||I(null,null)},f)}function Wt(n,r){return r}function Rc(n,r,o){for(var l=n.items,c=[],d=r.length,h=0;h<d;h++)mo(r[h].e,c,!0);var f=d>0&&c.length===0&&o!==null;if(f){var p=o.parentNode;dc(p),p.append(o),l.clear(),_e(n,r[0].prev,r[d-1].next)}Is(c,()=>{for(var b=0;b<d;b++){var A=r[b];f||(l.delete(A.k),_e(n,A.prev,A.next)),Ee(A.e,!f)}})}function Vt(n,r,o,l,c,d=null){var h=n,f={flags:r,items:new Map,first:null},p=(r&hs)!==0;if(p){var b=n;h=b.appendChild(Ii())}var A=null,C=!1,I=new Map,j=uo(()=>{var Y=o();return dn(Y)?Y:Y==null?[]:eo(Y)}),S,k;function q(){Nc(k,S,f,I,h,c,r,l,o),d!==null&&(S.length===0?A?go(A):A=Oi(()=>d(h)):A!==null&&ta(A,()=>{A=null}))}vo(()=>{k??(k=ft),S=P(j);var Y=S.length;if(!(C&&Y===0)){C=Y===0;var y,m,O,x;if(fo()){var v=new Set,E=Tt;for(m=0;m<Y;m+=1){O=S[m],x=l(O,m);var G=f.items.get(x)??I.get(x);G?(r&($n|Xn))!==0&&qs(G,O,m,r):(y=Fs(null,f,null,null,O,x,m,c,r,o,!0),I.set(x,y)),v.add(x)}for(const[D,K]of f.items)v.has(D)||E.skipped_effects.add(K.e);E.add_callback(q)}else q();P(j)}})}function Nc(n,r,o,l,c,d,h,f,p){var M,T,z,B;var b=(h&Zu)!==0,A=(h&($n|Xn))!==0,C=r.length,I=o.items,j=o.first,S=j,k,q=null,Y,y=[],m=[],O,x,v,E;if(b)for(E=0;E<C;E+=1)O=r[E],x=f(O,E),v=I.get(x),v!==void 0&&((M=v.a)==null||M.measure(),(Y??(Y=new Set)).add(v));for(E=0;E<C;E+=1){if(O=r[E],x=f(O,E),v=I.get(x),v===void 0){var G=l.get(x);if(G!==void 0){l.delete(x),I.set(x,G);var D=q?q.next:S;_e(o,q,G),_e(o,G,D),za(G,D,c),q=G}else{var K=S?S.e.nodes_start:c;q=Fs(K,o,q,q===null?o.first:q.next,O,x,E,d,h,p)}I.set(x,q),y=[],m=[],S=q.next;continue}if(A&&qs(v,O,E,h),(v.e.f&ue)!==0&&(go(v.e),b&&((T=v.a)==null||T.unfix(),(Y??(Y=new Set)).delete(v))),v!==S){if(k!==void 0&&k.has(v)){if(y.length<m.length){var et=m[0],Q;q=et.prev;var Ct=y[0],J=y[y.length-1];for(Q=0;Q<y.length;Q+=1)za(y[Q],et,c);for(Q=0;Q<m.length;Q+=1)k.delete(m[Q]);_e(o,Ct.prev,J.next),_e(o,q,Ct),_e(o,J,et),S=et,q=J,E-=1,y=[],m=[]}else k.delete(v),za(v,S,c),_e(o,v.prev,v.next),_e(o,v,q===null?o.first:q.next),_e(o,q,v),q=v;continue}for(y=[],m=[];S!==null&&S.k!==x;)(S.e.f&ue)===0&&(k??(k=new Set)).add(S),m.push(S),S=S.next;if(S===null)continue;v=S}y.push(v),q=v,S=v.next}if(S!==null||k!==void 0){for(var tt=k===void 0?[]:eo(k);S!==null;)(S.e.f&ue)===0&&tt.push(S),S=S.next;var nt=tt.length;if(nt>0){var ot=(h&hs)!==0&&C===0?c:null;if(b){for(E=0;E<nt;E+=1)(z=tt[E].a)==null||z.measure();for(E=0;E<nt;E+=1)(B=tt[E].a)==null||B.fix()}Rc(o,tt,ot)}}b&&lo(()=>{var R;if(Y!==void 0)for(v of Y)(R=v.a)==null||R.apply()}),n.first=o.first&&o.first.e,n.last=q&&q.e;for(var H of l.values())Ee(H.e);l.clear()}function qs(n,r,o,l){(l&$n)!==0&&an(n.v,r),(l&Xn)!==0?an(n.i,o):n.i=o}function Fs(n,r,o,l,c,d,h,f,p,b,A){var C=(p&$n)!==0,I=(p&qu)===0,j=C?I?jt(c,!1,!1):nn(c):c,S=(p&Xn)===0?h:nn(h),k={i:S,v:j,k:d,a:null,e:null,prev:o,next:l};try{if(n===null){var q=document.createDocumentFragment();q.append(n=Ii())}return k.e=Oi(()=>f(n,j,S,b),Xu),k.e.prev=o&&o.e,k.e.next=l&&l.e,o===null?A||(r.first=k):(o.next=k,o.e.next=k.e),l!==null&&(l.prev=k,l.e.prev=k.e),k}finally{}}function za(n,r,o){for(var l=n.next?n.next.e.nodes_start:o,c=r?r.e.nodes_start:o,d=n.e.nodes_start;d!==null&&d!==l;){var h=Qn(d);c.before(d),d=h}}function _e(n,r,o){r===null?n.first=o:(r.next=o,r.e.next=o&&o.e),o!==null&&(o.prev=r,o.e.prev=r&&r.e)}function qr(n,r,o){var l=n,c,d,h=null,f=null;function p(){d&&(ta(d),d=null),h&&(h.lastChild.remove(),l.before(h),h=null),d=f,f=null}vo(()=>{if(c!==(c=r())){var b=fo();if(c){var A=l;b&&(h=document.createDocumentFragment(),h.append(A=Ii()),d&&Tt.skipped_effects.add(d)),f=Oi(()=>o(A,c))}b?Tt.add_callback(p):p()}},Vn)}function mi(n,r,o){Oe(()=>{var l=vt(()=>r(n,o==null?void 0:o())||{});if(l!=null&&l.destroy)return()=>l.destroy()})}const Fr=[...` 	
\r\f \v\uFEFF`];function zc(n,r,o){var l=""+n;if(o){for(var c in o)if(o[c])l=l?l+" "+c:c;else if(l.length)for(var d=c.length,h=0;(h=l.indexOf(c,h))>=0;){var f=h+d;(h===0||Fr.includes(l[h-1]))&&(f===l.length||Fr.includes(l[f]))?l=(h===0?"":l.substring(0,h))+l.substring(f+1):h=f}}return l===""?null:l}function Ur(n,r=!1){var o=r?" !important;":";",l="";for(var c in n){var d=n[c];d!=null&&d!==""&&(l+=" "+c+": "+d+o)}return l}function Da(n){return n[0]!=="-"||n[1]!=="-"?n.toLowerCase():n}function Dc(n,r){if(r){var o="",l,c;if(Array.isArray(r)?(l=r[0],c=r[1]):l=r,n){n=String(n).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var d=!1,h=0,f=!1,p=[];l&&p.push(...Object.keys(l).map(Da)),c&&p.push(...Object.keys(c).map(Da));var b=0,A=-1;const k=n.length;for(var C=0;C<k;C++){var I=n[C];if(f?I==="/"&&n[C-1]==="*"&&(f=!1):d?d===I&&(d=!1):I==="/"&&n[C+1]==="*"?f=!0:I==='"'||I==="'"?d=I:I==="("?h++:I===")"&&h--,!f&&d===!1&&h===0){if(I===":"&&A===-1)A=C;else if(I===";"||C===k-1){if(A!==-1){var j=Da(n.substring(b,A).trim());if(!p.includes(j)){I!==";"&&C++;var S=n.substring(b,C).trim();o+=" "+S+";"}}b=C+1,A=-1}}}}return l&&(o+=Ur(l)),c&&(o+=Ur(c,!0)),o=o.trim(),o===""?null:o}return n==null?null:String(n)}function jc(n,r,o,l,c,d){var h=n.__className;if(h!==o||h===void 0){var f=zc(o,l,d);f==null?n.removeAttribute("class"):n.className=f,n.__className=o}else if(d&&c!==d)for(var p in d){var b=!!d[p];(c==null||b!==!!c[p])&&n.classList.toggle(p,b)}return d}function ja(n,r={},o,l){for(var c in o){var d=o[c];r[c]!==d&&(o[c]==null?n.style.removeProperty(c):n.style.setProperty(c,d,l))}}function ea(n,r,o,l){var c=n.__style;if(c!==r){var d=Dc(r,l);d==null?n.removeAttribute("style"):n.style.cssText=d,n.__style=r}else l&&(Array.isArray(l)?(ja(n,o==null?void 0:o[0],l[0]),ja(n,o==null?void 0:o[1],l[1],"important")):ja(n,o,l));return l}const Bc=Symbol("is custom element"),Zc=Symbol("is html");function Ye(n,r,o,l){var c=qc(n);c[r]!==(c[r]=o)&&(o==null?n.removeAttribute(r):typeof o!="string"&&Fc(n).includes(r)?n[r]=o:n.setAttribute(r,o))}function qc(n){return n.__attributes??(n.__attributes={[Bc]:n.nodeName.includes("-"),[Zc]:n.namespaceURI===$u})}var Hr=new Map;function Fc(n){var r=Hr.get(n.nodeName);if(r)return r;Hr.set(n.nodeName,r=[]);for(var o,l=n,c=Element.prototype;c!==l;){o=ls(l);for(var d in o)o[d].set&&r.push(d);l=io(l)}return r}function Gr(n,r){return n===r||(n==null?void 0:n[De])===r}function Ti(n={},r,o,l){return Oe(()=>{var c,d;return _o(()=>{c=d,d=[],vt(()=>{n!==o(...d)&&(r(n,...d),c&&Gr(o(...c),n)&&r(null,...c))})}),()=>{lo(()=>{d&&Gr(o(...d),n)&&r(null,...d)})}}),n}function oi(n=!1){const r=yt,o=r.l.u;if(!o)return;let l=()=>Zs(r.s);if(n){let c=0,d={};const h=Kn(()=>{let f=!1;const p=r.s;for(const b in p)p[b]!==d[b]&&(d[b]=p[b],f=!0);return f&&c++,c});l=()=>P(h)}o.b.length&&pc(()=>{Wr(r,l),Qi(o.b)}),Ka(()=>{const c=vt(()=>o.m.map(Lu));return()=>{for(const d of c)typeof d=="function"&&d()}}),o.a.length&&Ka(()=>{Wr(r,l),Qi(o.a)})}function Wr(n,r){if(n.l.s)for(const o of n.l.s)P(o);r()}function Vr(n,r){var d;var o=(d=n.$$events)==null?void 0:d[r.type],l=dn(o)?o.slice():o==null?[]:[o];for(var c of l)c.call(this,r)}function Uc(n,r,o){if(n==null)return r(void 0),o&&o(void 0),xi;const l=vt(()=>n.subscribe(r,o));return l.unsubscribe?()=>l.unsubscribe():l}const gi=[];function Us(n,r){return{subscribe:Hs(n,r).subscribe}}function Hs(n,r=xi){let o=null;const l=new Set;function c(f){if(ps(n,f)&&(n=f,o)){const p=!gi.length;for(const b of l)b[1](),gi.push(b,n);if(p){for(let b=0;b<gi.length;b+=2)gi[b][0](gi[b+1]);gi.length=0}}}function d(f){c(f(n))}function h(f,p=xi){const b=[f,p];return l.add(b),l.size===1&&(o=r(c,d)||xi),f(n),()=>{l.delete(b),l.size===0&&o&&(o(),o=null)}}return{set:c,update:d,subscribe:h}}function Gs(n,r,o){const l=!Array.isArray(n),c=l?[n]:n;if(!c.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const d=r.length<2;return Us(o,(h,f)=>{let p=!1;const b=[];let A=0,C=xi;const I=()=>{if(A)return;C();const S=r(l?b[0]:b,h,f);d?h(S):C=typeof S=="function"?S:xi},j=c.map((S,k)=>Uc(S,q=>{b[k]=q,A&=~(1<<k),p&&I()},()=>{A|=1<<k}));return p=!0,I(),function(){Qi(j),C(),p=!1}})}let Rn=!1;function Hc(n){var r=Rn;try{return Rn=!1,[n(),Rn]}finally{Rn=r}}const Gc={get(n,r){let o=n.props.length;for(;o--;){let l=n.props[o];if($i(l)&&(l=l()),typeof l=="object"&&l!==null&&r in l)return l[r]}},set(n,r,o){let l=n.props.length;for(;l--;){let c=n.props[l];$i(c)&&(c=c());const d=ze(c,r);if(d&&d.set)return d.set(o),!0}return!1},getOwnPropertyDescriptor(n,r){let o=n.props.length;for(;o--;){let l=n.props[o];if($i(l)&&(l=l()),typeof l=="object"&&l!==null&&r in l){const c=ze(l,r);return c&&!c.configurable&&(c.configurable=!0),c}}},has(n,r){if(r===De||r===ds)return!1;for(let o of n.props)if($i(o)&&(o=o()),o!=null&&r in o)return!0;return!1},ownKeys(n){const r=[];for(let o of n.props)if($i(o)&&(o=o()),!!o){for(const l in o)r.includes(l)||r.push(l);for(const l of Object.getOwnPropertySymbols(o))r.includes(l)||r.push(l)}return r}};function Yr(...n){return new Proxy({props:n},Gc)}function ne(n,r,o,l){var m;var c=!Mi||(o&Uu)!==0,d=(o&Gu)!==0,h=(o&Wu)!==0,f=l,p=!0,b=()=>(p&&(p=!1,f=h?vt(l):l),f),A;if(d){var C=De in n||ds in n;A=((m=ze(n,r))==null?void 0:m.set)??(C&&r in n?O=>n[r]=O:void 0)}var I,j=!1;d?[I,j]=Hc(()=>n[r]):I=n[r],I===void 0&&l!==void 0&&(I=b(),A&&(c&&zu(),A(I)));var S;if(c?S=()=>{var O=n[r];return O===void 0?b():(p=!0,O)}:S=()=>{var O=n[r];return O!==void 0&&(f=void 0),O===void 0?f:O},c&&(o&Hu)===0)return S;if(A){var k=n.$$legacy;return(function(O,x){return arguments.length>0?((!c||!x||k||j)&&A(x?S():O),O):S()})}var q=!1,Y=((o&Fu)!==0?Kn:uo)(()=>(q=!1,S()));d&&P(Y);var y=ft;return(function(O,x){if(arguments.length>0){const v=x?P(Y):c&&d?yi(O):O;return mt(Y,v),q=!0,f!==void 0&&(f=v),O}return ai&&q||(y.f&ni)!==0?Y.v:P(Y)})}function Te(n){yt===null&&Yn(),Mi&&yt.l!==null?Ws(yt).m.push(n):Ka(()=>{const r=vt(n);if(typeof r=="function")return r})}function Wc(n){yt===null&&Yn(),Te(()=>()=>vt(n))}function Vc(n,r,{bubbles:o=!1,cancelable:l=!1}={}){return new CustomEvent(n,{detail:r,bubbles:o,cancelable:l})}function Yc(){const n=yt;return n===null&&Yn(),(r,o,l)=>{var d;const c=(d=n.s.$$events)==null?void 0:d[r];if(c){const h=dn(c)?c.slice():[c],f=Vc(r,o,l);for(const p of h)p.call(n.x,f);return!f.defaultPrevented}return!0}}function $c(n){yt===null&&Yn(),yt.l===null&&Nu(),Ws(yt).a.push(n)}function Ws(n){var r=n.l;return r.u??(r.u={a:[],b:[],m:[]})}const Xc="5";var rs;typeof window<"u"&&((rs=window.__svelte??(window.__svelte={})).v??(rs.v=new Set)).add(Xc);Ju();function Kc(n,r){if(n instanceof RegExp)return{keys:!1,pattern:n};var o,l,c,d,h=[],f="",p=n.split("/");for(p[0]||p.shift();c=p.shift();)o=c[0],o==="*"?(h.push("wild"),f+="/(.*)"):o===":"?(l=c.indexOf("?",1),d=c.indexOf(".",1),h.push(c.substring(1,~l?l:~d?d:c.length)),f+=~l&&!~d?"(?:/([^/]+?))?":"/([^/]+?)",~d&&(f+=(~l?"?":"")+"\\"+c.substring(d))):f+="/"+c;return{keys:h,pattern:new RegExp("^"+f+"/?$","i")}}function $r(){const n=window.location.href.indexOf("#/");let r=n>-1?window.location.href.substr(n+1):"/";const o=r.indexOf("?");let l="";return o>-1&&(l=r.substr(o+1),r=r.substr(0,o)),{location:r,querystring:l}}const yo=Us(null,function(r){r($r());const o=()=>{r($r())};return window.addEventListener("hashchange",o,!1),function(){window.removeEventListener("hashchange",o,!1)}});Gs(yo,n=>n.location);Gs(yo,n=>n.querystring);const Xr=Hs(void 0);function kt(n,r){if(r=Jr(r),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Kr(n,r),{update(o){o=Jr(o),Kr(n,o)}}}function Jc(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Kr(n,r){let o=r.href||n.getAttribute("href");if(o&&o.charAt(0)=="/")o="#"+o;else if(!o||o.length<2||o.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+o);n.setAttribute("href",o),n.addEventListener("click",l=>{l.preventDefault(),r.disabled||Qc(l.currentTarget.getAttribute("href"))})}function Jr(n){return n&&typeof n=="string"?{href:n}:n||{}}function Qc(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function td(n,r){Ze(r,!1);let o=ne(r,"routes",24,()=>({})),l=ne(r,"prefix",8,""),c=ne(r,"restoreScrollState",8,!1);class d{constructor(v,E){if(!E||typeof E!="function"&&(typeof E!="object"||E._sveltesparouter!==!0))throw Error("Invalid component object");if(!v||typeof v=="string"&&(v.length<1||v.charAt(0)!="/"&&v.charAt(0)!="*")||typeof v=="object"&&!(v instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:G,keys:D}=Kc(v);this.path=v,typeof E=="object"&&E._sveltesparouter===!0?(this.component=E.component,this.conditions=E.conditions||[],this.userData=E.userData,this.props=E.props||{}):(this.component=()=>Promise.resolve(E),this.conditions=[],this.props={}),this._pattern=G,this._keys=D}match(v){if(l()){if(typeof l()=="string")if(v.startsWith(l()))v=v.substr(l().length)||"/";else return null;else if(l()instanceof RegExp){const K=v.match(l());if(K&&K[0])v=v.substr(K[0].length)||"/";else return null}}const E=this._pattern.exec(v);if(E===null)return null;if(this._keys===!1)return E;const G={};let D=0;for(;D<this._keys.length;){try{G[this._keys[D]]=decodeURIComponent(E[D+1]||"")||null}catch{G[this._keys[D]]=null}D++}return G}async checkConditions(v){for(let E=0;E<this.conditions.length;E++)if(!await this.conditions[E](v))return!1;return!0}}const h=[];o()instanceof Map?o().forEach((x,v)=>{h.push(new d(v,x))}):Object.keys(o()).forEach(x=>{h.push(new d(x,o()[x]))});let f=jt(null),p=jt(null),b=jt({});const A=Yc();async function C(x,v){await Tc(),A(x,v)}let I=null,j=null;c()&&(j=x=>{x.state&&(x.state.__svelte_spa_router_scrollY||x.state.__svelte_spa_router_scrollX)?I=x.state:I=null},window.addEventListener("popstate",j),$c(()=>{Jc(I)}));let S=null,k=null;const q=yo.subscribe(async x=>{S=x;let v=0;for(;v<h.length;){const E=h[v].match(x.location);if(!E){v++;continue}const G={route:h[v].path,location:x.location,querystring:x.querystring,userData:h[v].userData,params:E&&typeof E=="object"&&Object.keys(E).length?E:null};if(!await h[v].checkConditions(G)){mt(f,null),k=null,C("conditionsFailed",G);return}C("routeLoading",Object.assign({},G));const D=h[v].component;if(k!=D){D.loading?(mt(f,D.loading),k=D,mt(p,D.loadingParams),mt(b,{}),C("routeLoaded",Object.assign({},G,{component:P(f),name:P(f).name,params:P(p)}))):(mt(f,null),k=null);const K=await D();if(x!=S)return;mt(f,K&&K.default||K),k=D}E&&typeof E=="object"&&Object.keys(E).length?mt(p,E):mt(p,null),mt(b,h[v].props),C("routeLoaded",Object.assign({},G,{component:P(f),name:P(f).name,params:P(p)})).then(()=>{Xr.set(P(p))});return}mt(f,null),k=null,Xr.set(void 0)});Wc(()=>{q(),j&&window.removeEventListener("popstate",j)}),vc(()=>Zs(c()),()=>{history.scrollRestoration=c()?"manual":"auto"}),mc(),oi();var Y=Ei(),y=ie(Y);{var m=x=>{var v=Ei(),E=ie(v);qr(E,()=>P(f),(G,D)=>{D(G,Yr({get params(){return P(p)}},()=>P(b),{$$events:{routeEvent(K){Vr.call(this,r,K)}}}))}),ct(x,v)},O=x=>{var v=Ei(),E=ie(v);qr(E,()=>P(f),(G,D)=>{D(G,Yr(()=>P(b),{$$events:{routeEvent(K){Vr.call(this,r,K)}}}))}),ct(x,v)};Ne(y,x=>{P(p)?x(m):x(O,!1)})}ct(n,Y),qe()}const ed=[{title:"Nunca é noite no mapa",link:"/textos/nunca-e-moite-no-mapa"},{title:"Linhas",link:"/textos/linhas"}],id=[{title:"Quais linhas operaram veículos sem ar condicionado em 17 de fevereiro de 2025, durante a onda de calor Nível de Calor 4 (NC4)",link:"/mapas/mapa1",decodeRefs:["/decode/decode1"]},{title:"Lendo o censo, quem mora nas áreas atravessadas pela rota do 474? Uma leitura por cor/raça",link:"/mapas/mapa2",decodeRefs:["/decode/decode5"]}],nd=[{title:"Tabela com todos os registros de GPS",link:"https://console.cloud.google.com/bigquery?p=rj-smtr&d=br_rj_riodejaneiro_onibus_gps&t=sppo_registros&page=table",decodeRefs:[]},{title:"Tabela de posições de GPS de todos os validadores da Jaé instalados, incluindo estado do equipamento, serviço, sentido e veículo associado e temperatura do veículo.",link:"https://console.cloud.google.com/bigquery?p=rj-smtr&d=br_rj_riodejaneiro_bilhetagem&t=gps_validador&page=table",decodeRefs:["/decode/decode1"]},{title:"Tabela com os dados tratados de registros de GPS do SPPO, incluindo velocidade estimada, estado de movimento, parada em terminal ou garagem e interseção com o traçado da linha informada",link:"https://console.cloud.google.com/bigquery?p=rj-smtr&d=br_rj_riodejaneiro_veiculos&t=gps_sppo&page=table",decodeRefs:["/decode/decode5"]},{title:"Tabela de contagem do número de passageiros por hora. Agrega valores da tabela de transações por: data, hora, modo, consorcio, operadora, servico, sentido e tipo_transacao",link:"https://console.cloud.google.com/bigquery?p=rj-smtr&d=br_rj_riodejaneiro_bilhetagem&t=passageiros_hora&page=table",decodeRefs:["/decode/decode2"]},{title:"Tabela de contagem do número de passageiros por hora. Agrega valores da tabela de transações por: data, hora, modo, consorcio, operadora, servico, sentido e tipo de transacao",link:"https://console.cloud.google.com/bigquery?p=rj-smtr&d=br_rj_riodejaneiro_bilhetagem&t=passageiros_hora&page=table",decodeRefs:[]},{title:"GTFS - Viagens para cada rota",link:"https://console.cloud.google.com/bigquery?p=rj-smtr&d=gtfs&t=trips&page=table",decodeRefs:["/decode/decode1"]},{title:"GTFS - Shapes em formatos geográficos para cada rota",link:"https://console.cloud.google.com/bigquery?p=rj-smtr&d=gtfs&t=shapes_geom&page=table",decodeRefs:["/decode/decode1"]},{title:"Tabela com informações da Jaé sobre as transações realizadas no sistema de transporte municipal",link:"https://console.cloud.google.com/bigquery?p=rj-smtr&d=br_rj_riodejaneiro_bilhetagem&t=transacao&page=table",decodeRefs:[]},{title:"Censo Demográfico 2010: Agregados por Setores Censitários - Resultados do Universo",link:"https://ftp.ibge.gov.br/Censos/Censo_Demografico_2010/Resultados_do_Universo/Agregados_por_Setores_Censitarios/",decodeRefs:["/decode/decode5"]},{title:"Tabela de contagem do número de passageiros por hora. Agrega valores das tabelas transacao e transacao_riocard por: data, hora, modo, consorcio, operadora, servico, sentido, tipo_transacao e tile_id",link:"https://console.cloud.google.com/bigquery?p=rj-smtr&d=br_rj_riodejaneiro_bilhetagem&t=passageiros_tile_hora&page=table",decodeRefs:["/decode/decode2"]}],Qr=[{title:"Rio 60 graus",link:"/decode/decode1"},{title:"Indo ' alimentar ' os bairros ricos da zona sul",link:"/decode/decode2"},{title:"Voltando da praia",link:"/decode/decode3"},{title:"Superlotação",link:"/decode/decode4"},{title:"Uma questão de cor",link:"/decode/decode5"},{title:"Uma nova forma de exclusão a caminho?",link:"/decode/decode6"},{title:"Sempre em alerta ao que está acontecendo na Brasil",link:"/decode/decode7"},{title:"Com os pés molhados",link:"/decode/decode8"},{title:"As ambições do 1736",link:"/decode/decode9"}];var ad=gt(`<div class="intro svelte-16vucbo"><button class="close-btn svelte-16vucbo">✕</button> <p>Exercícios para decodificar o sistema de transportes através do uso
            crítico dos dados da Secretaria Municipal de Transportes da
            Prefeitura do Rio de Janeiro</p> <p style="font-size: 1rem; line-height:1.2rem">Oficina apresentada por <a href="http://alessandro.vado.li" target="_blank">Alessandro Musetta</a> e <a href="" target="_blank">Gabriel Weber</a><br/> 15 - 17 de setembro de 2025, Sala do Futuro, FAU/UFRJ,<br/> Organizada por <a href="https://www.observatoriodasmetropoles.net.br/" target="_blank">Observatório das Metrópoles</a> e CiDMobi - IPPUR/UFRJ</p></div> <div style="font-size: 0.9rem;text-align:start;border-bottom:1px solid #d2fb85; padding-bottom:20px;padding:2rem" class="cover svelte-16vucbo"><div class="cover-image svelte-16vucbo"><img src="cover.png" alt="Capa" class="svelte-16vucbo"/></div> <div class="cover-text svelte-16vucbo"><span><u>Instruções para se orientar neste espaço virtual.</u><br/>BIBLIOTECA: reúne recursos, textos, imagens e vídeos que
                contribuem para uma leitura crítica das dinâmicas urbanas.
                MAPAS: auxiliam a visualizar essas dinâmicas. DADOS: permitem
                decodificar o sistema de transportes dentro dessas dinâmicas
                urbanas. As</span> <span style="background-color:#d2fb85">DECODIFICAÇÕES</span> <span>são exercícios críticos com instruções detalhadas para a
                leitura do sistema de transportes.</span></div></div>`,1);function ts(n){let r=jt(!0);function o(){mt(r,!1)}var l=Ei(),c=ie(l);{var d=h=>{var f=ad(),p=ie(f),b=F(p);Nt("click",b,o),ct(h,f)};Ne(c,h=>{P(r)&&h(d)})}ct(n,l)}var od=gt(`<div class="intro svelte-1mey2gj">Nunca é noite no mapa</div> <p><i>Ernesto de Carvalho<br/>2016, 6 min</i></p> <div class="video-container svelte-1mey2gj"><iframe src="https://player.vimeo.com/video/175423925" width="640" height="360" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen="" class="svelte-1mey2gj"></iframe></div> <p>TEXTO COMPLETO DA NARRAÇÃO<br/><br/> A cidade onde moro, vista de cima,<br/> neste mapa aéreo, interpolado, solícito.<br/> Eu estou em uma dessas ruas,<br/> em uma dessas casas.<br/> Eu estou dentro do mapa.<br/> O mapa não se importa se eu estou dentro dele ou não;<br/> mas eu estou, dentro do mapa.<br/><br/> O mapa é indiferente, livre.<br/> O mapa não precisa de pernas, nem de asas.<br/> O mapa não anda, nem voa, nem corre,<br/> não sente desconforto, não tem opinião.<br/> Nunca chove dentro do mapa e não há vento no mapa.<br/> No mapa não há contramão nem velocidade.<br/> Pro mapa não tem engarrafamento, nem direção.<br/><br/> O mapa é um olho desincumbido de um corpo,<br/> e eu estou dentro do mapa, em algum lugar.<br/> Mesmo que eu tente me esconder,<br/> o mapa me encontra, e me contém.<br/> Eu estou dentro do mapa.<br/> Aí estou eu, dentro do mapa.<br/> Eu estou dentro do mapa.<br/> Esse sou eu, dentro do mapa.<br/> Não tive tempo de colocar os sapatos e saí de casa descalço<br/> pra fotografar o mapa.<br/><br/> E esse é o mapa.<br/><br/> O mapa é abstrato, o mapa é livre, imaterial.<br/> O mapa não precisa de pernas, nem de asas…<br/> O mapa não voa nem corre, não sente desconforto, e não tem opinião.<br/> E eu estou dentro do mapa, para sempre.<br/> Surpreso ao ver de perto o mapa<br/> tomar a forma de uma viatura.<br/> Flagrado no momento em que fui acometido de um súbito desejo<br/> de tentar impedir que ela entrasse no beco lá de casa.<br/> Tomado de curiosidade, e medo.<br/> Como alguém que uma vez identificado, e flagrado num crime,<br/> decide continuar, ao invés de oferecer-se à lei.<br/><br/> Foi aí que percebi a presença de um guarda.<br/> Ele poderia achar que eu estava incomodando o mapa,<br/> e poderia quem sabe interceder pelo mapa.<br/> Imaginei que eles teriam alguma espécie de acordo<br/> O guarda era como a própria viatura do mapa:<br/> profissional, organizado, diligente.<br/><br/> O mapa sem dúvida percorreria milhares de ruas<br/> sem se preocupar demais de não ter conseguido entrar direito no beco lá de
        casa.<br/><br/> Todos são iguais perante a lei<br/> e todos são iguais perante o mapa.<br/> As viaturas do mapa percorrem a cidade.<br/> As viaturas da polícia percorrem a cidade.<br/> Todos são iguais perante a lei,<br/> Todos são iguais perante o mapa.<br/> Sempre que a manifestação chega a esta altura da avenida,<br/><br/> já é de noite…<br/><br/> Em 2011 O mapa não podia entrar naquela rua de terra lá no fundo.<br/> Em 2012 O mapa ainda não podia entrar lá.<br/> Em 2013 também não.<br/> Dois anos depois…<br/> A viatura do mapa agora pode percorrer este espaço.<br/> Ao lado dessas outras viaturas…<br/> As viaturas da nova cidade…<br/> viaturas que abrem o caminho para a viatura do mapa, as viaturas da polícia
        e todas as outras viaturas.<br/><br/> Há 200 metros de onde as máquinas passaram, aluga-se casas e quarto.<br/> Aluga-se casas e quarto.<br/> Aluga-se casas e quarto.<br/> Aluga-se casas e quarto.<br/> As viaturas da nova cidade passaram.<br/><br/> Há 2 mil quilômetros dali, passaram as viaturas da polícia, imparciais,<br/> que garantiram a passagem das viaturas da nova cidade, olímpica,<br/> e em seguida passou a viatura do mapa, indiferente.<br/> Vai sair quem quiser, quem não quiser fica.<br/> Vai sair quem quiser, quem não quiser fica.<br/> Cidade bem policiada, cidade bem mapeada, canteiro de obras, bilheteria.<br/> O mapa é imparcial, não tem opinião,<br/><br/> É exatamente como aquele agente de segurança privada:<br/> não é representante do estado, nem da comunidade,<br/> a sua única preocupação é o acordo que tem com a propriedade.<br/><br/> Pro mapa não há governo, pro mapa não há guerra civil,<br/> não há golpe de estado, não há revolução.<br/> Nunca é noite no mapa.<br/><br/></p>`,1);function rd(n){let r=jt(!0);var o=Ei(),l=ie(o);{var c=d=>{var h=od();ct(d,h)};Ne(l,d=>{P(r)&&d(c)})}ct(n,o)}var sd=gt('<div class="linhas-wrapper svelte-1v0zsum"><iframe src="https://lsnmst.github.io/linhas" frameborder="0" class="linhas-frame svelte-1v0zsum"></iframe></div>');function ld(n){let r=jt(!0);var o=Ei(),l=ie(o);{var c=d=>{var h=sd();ct(d,h)};Ne(l,d=>{P(r)&&d(c)})}ct(n,o)}var ud=gt("<h1>Texto 1</h1> <p>Conteúdo do primeiro texto.</p>",1);function cd(n){var r=ud();ct(n,r)}var dd=gt("<h1>Texto 1</h1> <p>Conteúdo do primeiro texto.</p>",1);function hd(n){var r=dd();ct(n,r)}var At=function(){return At=Object.assign||function(r){for(var o,l=1,c=arguments.length;l<c;l++){o=arguments[l];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(r[d]=o[d])}return r},At.apply(this,arguments)};typeof window<"u"&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window.CustomEvent!="function"&&(window.CustomEvent=function(r,o){o=o||{bubbles:!1,cancelable:!1,detail:null};var l=document.createEvent("CustomEvent");return l.initCustomEvent(r,o.bubbles,o.cancelable,o.detail),l}));var fd=typeof document<"u"&&!!document.documentMode,Ba;function pd(){return Ba||(Ba=document.createElement("div").style)}var es=["webkit","moz","ms"],Nn={};function bo(n){if(Nn[n])return Nn[n];var r=pd();if(n in r)return Nn[n]=n;for(var o=n[0].toUpperCase()+n.slice(1),l=es.length;l--;){var c="".concat(es[l]).concat(o);if(c in r)return Nn[n]=c}}function zn(n,r){return parseFloat(r[bo(n)])||0}function Dn(n,r,o){o===void 0&&(o=window.getComputedStyle(n));var l=r==="border"?"Width":"";return{left:zn("".concat(r,"Left").concat(l),o),right:zn("".concat(r,"Right").concat(l),o),top:zn("".concat(r,"Top").concat(l),o),bottom:zn("".concat(r,"Bottom").concat(l),o)}}function bi(n,r,o){n.style[bo(r)]=o}function _d(n,r){var o=bo("transform");bi(n,"transition","".concat(o," ").concat(r.duration,"ms ").concat(r.easing))}function vd(n,r,o){var l=r.x,c=r.y,d=r.scale,h=r.isSVG;if(bi(n,"transform","scale(".concat(d,") translate(").concat(l,"px, ").concat(c,"px)")),h&&fd){var f=window.getComputedStyle(n).getPropertyValue("transform");n.setAttribute("transform",f)}}function Za(n){var r=n.parentNode,o=window.getComputedStyle(n),l=window.getComputedStyle(r),c=n.getBoundingClientRect(),d=r.getBoundingClientRect();return{elem:{style:o,width:c.width,height:c.height,top:c.top,bottom:c.bottom,left:c.left,right:c.right,margin:Dn(n,"margin",o),border:Dn(n,"border",o)},parent:{style:l,width:d.width,height:d.height,top:d.top,bottom:d.bottom,left:d.left,right:d.right,padding:Dn(r,"padding",l),border:Dn(r,"border",l)}}}var rn={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};typeof window<"u"&&(typeof window.PointerEvent=="function"?rn={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:typeof window.TouchEvent=="function"&&(rn={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));function qa(n,r,o,l){rn[n].split(" ").forEach(function(c){r.addEventListener(c,o,l)})}function Fa(n,r,o){rn[n].split(" ").forEach(function(l){r.removeEventListener(l,o)})}function Vs(n,r){for(var o=n.length;o--;)if(n[o].pointerId===r.pointerId)return o;return-1}function to(n,r){var o;if(r.touches){o=0;for(var l=0,c=r.touches;l<c.length;l++){var d=c[l];d.pointerId=o++,to(n,d)}return}o=Vs(n,r),o>-1&&n.splice(o,1),n.push(r)}function md(n,r){if(r.touches){for(;n.length;)n.pop();return}var o=Vs(n,r);o>-1&&n.splice(o,1)}function is(n){n=n.slice(0);for(var r=n.pop(),o;o=n.pop();)r={clientX:(o.clientX-r.clientX)/2+r.clientX,clientY:(o.clientY-r.clientY)/2+r.clientY};return r}function Ua(n){if(n.length<2)return 0;var r=n[0],o=n[1];return Math.sqrt(Math.pow(Math.abs(o.clientX-r.clientX),2)+Math.pow(Math.abs(o.clientY-r.clientY),2))}function gd(n){for(var r=n;r&&r.parentNode;){if(r.parentNode===document)return!0;r=r.parentNode instanceof ShadowRoot?r.parentNode.host:r.parentNode}return!1}function yd(n){return(n.getAttribute("class")||"").trim()}function bd(n,r){return n.nodeType===1&&" ".concat(yd(n)," ").indexOf(" ".concat(r," "))>-1}function xd(n,r){for(var o=n;o!=null;o=o.parentNode)if(bd(o,r.excludeClass)||r.exclude.indexOf(o)>-1)return!0;return!1}var wd=/^http:[\w\.\/]+svg$/;function Ed(n){return wd.test(n.namespaceURI)&&n.nodeName.toLowerCase()!=="svg"}function Td(n){var r={};for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);return r}var Ys={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:function(n){n.preventDefault(),n.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,pinchAndPan:!1,relative:!1,setTransform:vd,startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function ia(n,r){if(!n)throw new Error("Panzoom requires an element as an argument");if(n.nodeType!==1)throw new Error("Panzoom requires an element with a nodeType of 1");if(!gd(n))throw new Error("Panzoom should be called on elements that have been attached to the DOM");r=At(At({},Ys),r);var o=Ed(n),l=n.parentNode;l.style.overflow=r.overflow,l.style.userSelect="none",l.style.touchAction=r.touchAction,(r.canvas?l:n).style.cursor=r.cursor,n.style.userSelect="none",n.style.touchAction=r.touchAction,bi(n,"transformOrigin",typeof r.origin=="string"?r.origin:o?"0 0":"50% 50%");function c(){l.style.overflow="",l.style.userSelect="",l.style.touchAction="",l.style.cursor="",n.style.cursor="",n.style.userSelect="",n.style.touchAction="",bi(n,"transformOrigin","")}function d(M){M===void 0&&(M={});for(var T in M)M.hasOwnProperty(T)&&(r[T]=M[T]);(M.hasOwnProperty("cursor")||M.hasOwnProperty("canvas"))&&(l.style.cursor=n.style.cursor="",(r.canvas?l:n).style.cursor=r.cursor),M.hasOwnProperty("overflow")&&(l.style.overflow=M.overflow),M.hasOwnProperty("touchAction")&&(l.style.touchAction=M.touchAction,n.style.touchAction=M.touchAction)}var h=0,f=0,p=1,b=!1;k(r.startScale,{animate:!1,force:!0}),setTimeout(function(){S(r.startX,r.startY,{animate:!1,force:!0})});function A(M,T,z){if(!z.silent){var B=new CustomEvent(M,{detail:T});n.dispatchEvent(B)}}function C(M,T,z){var B={x:h,y:f,scale:p,isSVG:o,originalEvent:z};return requestAnimationFrame(function(){typeof T.animate=="boolean"&&(T.animate?_d(n,T):bi(n,"transition","none")),T.setTransform(n,B,T),A(M,B,T),A("panzoomchange",B,T)}),B}function I(M,T,z,B){var R=At(At({},r),B),U={x:h,y:f,opts:R};if(!R.force&&(R.disablePan||R.panOnlyWhenZoomed&&p===R.startScale))return U;if(M=parseFloat(M),T=parseFloat(T),R.disableXAxis||(U.x=(R.relative?h:0)+M),R.disableYAxis||(U.y=(R.relative?f:0)+T),R.contain){var Z=Za(n),$=Z.elem.width/p,rt=Z.elem.height/p,bt=$*z,Bt=rt*z,Mt=(bt-$)/2,Dt=(Bt-rt)/2;if(R.contain==="inside"){var oe=(-Z.elem.margin.left-Z.parent.padding.left+Mt)/z,re=(Z.parent.width-bt-Z.parent.padding.left-Z.elem.margin.left-Z.parent.border.left-Z.parent.border.right+Mt)/z;U.x=Math.max(Math.min(U.x,re),oe);var Ri=(-Z.elem.margin.top-Z.parent.padding.top+Dt)/z,ri=(Z.parent.height-Bt-Z.parent.padding.top-Z.elem.margin.top-Z.parent.border.top-Z.parent.border.bottom+Dt)/z;U.y=Math.max(Math.min(U.y,ri),Ri)}else if(R.contain==="outside"){var oe=(-(bt-Z.parent.width)-Z.parent.padding.left-Z.parent.border.left-Z.parent.border.right+Mt)/z,re=(Mt-Z.parent.padding.left)/z;U.x=Math.max(Math.min(U.x,re),oe);var Ri=(-(Bt-Z.parent.height)-Z.parent.padding.top-Z.parent.border.top-Z.parent.border.bottom+Dt)/z,ri=(Dt-Z.parent.padding.top)/z;U.y=Math.max(Math.min(U.y,ri),Ri)}}return R.roundPixels&&(U.x=Math.round(U.x),U.y=Math.round(U.y)),U}function j(M,T){var z=At(At({},r),T),B={scale:p,opts:z};if(!z.force&&z.disableZoom)return B;var R=r.minScale,U=r.maxScale;if(z.contain){var Z=Za(n),$=Z.elem.width/p,rt=Z.elem.height/p;if($>1&&rt>1){var bt=Z.parent.width-Z.parent.border.left-Z.parent.border.right,Bt=Z.parent.height-Z.parent.border.top-Z.parent.border.bottom,Mt=bt/$,Dt=Bt/rt;r.contain==="inside"?U=Math.min(U,Mt,Dt):r.contain==="outside"&&(R=Math.max(R,Mt,Dt))}}return B.scale=Math.min(Math.max(M,R),U),B}function S(M,T,z,B){var R=I(M,T,p,z);return h!==R.x||f!==R.y?(h=R.x,f=R.y,C("panzoompan",R.opts,B)):{x:h,y:f,scale:p,isSVG:o,originalEvent:B}}function k(M,T,z){var B=j(M,T),R=B.opts;if(!(!R.force&&R.disableZoom)){M=B.scale;var U=h,Z=f;if(R.focal){var $=R.focal;U=($.x/M-$.x/p+h*M)/M,Z=($.y/M-$.y/p+f*M)/M}var rt=I(U,Z,M,{relative:!1,force:!0});return h=rt.x,f=rt.y,p=M,C("panzoomzoom",R,z)}}function q(M,T){var z=At(At(At({},r),{animate:!0}),T);return k(p*Math.exp((M?1:-1)*z.step),z)}function Y(M){return q(!0,M)}function y(M){return q(!1,M)}function m(M,T,z,B){var R=Za(n),U={width:R.parent.width-R.parent.padding.left-R.parent.padding.right-R.parent.border.left-R.parent.border.right,height:R.parent.height-R.parent.padding.top-R.parent.padding.bottom-R.parent.border.top-R.parent.border.bottom},Z=T.clientX-R.parent.left-R.parent.padding.left-R.parent.border.left-R.elem.margin.left,$=T.clientY-R.parent.top-R.parent.padding.top-R.parent.border.top-R.elem.margin.top;o||(Z-=R.elem.width/p/2,$-=R.elem.height/p/2);var rt={x:Z/U.width*(U.width*M),y:$/U.height*(U.height*M)};return k(M,At(At({},z),{animate:!1,focal:rt}),B)}function O(M,T){M.preventDefault();var z=At(At(At({},r),T),{animate:!1}),B=M.deltaY===0&&M.deltaX?M.deltaX:M.deltaY,R=B<0?1:-1,U=j(p*Math.exp(R*z.step/3),z).scale;return m(U,M,z,M)}function x(M){var T=At(At(At({},r),{animate:!0,force:!0}),M);p=j(T.startScale,T).scale;var z=I(T.startX,T.startY,p,T);return h=z.x,f=z.y,C("panzoomreset",T)}var v,E,G,D,K,et,Q=[];function Ct(M){if(!xd(M.target,r)){to(Q,M),b=!0,r.handleStartEvent(M),v=h,E=f,A("panzoomstart",{x:h,y:f,scale:p,isSVG:o,originalEvent:M},r);var T=is(Q);G=T.clientX,D=T.clientY,K=p,et=Ua(Q)}}function J(M){if(!(!b||v===void 0||E===void 0||G===void 0||D===void 0)){to(Q,M);var T=is(Q),z=Q.length>1,B=p;if(z){et===0&&(et=Ua(Q));var R=Ua(Q)-et;B=j(R*r.step/80+K).scale,m(B,T,{animate:!1},M)}(!z||r.pinchAndPan)&&S(v+(T.clientX-G)/B,E+(T.clientY-D)/B,{animate:!1},M)}}function tt(M){Q.length===1&&A("panzoomend",{x:h,y:f,scale:p,isSVG:o,originalEvent:M},r),md(Q,M),b&&(b=!1,v=E=G=D=void 0)}var nt=!1;function ot(){nt||(nt=!0,qa("down",r.canvas?l:n,Ct),qa("move",document,J,{passive:!0}),qa("up",document,tt,{passive:!0}))}function H(){nt=!1,Fa("down",r.canvas?l:n,Ct),Fa("move",document,J),Fa("up",document,tt)}return r.noBind||ot(),{bind:ot,destroy:H,eventNames:rn,getPan:function(){return{x:h,y:f}},getScale:function(){return p},getOptions:function(){return Td(r)},handleDown:Ct,handleMove:J,handleUp:tt,pan:S,reset:x,resetStyle:c,setOptions:d,setStyle:function(M,T){return bi(n,M,T)},zoom:k,zoomIn:Y,zoomOut:y,zoomToPoint:m,zoomWithWheel:O}}ia.defaultOptions=Ys;var Pd=gt(`<h3 class="svelte-15snojb">Quais linhas colocaram para rodar, em 17 de fevereiro de 2025, veículos sem
    ar condicionado, cuja temperatura interna ultrapassou os 50 °C?</h3> <p class="svelte-15snojb">Este mapa mostra a distribuição das linhas que colocaram para rodar, em 17
    de fevereiro de 2025, veículos sem ar condicionado, cuja temperatura interna
    ultrapassou os 50 °C. Legenda: <span style="background-color:#ddd">extensão da rede de ônibus</span>, <span style="background-color:#c743c7">linhas sem ar condicionado</span>, <span style="background-color:#d2fb85">trajeto do 474</span>.</p> <div class="svg-wrapper svelte-15snojb"><div class="svg-container" style="border:1px solid #ccc; overflow:hidden; width:100%; height:100%;"></div> <div class="controls svelte-15snojb"><button class="svelte-15snojb">+</button> <button class="svelte-15snojb">–</button> <button class="svelte-15snojb">Reset</button></div></div>`,1);function $s(n,r){Ze(r,!1);let o=ne(r,"src",8,"temp.svg"),l=ne(r,"height",8,"500px"),c=ne(r,"width",8,"100%"),d=jt(),h;Te(async()=>{const y=`/474/${o()}`,O=await(await fetch(y)).text();ho(d,P(d).innerHTML=O);const x=P(d).querySelector("svg");x&&(h=ia(x,{contain:"outside",maxScale:10,minScale:1}),x.parentElement.addEventListener("wheel",v=>{v.ctrlKey&&(v.preventDefault(),h.zoomWithWheel(v))}))});function f(){h==null||h.zoomIn()}function p(){h==null||h.zoomOut()}function b(){h==null||h.reset()}oi();var A=Pd(),C=W(ie(A),4);let I;var j=F(C);Ti(j,y=>mt(d,y),()=>P(d));var S=W(j,2),k=F(S),q=W(k,2),Y=W(q,2);St(y=>I=ea(C,"",I,y),[()=>({width:c(),height:l()})]),Nt("click",k,f),Nt("click",q,p),Nt("click",Y,b),ct(n,A),qe()}var ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ji={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Ld=Ji.exports,as;function Sd(){return as||(as=1,(function(n,r){(function(o,l){l(r)})(Ld,(function(o){var l="1.9.4";function c(t){var e,i,a,s;for(i=1,a=arguments.length;i<a;i++){s=arguments[i];for(e in s)t[e]=s[e]}return t}var d=Object.create||(function(){function t(){}return function(e){return t.prototype=e,new t}})();function h(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var a=i.call(arguments,2);return function(){return t.apply(e,a.length?a.concat(i.call(arguments)):arguments)}}var f=0;function p(t){return"_leaflet_id"in t||(t._leaflet_id=++f),t._leaflet_id}function b(t,e,i){var a,s,u,_;return _=function(){a=!1,s&&(u.apply(i,s),s=!1)},u=function(){a?s=arguments:(t.apply(i,arguments),setTimeout(_,e),a=!0)},u}function A(t,e,i){var a=e[1],s=e[0],u=a-s;return t===a&&i?t:((t-s)%u+u)%u+s}function C(){return!1}function I(t,e){if(e===!1)return t;var i=Math.pow(10,e===void 0?6:e);return Math.round(t*i)/i}function j(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function S(t){return j(t).split(/\s+/)}function k(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?d(t.options):{});for(var i in e)t.options[i]=e[i];return t.options}function q(t,e,i){var a=[];for(var s in t)a.push(encodeURIComponent(i?s.toUpperCase():s)+"="+encodeURIComponent(t[s]));return(!e||e.indexOf("?")===-1?"?":"&")+a.join("&")}var Y=/\{ *([\w_ -]+) *\}/g;function y(t,e){return t.replace(Y,function(i,a){var s=e[a];if(s===void 0)throw new Error("No value provided for variable "+i);return typeof s=="function"&&(s=s(e)),s})}var m=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function O(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function v(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var E=0;function G(t){var e=+new Date,i=Math.max(0,16-(e-E));return E=e+i,window.setTimeout(t,i)}var D=window.requestAnimationFrame||v("RequestAnimationFrame")||G,K=window.cancelAnimationFrame||v("CancelAnimationFrame")||v("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function et(t,e,i){if(i&&D===G)t.call(e);else return D.call(window,h(t,e))}function Q(t){t&&K.call(window,t)}var Ct={__proto__:null,extend:c,create:d,bind:h,get lastId(){return f},stamp:p,throttle:b,wrapNum:A,falseFn:C,formatNum:I,trim:j,splitWords:S,setOptions:k,getParamString:q,template:y,isArray:m,indexOf:O,emptyImageUrl:x,requestFn:D,cancelFn:K,requestAnimFrame:et,cancelAnimFrame:Q};function J(){}J.extend=function(t){var e=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,a=d(i);a.constructor=e,e.prototype=a;for(var s in this)Object.prototype.hasOwnProperty.call(this,s)&&s!=="prototype"&&s!=="__super__"&&(e[s]=this[s]);return t.statics&&c(e,t.statics),t.includes&&(tt(t.includes),c.apply(null,[a].concat(t.includes))),c(a,t),delete a.statics,delete a.includes,a.options&&(a.options=i.options?d(i.options):{},c(a.options,t.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var u=0,_=a._initHooks.length;u<_;u++)a._initHooks[u].call(this)}},e},J.include=function(t){var e=this.prototype.options;return c(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},J.mergeOptions=function(t){return c(this.prototype.options,t),this},J.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};function tt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=m(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var nt={on:function(t,e,i){if(typeof t=="object")for(var a in t)this._on(a,t[a],e);else{t=S(t);for(var s=0,u=t.length;s<u;s++)this._on(t[s],e,i)}return this},off:function(t,e,i){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var a in t)this._off(a,t[a],e);else{t=S(t);for(var s=arguments.length===1,u=0,_=t.length;u<_;u++)s?this._off(t[u]):this._off(t[u],e,i)}return this},_on:function(t,e,i,a){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,i)===!1){i===this&&(i=void 0);var s={fn:e,ctx:i};a&&(s.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(s)}},_off:function(t,e,i){var a,s,u;if(this._events&&(a=this._events[t],!!a)){if(arguments.length===1){if(this._firingCount)for(s=0,u=a.length;s<u;s++)a[s].fn=C;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var _=this._listens(t,e,i);if(_!==!1){var g=a[_];this._firingCount&&(g.fn=C,this._events[t]=a=a.slice()),a.splice(_,1)}}},fire:function(t,e,i){if(!this.listens(t,i))return this;var a=c({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var u=0,_=s.length;u<_;u++){var g=s[u],w=g.fn;g.once&&this.off(t,w,g.ctx),w.call(g.ctx||this,a)}this._firingCount--}}return i&&this._propagateEvent(a),this},listens:function(t,e,i,a){typeof t!="string"&&console.warn('"string" type argument expected');var s=e;typeof e!="function"&&(a=!!e,s=void 0,i=void 0);var u=this._events&&this._events[t];if(u&&u.length&&this._listens(t,s,i)!==!1)return!0;if(a){for(var _ in this._eventParents)if(this._eventParents[_].listens(t,e,i,a))return!0}return!1},_listens:function(t,e,i){if(!this._events)return!1;var a=this._events[t]||[];if(!e)return!!a.length;i===this&&(i=void 0);for(var s=0,u=a.length;s<u;s++)if(a[s].fn===e&&a[s].ctx===i)return s;return!1},once:function(t,e,i){if(typeof t=="object")for(var a in t)this._on(a,t[a],e,!0);else{t=S(t);for(var s=0,u=t.length;s<u;s++)this._on(t[s],e,i,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[p(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[p(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,c({layer:t.target,propagatedFrom:t.target},t),!0)}};nt.addEventListener=nt.on,nt.removeEventListener=nt.clearAllEventListeners=nt.off,nt.addOneTimeEventListener=nt.once,nt.fireEvent=nt.fire,nt.hasEventListeners=nt.listens;var ot=J.extend(nt);function H(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var M=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(t){return this.clone()._add(T(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(T(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new H(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new H(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=M(this.x),this.y=M(this.y),this},distanceTo:function(t){t=T(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=T(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=T(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function T(t,e,i){return t instanceof H?t:m(t)?new H(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new H(t.x,t.y):new H(t,e,i)}function z(t,e){if(t)for(var i=e?[t,e]:t,a=0,s=i.length;a<s;a++)this.extend(i[a])}z.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof H||typeof t[0]=="number"||"x"in t)e=i=T(t);else if(t=B(t),e=t.min,i=t.max,!e||!i)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=i.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(t){return T((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return T(this.min.x,this.max.y)},getTopRight:function(){return T(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return typeof t[0]=="number"||t instanceof H?t=T(t):t=B(t),t instanceof z?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=B(t);var e=this.min,i=this.max,a=t.min,s=t.max,u=s.x>=e.x&&a.x<=i.x,_=s.y>=e.y&&a.y<=i.y;return u&&_},overlaps:function(t){t=B(t);var e=this.min,i=this.max,a=t.min,s=t.max,u=s.x>e.x&&a.x<i.x,_=s.y>e.y&&a.y<i.y;return u&&_},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,i=this.max,a=Math.abs(e.x-i.x)*t,s=Math.abs(e.y-i.y)*t;return B(T(e.x-a,e.y-s),T(i.x+a,i.y+s))},equals:function(t){return t?(t=B(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function B(t,e){return!t||t instanceof z?t:new z(t,e)}function R(t,e){if(t)for(var i=e?[t,e]:t,a=0,s=i.length;a<s;a++)this.extend(i[a])}R.prototype={extend:function(t){var e=this._southWest,i=this._northEast,a,s;if(t instanceof Z)a=t,s=t;else if(t instanceof R){if(a=t._southWest,s=t._northEast,!a||!s)return this}else return t?this.extend($(t)||U(t)):this;return!e&&!i?(this._southWest=new Z(a.lat,a.lng),this._northEast=new Z(s.lat,s.lng)):(e.lat=Math.min(a.lat,e.lat),e.lng=Math.min(a.lng,e.lng),i.lat=Math.max(s.lat,i.lat),i.lng=Math.max(s.lng,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,a=Math.abs(e.lat-i.lat)*t,s=Math.abs(e.lng-i.lng)*t;return new R(new Z(e.lat-a,e.lng-s),new Z(i.lat+a,i.lng+s))},getCenter:function(){return new Z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Z(this.getNorth(),this.getWest())},getSouthEast:function(){return new Z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Z||"lat"in t?t=$(t):t=U(t);var e=this._southWest,i=this._northEast,a,s;return t instanceof R?(a=t.getSouthWest(),s=t.getNorthEast()):a=s=t,a.lat>=e.lat&&s.lat<=i.lat&&a.lng>=e.lng&&s.lng<=i.lng},intersects:function(t){t=U(t);var e=this._southWest,i=this._northEast,a=t.getSouthWest(),s=t.getNorthEast(),u=s.lat>=e.lat&&a.lat<=i.lat,_=s.lng>=e.lng&&a.lng<=i.lng;return u&&_},overlaps:function(t){t=U(t);var e=this._southWest,i=this._northEast,a=t.getSouthWest(),s=t.getNorthEast(),u=s.lat>e.lat&&a.lat<i.lat,_=s.lng>e.lng&&a.lng<i.lng;return u&&_},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=U(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function U(t,e){return t instanceof R?t:new R(t,e)}function Z(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,i!==void 0&&(this.alt=+i)}Z.prototype={equals:function(t,e){if(!t)return!1;t=$(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+I(this.lat,t)+", "+I(this.lng,t)+")"},distanceTo:function(t){return bt.distance(this,$(t))},wrap:function(){return bt.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return U([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new Z(this.lat,this.lng,this.alt)}};function $(t,e,i){return t instanceof Z?t:m(t)&&typeof t[0]!="object"?t.length===3?new Z(t[0],t[1],t[2]):t.length===2?new Z(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Z(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new Z(t,e,i)}var rt={latLngToPoint:function(t,e){var i=this.projection.project(t),a=this.scale(e);return this.transformation._transform(i,a)},pointToLatLng:function(t,e){var i=this.scale(e),a=this.transformation.untransform(t,i);return this.projection.unproject(a)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),a=this.transformation.transform(e.min,i),s=this.transformation.transform(e.max,i);return new z(a,s)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?A(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?A(t.lat,this.wrapLat,!0):t.lat,a=t.alt;return new Z(i,e,a)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),a=e.lat-i.lat,s=e.lng-i.lng;if(a===0&&s===0)return t;var u=t.getSouthWest(),_=t.getNorthEast(),g=new Z(u.lat-a,u.lng-s),w=new Z(_.lat-a,_.lng-s);return new R(g,w)}},bt=c({},rt,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,a=t.lat*i,s=e.lat*i,u=Math.sin((e.lat-t.lat)*i/2),_=Math.sin((e.lng-t.lng)*i/2),g=u*u+Math.cos(a)*Math.cos(s)*_*_,w=2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g));return this.R*w}}),Bt=6378137,Mt={R:Bt,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,a=Math.max(Math.min(i,t.lat),-i),s=Math.sin(a*e);return new H(this.R*t.lng*e,this.R*Math.log((1+s)/(1-s))/2)},unproject:function(t){var e=180/Math.PI;return new Z((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(function(){var t=Bt*Math.PI;return new z([-t,-t],[t,t])})()};function Dt(t,e,i,a){if(m(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=i,this._d=a}Dt.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new H((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function oe(t,e,i,a){return new Dt(t,e,i,a)}var re=c({},bt,{code:"EPSG:3857",projection:Mt,transformation:(function(){var t=.5/(Math.PI*Mt.R);return oe(t,.5,-t,.5)})()}),Ri=c({},re,{code:"EPSG:900913"});function ri(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function wo(t,e){var i="",a,s,u,_,g,w;for(a=0,u=t.length;a<u;a++){for(g=t[a],s=0,_=g.length;s<_;s++)w=g[s],i+=(s?"L":"M")+w.x+" "+w.y;i+=e?X.svg?"z":"x":""}return i||"M0 0"}var na=document.documentElement.style,_n="ActiveXObject"in window,Js=_n&&!document.addEventListener,Eo="msLaunchUri"in navigator&&!("documentMode"in document),aa=de("webkit"),To=de("android"),Po=de("android 2")||de("android 3"),Qs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),tl=To&&de("Google")&&Qs<537&&!("AudioNode"in window),oa=!!window.opera,Lo=!Eo&&de("chrome"),So=de("gecko")&&!aa&&!oa&&!_n,el=!Lo&&de("safari"),Ao=de("phantom"),Co="OTransition"in na,il=navigator.platform.indexOf("Win")===0,Oo=_n&&"transition"in na,ra="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Po,ko="MozPerspective"in na,nl=!window.L_DISABLE_3D&&(Oo||ra||ko)&&!Co&&!Ao,Ni=typeof orientation<"u"||de("mobile"),al=Ni&&aa,ol=Ni&&ra,Mo=!window.PointerEvent&&window.MSPointerEvent,Io=!!(window.PointerEvent||Mo),Ro="ontouchstart"in window||!!window.TouchEvent,rl=!window.L_NO_TOUCH&&(Ro||Io),sl=Ni&&oa,ll=Ni&&So,ul=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,cl=(function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",C,e),window.removeEventListener("testPassiveEventSupport",C,e)}catch{}return t})(),dl=(function(){return!!document.createElement("canvas").getContext})(),sa=!!(document.createElementNS&&ri("svg").createSVGRect),hl=!!sa&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),fl=!sa&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}})(),pl=navigator.platform.indexOf("Mac")===0,_l=navigator.platform.indexOf("Linux")===0;function de(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var X={ie:_n,ielt9:Js,edge:Eo,webkit:aa,android:To,android23:Po,androidStock:tl,opera:oa,chrome:Lo,gecko:So,safari:el,phantom:Ao,opera12:Co,win:il,ie3d:Oo,webkit3d:ra,gecko3d:ko,any3d:nl,mobile:Ni,mobileWebkit:al,mobileWebkit3d:ol,msPointer:Mo,pointer:Io,touch:rl,touchNative:Ro,mobileOpera:sl,mobileGecko:ll,retina:ul,passiveEvents:cl,canvas:dl,svg:sa,vml:fl,inlineSvg:hl,mac:pl,linux:_l},No=X.msPointer?"MSPointerDown":"pointerdown",zo=X.msPointer?"MSPointerMove":"pointermove",Do=X.msPointer?"MSPointerUp":"pointerup",jo=X.msPointer?"MSPointerCancel":"pointercancel",la={touchstart:No,touchmove:zo,touchend:Do,touchcancel:jo},Bo={touchstart:xl,touchmove:vn,touchend:vn,touchcancel:vn},si={},Zo=!1;function vl(t,e,i){return e==="touchstart"&&bl(),Bo[e]?(i=Bo[e].bind(this,i),t.addEventListener(la[e],i,!1),i):(console.warn("wrong event specified:",e),C)}function ml(t,e,i){if(!la[e]){console.warn("wrong event specified:",e);return}t.removeEventListener(la[e],i,!1)}function gl(t){si[t.pointerId]=t}function yl(t){si[t.pointerId]&&(si[t.pointerId]=t)}function qo(t){delete si[t.pointerId]}function bl(){Zo||(document.addEventListener(No,gl,!0),document.addEventListener(zo,yl,!0),document.addEventListener(Do,qo,!0),document.addEventListener(jo,qo,!0),Zo=!0)}function vn(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var i in si)e.touches.push(si[i]);e.changedTouches=[e],t(e)}}function xl(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&It(e),vn(t,e)}function wl(t){var e={},i,a;for(a in t)i=t[a],e[a]=i&&i.bind?i.bind(t):i;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var El=200;function Tl(t,e){t.addEventListener("dblclick",e);var i=0,a;function s(u){if(u.detail!==1){a=u.detail;return}if(!(u.pointerType==="mouse"||u.sourceCapabilities&&!u.sourceCapabilities.firesTouchEvents)){var _=Wo(u);if(!(_.some(function(w){return w instanceof HTMLLabelElement&&w.attributes.for})&&!_.some(function(w){return w instanceof HTMLInputElement||w instanceof HTMLSelectElement}))){var g=Date.now();g-i<=El?(a++,a===2&&e(wl(u))):a=1,i=g}}}return t.addEventListener("click",s),{dblclick:e,simDblclick:s}}function Pl(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var ua=yn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zi=yn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Fo=zi==="webkitTransition"||zi==="OTransition"?zi+"End":"transitionend";function Uo(t){return typeof t=="string"?document.getElementById(t):t}function Di(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||i==="auto")&&document.defaultView){var a=document.defaultView.getComputedStyle(t,null);i=a?a[e]:null}return i==="auto"?null:i}function pt(t,e,i){var a=document.createElement(t);return a.className=e||"",i&&i.appendChild(a),a}function wt(t){var e=t.parentNode;e&&e.removeChild(t)}function mn(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function li(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ui(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ca(t,e){if(t.classList!==void 0)return t.classList.contains(e);var i=gn(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function st(t,e){if(t.classList!==void 0)for(var i=S(e),a=0,s=i.length;a<s;a++)t.classList.add(i[a]);else if(!ca(t,e)){var u=gn(t);da(t,(u?u+" ":"")+e)}}function Et(t,e){t.classList!==void 0?t.classList.remove(e):da(t,j((" "+gn(t)+" ").replace(" "+e+" "," ")))}function da(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function gn(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Xt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Ll(t,e)}function Ll(t,e){var i=!1,a="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(a)}catch{if(e===1)return}e=Math.round(e*100),i?(i.Enabled=e!==100,i.Opacity=e):t.style.filter+=" progid:"+a+"(opacity="+e+")"}function yn(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function Fe(t,e,i){var a=e||new H(0,0);t.style[ua]=(X.ie3d?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(i?" scale("+i+")":"")}function Pt(t,e){t._leaflet_pos=e,X.any3d?Fe(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ue(t){return t._leaflet_pos||new H(0,0)}var ji,Bi,ha;if("onselectstart"in document)ji=function(){at(window,"selectstart",It)},Bi=function(){xt(window,"selectstart",It)};else{var Zi=yn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ji=function(){if(Zi){var t=document.documentElement.style;ha=t[Zi],t[Zi]="none"}},Bi=function(){Zi&&(document.documentElement.style[Zi]=ha,ha=void 0)}}function fa(){at(window,"dragstart",It)}function pa(){xt(window,"dragstart",It)}var bn,_a;function va(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(xn(),bn=t,_a=t.style.outlineStyle,t.style.outlineStyle="none",at(window,"keydown",xn))}function xn(){bn&&(bn.style.outlineStyle=_a,bn=void 0,_a=void 0,xt(window,"keydown",xn))}function Ho(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function ma(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Sl={__proto__:null,TRANSFORM:ua,TRANSITION:zi,TRANSITION_END:Fo,get:Uo,getStyle:Di,create:pt,remove:wt,empty:mn,toFront:li,toBack:ui,hasClass:ca,addClass:st,removeClass:Et,setClass:da,getClass:gn,setOpacity:Xt,testProp:yn,setTransform:Fe,setPosition:Pt,getPosition:Ue,get disableTextSelection(){return ji},get enableTextSelection(){return Bi},disableImageDrag:fa,enableImageDrag:pa,preventOutline:va,restoreOutline:xn,getSizedParentNode:Ho,getScale:ma};function at(t,e,i,a){if(e&&typeof e=="object")for(var s in e)ya(t,s,e[s],i);else{e=S(e);for(var u=0,_=e.length;u<_;u++)ya(t,e[u],i,a)}return this}var he="_leaflet_events";function xt(t,e,i,a){if(arguments.length===1)Go(t),delete t[he];else if(e&&typeof e=="object")for(var s in e)ba(t,s,e[s],i);else if(e=S(e),arguments.length===2)Go(t,function(g){return O(e,g)!==-1});else for(var u=0,_=e.length;u<_;u++)ba(t,e[u],i,a);return this}function Go(t,e){for(var i in t[he]){var a=i.split(/\d/)[0];(!e||e(a))&&ba(t,a,null,null,i)}}var ga={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ya(t,e,i,a){var s=e+p(i)+(a?"_"+p(a):"");if(t[he]&&t[he][s])return this;var u=function(g){return i.call(a||t,g||window.event)},_=u;!X.touchNative&&X.pointer&&e.indexOf("touch")===0?u=vl(t,e,u):X.touch&&e==="dblclick"?u=Tl(t,u):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(ga[e]||e,u,X.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(u=function(g){g=g||window.event,wa(t,g)&&_(g)},t.addEventListener(ga[e],u,!1)):t.addEventListener(e,_,!1):t.attachEvent("on"+e,u),t[he]=t[he]||{},t[he][s]=u}function ba(t,e,i,a,s){s=s||e+p(i)+(a?"_"+p(a):"");var u=t[he]&&t[he][s];if(!u)return this;!X.touchNative&&X.pointer&&e.indexOf("touch")===0?ml(t,e,u):X.touch&&e==="dblclick"?Pl(t,u):"removeEventListener"in t?t.removeEventListener(ga[e]||e,u,!1):t.detachEvent("on"+e,u),t[he][s]=null}function He(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function xa(t){return ya(t,"wheel",He),this}function qi(t){return at(t,"mousedown touchstart dblclick contextmenu",He),t._leaflet_disable_click=!0,this}function It(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ge(t){return It(t),He(t),this}function Wo(t){if(t.composedPath)return t.composedPath();for(var e=[],i=t.target;i;)e.push(i),i=i.parentNode;return e}function Vo(t,e){if(!e)return new H(t.clientX,t.clientY);var i=ma(e),a=i.boundingClientRect;return new H((t.clientX-a.left)/i.x-e.clientLeft,(t.clientY-a.top)/i.y-e.clientTop)}var Al=X.linux&&X.chrome?window.devicePixelRatio:X.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Yo(t){return X.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Al:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function wa(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch{return!1}return i!==t}var Cl={__proto__:null,on:at,off:xt,stopPropagation:He,disableScrollPropagation:xa,disableClickPropagation:qi,preventDefault:It,stop:Ge,getPropagationPath:Wo,getMousePosition:Vo,getWheelDelta:Yo,isExternalTarget:wa,addListener:at,removeListener:xt},$o=ot.extend({run:function(t,e,i,a){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=Ue(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=et(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=this._duration*1e3;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),Pt(this._el,i),this.fire("step")},_complete:function(){Q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ht=ot.extend({options:{crs:re,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=k(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView($(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zi&&X.any3d&&!X.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),at(this._proxy,Fo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter($(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==void 0&&(i.zoom=c({animate:i.animate},i.zoom),i.pan=c({animate:i.animate,duration:i.duration},i.pan));var a=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan);if(a)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,i.pan&&i.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(X.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(X.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var a=this.getZoomScale(e),s=this.getSize().divideBy(2),u=t instanceof H?t:this.latLngToContainerPoint(t),_=u.subtract(s).multiplyBy(1-1/a),g=this.containerPointToLatLng(s.add(_));return this.setView(g,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():U(t);var i=T(e.paddingTopLeft||e.padding||[0,0]),a=T(e.paddingBottomRight||e.padding||[0,0]),s=this.getBoundsZoom(t,!1,i.add(a));if(s=typeof e.maxZoom=="number"?Math.min(e.maxZoom,s):s,s===1/0)return{center:t.getCenter(),zoom:s};var u=a.subtract(i).divideBy(2),_=this.project(t.getSouthWest(),s),g=this.project(t.getNorthEast(),s),w=this.unproject(_.add(g).divideBy(2).add(u),s);return{center:w,zoom:s}},fitBounds:function(t,e){if(t=U(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=T(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $o,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){st(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(i=i||{},i.animate===!1||!X.any3d)return this.setView(t,e,i);this._stop();var a=this.project(this.getCenter()),s=this.project(t),u=this.getSize(),_=this._zoom;t=$(t),e=e===void 0?_:e;var g=Math.max(u.x,u.y),w=g*this.getZoomScale(_,e),N=s.distanceTo(a)||1,V=1.42,it=V*V;function lt(Lt){var In=Lt?-1:1,mu=Lt?w:g,gu=w*w-g*g+In*it*it*N*N,yu=2*mu*it*N,Ia=gu/yu,Cr=Math.sqrt(Ia*Ia+1)-Ia,bu=Cr<1e-9?-18:Math.log(Cr);return bu}function Zt(Lt){return(Math.exp(Lt)-Math.exp(-Lt))/2}function Ot(Lt){return(Math.exp(Lt)+Math.exp(-Lt))/2}function Jt(Lt){return Zt(Lt)/Ot(Lt)}var Ht=lt(0);function _i(Lt){return g*(Ot(Ht)/Ot(Ht+V*Lt))}function fu(Lt){return g*(Ot(Ht)*Jt(Ht+V*Lt)-Zt(Ht))/it}function pu(Lt){return 1-Math.pow(1-Lt,1.5)}var _u=Date.now(),Sr=(lt(1)-Ht)/V,vu=i.duration?1e3*i.duration:1e3*Sr*.8;function Ar(){var Lt=(Date.now()-_u)/vu,In=pu(Lt)*Sr;Lt<=1?(this._flyToFrame=et(Ar,this),this._move(this.unproject(a.add(s.subtract(a).multiplyBy(fu(In)/N)),_),this.getScaleZoom(g/_i(In),_),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),Ar.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=U(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),a=this._limitCenter(i,this._zoom,U(t));return i.equals(a)||this.panTo(a,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var i=T(e.paddingTopLeft||e.padding||[0,0]),a=T(e.paddingBottomRight||e.padding||[0,0]),s=this.project(this.getCenter()),u=this.project(t),_=this.getPixelBounds(),g=B([_.min.add(i),_.max.subtract(a)]),w=g.getSize();if(!g.contains(u)){this._enforcingBounds=!0;var N=u.subtract(g.getCenter()),V=g.extend(u).getSize().subtract(w);s.x+=N.x<0?-V.x:V.x,s.y+=N.y<0?-V.y:V.y,this.panTo(this.unproject(s),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=c({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),a=e.divideBy(2).round(),s=i.divideBy(2).round(),u=a.subtract(s);return!u.x&&!u.y?this:(t.animate&&t.pan?this.panBy(u):(t.pan&&this._rawPanBy(u),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=c({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=h(this._handleGeolocationResponse,this),i=h(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,i=t.coords.longitude,a=new Z(e,i),s=a.toBounds(t.coords.accuracy*2),u=this._locateOptions;if(u.setView){var _=this.getBoundsZoom(s);this.setView(a,u.maxZoom?Math.min(_,u.maxZoom):_)}var g={latlng:a,bounds:s,timestamp:t.timestamp};for(var w in t.coords)typeof t.coords[w]=="number"&&(g[w]=t.coords[w]);this.fire("locationfound",g)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)wt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),a=pt("div",i,e||this._mapPane);return t&&(this._panes[t]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new R(e,i)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=U(t),i=T(i||[0,0]);var a=this.getZoom()||0,s=this.getMinZoom(),u=this.getMaxZoom(),_=t.getNorthWest(),g=t.getSouthEast(),w=this.getSize().subtract(i),N=B(this.project(g,a),this.project(_,a)).getSize(),V=X.any3d?this.options.zoomSnap:1,it=w.x/N.x,lt=w.y/N.y,Zt=e?Math.max(it,lt):Math.min(it,lt);return a=this.getScaleZoom(Zt,a),V&&(a=Math.round(a/(V/100))*(V/100),a=e?Math.ceil(a/V)*V:Math.floor(a/V)*V),Math.max(s,Math.min(u,a))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new z(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=e===void 0?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=e===void 0?this._zoom:e;var a=i.zoom(t*i.scale(e));return isNaN(a)?1/0:a},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint($(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(T(t),e)},layerPointToLatLng:function(t){var e=T(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project($(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng($(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(U(t))},distance:function(t,e){return this.options.crs.distance($(t),$(e))},containerPointToLayerPoint:function(t){return T(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return T(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(T(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint($(t)))},mouseEventToContainerPoint:function(t){return Vo(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=Uo(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");at(e,"scroll",this._onScroll,this),this._containerId=p(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&X.any3d,st(t,"leaflet-container"+(X.touch?" leaflet-touch":"")+(X.retina?" leaflet-retina":"")+(X.ielt9?" leaflet-oldie":"")+(X.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=Di(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pt(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(st(t.markerPane,"leaflet-zoom-hide"),st(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){Pt(this._mapPane,new H(0,0));var a=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var s=this._zoom!==e;this._moveStart(s,i)._move(t,e)._moveEnd(s),this.fire("viewreset"),a&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,a){e===void 0&&(e=this._zoom);var s=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),a?i&&i.pinch&&this.fire("zoom",i):((s||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Pt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[p(this._container)]=this;var e=t?xt:at;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),X.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Q(this._resizeRequest),this._resizeRequest=et(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i=[],a,s=e==="mouseout"||e==="mouseover",u=t.target||t.srcElement,_=!1;u;){if(a=this._targets[p(u)],a&&(e==="click"||e==="preclick")&&this._draggableMoved(a)){_=!0;break}if(a&&a.listens(e,!0)&&(s&&!wa(u,t)||(i.push(a),s))||u===this._container)break;u=u.parentNode}return!i.length&&!_&&!s&&this.listens(e,!0)&&(i=[this]),i},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var i=t.type;i==="mousedown"&&va(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if(t.type==="click"){var a=c({},t);a.type="preclick",this._fireDOMEvent(a,a.type,i)}var s=this._findEventTargets(t,e);if(i){for(var u=[],_=0;_<i.length;_++)i[_].listens(e,!0)&&u.push(i[_]);s=u.concat(s)}if(s.length){e==="contextmenu"&&It(t);var g=s[0],w={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var N=g.getLatLng&&(!g._radius||g._radius<=10);w.containerPoint=N?this.latLngToContainerPoint(g.getLatLng()):this.mouseEventToContainerPoint(t),w.layerPoint=this.containerPointToLayerPoint(w.containerPoint),w.latlng=N?g.getLatLng():this.layerPointToLatLng(w.layerPoint)}for(_=0;_<s.length;_++)if(s[_].fire(e,w,!0),w.originalEvent._stopped||s[_].options.bubblingMouseEvents===!1&&O(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ue(this._mapPane)||new H(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var a=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(a)},_latLngBoundsToNewLayerBounds:function(t,e,i){var a=this._getNewPixelOrigin(i,e);return B([this.project(t.getSouthWest(),e)._subtract(a),this.project(t.getNorthWest(),e)._subtract(a),this.project(t.getSouthEast(),e)._subtract(a),this.project(t.getNorthEast(),e)._subtract(a)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var a=this.project(t,e),s=this.getSize().divideBy(2),u=new z(a.subtract(s),a.add(s)),_=this._getBoundsOffset(u,i,e);return Math.abs(_.x)<=1&&Math.abs(_.y)<=1?t:this.unproject(a.add(_),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),a=new z(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(a,e))},_getBoundsOffset:function(t,e,i){var a=B(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),s=a.min.subtract(t.min),u=a.max.subtract(t.max),_=this._rebound(s.x,-u.x),g=this._rebound(s.y,-u.y);return new H(_,g)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),a=X.any3d?this.options.zoomSnap:1;return a&&(t=Math.round(t/a)*a),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Et(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=ua,a=this._proxy.style[i];Fe(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),a===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Fe(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(e),s=this._getCenterOffset(t)._divideBy(1-1/a);return i.animate!==!0&&!this.getSize().contains(s)?!1:(et(function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,a){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,st(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:a}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Et(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ol(t,e){return new ht(t,e)}var se=J.extend({options:{position:"topright"},initialize:function(t){k(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),a=t._controlCorners[i];return st(e,"leaflet-control"),i.indexOf("bottom")!==-1?a.insertBefore(e,a.firstChild):a.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Fi=function(t){return new se(t)};ht.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=pt("div",e+"control-container",this._container);function a(s,u){var _=e+s+" "+e+u;t[s+u]=pt("div",_,i)}a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)wt(this._controlCorners[t]);wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xo=se.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,a){return i<a?-1:a<i?1:0}},initialize:function(t,e,i){k(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var a in t)this._addLayer(t[a],a);for(a in e)this._addLayer(e[a],a,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return se.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(p(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){st(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(st(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Et(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Et(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=pt("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),qi(e),xa(e);var a=this._section=pt("section",t+"-list");i&&(this._map.on("click",this.collapse,this),at(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var s=this._layersLink=pt("a",t+"-toggle",e);s.href="#",s.title="Layers",s.setAttribute("role","button"),at(s,{keydown:function(u){u.keyCode===13&&this._expandSafely()},click:function(u){It(u),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=pt("div",t+"-base",a),this._separator=pt("div",t+"-separator",a),this._overlaysList=pt("div",t+"-overlays",a),e.appendChild(a)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&p(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(h(function(a,s){return this.options.sortFunction(a.layer,s.layer,a.name,s.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mn(this._baseLayersList),mn(this._overlaysList),this._layerControlInputs=[];var t,e,i,a,s=0;for(i=0;i<this._layers.length;i++)a=this._layers[i],this._addItem(a),e=e||a.overlay,t=t||!a.overlay,s+=a.overlay?0:1;return this.options.hideSingleBase&&(t=t&&s>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(p(t.target)),i=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",a=document.createElement("div");return a.innerHTML=i,a.firstChild},_addItem:function(t){var e=document.createElement("label"),i=this._map.hasLayer(t.layer),a;t.overlay?(a=document.createElement("input"),a.type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=i):a=this._createRadioElement("leaflet-base-layers_"+p(this),i),this._layerControlInputs.push(a),a.layerId=p(t.layer),at(a,"click",this._onInputClick,this);var s=document.createElement("span");s.innerHTML=" "+t.name;var u=document.createElement("span");e.appendChild(u),u.appendChild(a),u.appendChild(s);var _=t.overlay?this._overlaysList:this._baseLayersList;return _.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,i,a=[],s=[];this._handlingClick=!0;for(var u=t.length-1;u>=0;u--)e=t[u],i=this._getLayer(e.layerId).layer,e.checked?a.push(i):e.checked||s.push(i);for(u=0;u<s.length;u++)this._map.hasLayer(s[u])&&this._map.removeLayer(s[u]);for(u=0;u<a.length;u++)this._map.hasLayer(a[u])||this._map.addLayer(a[u]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,i,a=this._map.getZoom(),s=t.length-1;s>=0;s--)e=t[s],i=this._getLayer(e.layerId).layer,e.disabled=i.options.minZoom!==void 0&&a<i.options.minZoom||i.options.maxZoom!==void 0&&a>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,at(t,"click",It),this.expand();var e=this;setTimeout(function(){xt(t,"click",It),e._preventClick=!1})}}),kl=function(t,e,i){return new Xo(t,e,i)},Ea=se.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=pt("div",e+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,a,s){var u=pt("a",i,a);return u.innerHTML=t,u.href="#",u.title=e,u.setAttribute("role","button"),u.setAttribute("aria-label",e),qi(u),at(u,"click",Ge),at(u,"click",s,this),at(u,"click",this._refocusOnMap,this),u},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";Et(this._zoomInButton,e),Et(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(st(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(st(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});ht.mergeOptions({zoomControl:!0}),ht.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ea,this.addControl(this.zoomControl))});var Ml=function(t){return new Ea(t)},Ko=se.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=pt("div",e),a=this.options;return this._addScales(a,e+"-line",i),t.on(a.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=pt("div",e,i)),t.imperial&&(this._iScale=pt("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e=t*3.2808399,i,a,s;e>5280?(i=e/5280,a=this._getRoundNum(i),this._updateScale(this._iScale,a+" mi",a/i)):(s=this._getRoundNum(e),this._updateScale(this._iScale,s+" ft",s/e))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),Il=function(t){return new Ko(t)},Rl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ta=se.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(X.inlineSvg?Rl+" ":"")+"Leaflet</a>"},initialize:function(t){k(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),qi(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});ht.mergeOptions({attributionControl:!0}),ht.addInitHook(function(){this.options.attributionControl&&new Ta().addTo(this)});var Nl=function(t){return new Ta(t)};se.Layers=Xo,se.Zoom=Ea,se.Scale=Ko,se.Attribution=Ta,Fi.layers=kl,Fi.zoom=Ml,Fi.scale=Il,Fi.attribution=Nl;var fe=J.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fe.addTo=function(t,e){return t.addHandler(e,this),this};var zl={Events:nt},Jo=X.touch?"touchstart mousedown":"mousedown",Se=ot.extend({options:{clickTolerance:3},initialize:function(t,e,i,a){k(this,a),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(at(this._dragStartTarget,Jo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Se._dragging===this&&this.finishDrag(!0),xt(this._dragStartTarget,Jo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ca(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Se._dragging===this&&this.finishDrag();return}if(!(Se._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Se._dragging=this,this._preventOutline&&va(this._element),fa(),ji(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,i=Ho(this._element);this._startPoint=new H(e.clientX,e.clientY),this._startPos=Ue(this._element),this._parentScale=ma(i);var a=t.type==="mousedown";at(document,a?"mousemove":"touchmove",this._onMove,this),at(document,a?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,i=new H(e.clientX,e.clientY)._subtract(this._startPoint);!i.x&&!i.y||Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,It(t),this._moved||(this.fire("dragstart"),this._moved=!0,st(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),st(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Pt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Et(document.body,"leaflet-dragging"),this._lastTarget&&(Et(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xt(document,"mousemove touchmove",this._onMove,this),xt(document,"mouseup touchend touchcancel",this._onUp,this),pa(),Bi();var e=this._moved&&this._moving;this._moving=!1,Se._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Qo(t,e,i){var a,s=[1,4,2,8],u,_,g,w,N,V,it,lt;for(u=0,V=t.length;u<V;u++)t[u]._code=We(t[u],e);for(g=0;g<4;g++){for(it=s[g],a=[],u=0,V=t.length,_=V-1;u<V;_=u++)w=t[u],N=t[_],w._code&it?N._code&it||(lt=wn(N,w,it,e,i),lt._code=We(lt,e),a.push(lt)):(N._code&it&&(lt=wn(N,w,it,e,i),lt._code=We(lt,e),a.push(lt)),a.push(w));t=a}return t}function tr(t,e){var i,a,s,u,_,g,w,N,V;if(!t||t.length===0)throw new Error("latlngs not passed");Kt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var it=$([0,0]),lt=U(t),Zt=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());Zt<1700&&(it=Pa(t));var Ot=t.length,Jt=[];for(i=0;i<Ot;i++){var Ht=$(t[i]);Jt.push(e.project($([Ht.lat-it.lat,Ht.lng-it.lng])))}for(g=w=N=0,i=0,a=Ot-1;i<Ot;a=i++)s=Jt[i],u=Jt[a],_=s.y*u.x-u.y*s.x,w+=(s.x+u.x)*_,N+=(s.y+u.y)*_,g+=_*3;g===0?V=Jt[0]:V=[w/g,N/g];var _i=e.unproject(T(V));return $([_i.lat+it.lat,_i.lng+it.lng])}function Pa(t){for(var e=0,i=0,a=0,s=0;s<t.length;s++){var u=$(t[s]);e+=u.lat,i+=u.lng,a++}return $([e/a,i/a])}var Dl={__proto__:null,clipPolygon:Qo,polygonCenter:tr,centroid:Pa};function er(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=Zl(t,i),t=Bl(t,i),t}function ir(t,e,i){return Math.sqrt(Ui(t,e,i,!0))}function jl(t,e,i){return Ui(t,e,i)}function Bl(t,e){var i=t.length,a=typeof Uint8Array<"u"?Uint8Array:Array,s=new a(i);s[0]=s[i-1]=1,La(t,s,e,0,i-1);var u,_=[];for(u=0;u<i;u++)s[u]&&_.push(t[u]);return _}function La(t,e,i,a,s){var u=0,_,g,w;for(g=a+1;g<=s-1;g++)w=Ui(t[g],t[a],t[s],!0),w>u&&(_=g,u=w);u>i&&(e[_]=1,La(t,e,i,a,_),La(t,e,i,_,s))}function Zl(t,e){for(var i=[t[0]],a=1,s=0,u=t.length;a<u;a++)ql(t[a],t[s])>e&&(i.push(t[a]),s=a);return s<u-1&&i.push(t[u-1]),i}var nr;function ar(t,e,i,a,s){var u=a?nr:We(t,i),_=We(e,i),g,w,N;for(nr=_;;){if(!(u|_))return[t,e];if(u&_)return!1;g=u||_,w=wn(t,e,g,i,s),N=We(w,i),g===u?(t=w,u=N):(e=w,_=N)}}function wn(t,e,i,a,s){var u=e.x-t.x,_=e.y-t.y,g=a.min,w=a.max,N,V;return i&8?(N=t.x+u*(w.y-t.y)/_,V=w.y):i&4?(N=t.x+u*(g.y-t.y)/_,V=g.y):i&2?(N=w.x,V=t.y+_*(w.x-t.x)/u):i&1&&(N=g.x,V=t.y+_*(g.x-t.x)/u),new H(N,V,s)}function We(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function ql(t,e){var i=e.x-t.x,a=e.y-t.y;return i*i+a*a}function Ui(t,e,i,a){var s=e.x,u=e.y,_=i.x-s,g=i.y-u,w=_*_+g*g,N;return w>0&&(N=((t.x-s)*_+(t.y-u)*g)/w,N>1?(s=i.x,u=i.y):N>0&&(s+=_*N,u+=g*N)),_=t.x-s,g=t.y-u,a?_*_+g*g:new H(s,u)}function Kt(t){return!m(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function or(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Kt(t)}function rr(t,e){var i,a,s,u,_,g,w,N;if(!t||t.length===0)throw new Error("latlngs not passed");Kt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var V=$([0,0]),it=U(t),lt=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());lt<1700&&(V=Pa(t));var Zt=t.length,Ot=[];for(i=0;i<Zt;i++){var Jt=$(t[i]);Ot.push(e.project($([Jt.lat-V.lat,Jt.lng-V.lng])))}for(i=0,a=0;i<Zt-1;i++)a+=Ot[i].distanceTo(Ot[i+1])/2;if(a===0)N=Ot[0];else for(i=0,u=0;i<Zt-1;i++)if(_=Ot[i],g=Ot[i+1],s=_.distanceTo(g),u+=s,u>a){w=(u-a)/s,N=[g.x-w*(g.x-_.x),g.y-w*(g.y-_.y)];break}var Ht=e.unproject(T(N));return $([Ht.lat+V.lat,Ht.lng+V.lng])}var Fl={__proto__:null,simplify:er,pointToSegmentDistance:ir,closestPointOnSegment:jl,clipSegment:ar,_getEdgeIntersection:wn,_getBitCode:We,_sqClosestPointOnSegment:Ui,isFlat:Kt,_flat:or,polylineCenter:rr},Sa={project:function(t){return new H(t.lng,t.lat)},unproject:function(t){return new Z(t.y,t.x)},bounds:new z([-180,-90],[180,90])},Aa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,i=this.R,a=t.lat*e,s=this.R_MINOR/i,u=Math.sqrt(1-s*s),_=u*Math.sin(a),g=Math.tan(Math.PI/4-a/2)/Math.pow((1-_)/(1+_),u/2);return a=-i*Math.log(Math.max(g,1e-10)),new H(t.lng*e*i,a)},unproject:function(t){for(var e=180/Math.PI,i=this.R,a=this.R_MINOR/i,s=Math.sqrt(1-a*a),u=Math.exp(-t.y/i),_=Math.PI/2-2*Math.atan(u),g=0,w=.1,N;g<15&&Math.abs(w)>1e-7;g++)N=s*Math.sin(_),N=Math.pow((1-N)/(1+N),s/2),w=Math.PI/2-2*Math.atan(u*N)-_,_+=w;return new Z(_*e,t.x*e/i)}},Ul={__proto__:null,LonLat:Sa,Mercator:Aa,SphericalMercator:Mt},Hl=c({},bt,{code:"EPSG:3395",projection:Aa,transformation:(function(){var t=.5/(Math.PI*Aa.R);return oe(t,.5,-t,.5)})()}),sr=c({},bt,{code:"EPSG:4326",projection:Sa,transformation:oe(1/180,1,-1/180,.5)}),Gl=c({},rt,{projection:Sa,transformation:oe(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,a=e.lat-t.lat;return Math.sqrt(i*i+a*a)},infinite:!0});rt.Earth=bt,rt.EPSG3395=Hl,rt.EPSG3857=re,rt.EPSG900913=Ri,rt.EPSG4326=sr,rt.Simple=Gl;var le=ot.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[p(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[p(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});ht.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=p(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=p(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return p(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?m(t)?t:[t]:[];for(var e=0,i=t.length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[p(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=p(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var a in this._zoomBoundLayers){var s=this._zoomBoundLayers[a].options;t=s.minZoom===void 0?t:Math.min(t,s.minZoom),e=s.maxZoom===void 0?e:Math.max(e,s.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ci=le.extend({initialize:function(t,e){k(this,e),this._layers={};var i,a;if(t)for(i=0,a=t.length;i<a;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),i,a;for(i in this._layers)a=this._layers[i],a[t]&&a[t].apply(a,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return p(t)}}),Wl=function(t,e){return new ci(t,e)},ye=ci.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ci.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ci.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new R;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Vl=function(t,e){return new ye(t,e)},di=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){k(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var a=this._createImg(i,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(a,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),a},_setIconStyles:function(t,e){var i=this.options,a=i[e+"Size"];typeof a=="number"&&(a=[a,a]);var s=T(a),u=T(e==="shadow"&&i.shadowAnchor||i.iconAnchor||s&&s.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),u&&(t.style.marginLeft=-u.x+"px",t.style.marginTop=-u.y+"px"),s&&(t.style.width=s.x+"px",t.style.height=s.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return X.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Yl(t){return new di(t)}var Hi=di.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Hi.imagePath!="string"&&(Hi.imagePath=this._detectIconPath()),(this.options.imagePath||Hi.imagePath)+di.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(i,a,s){var u=a.exec(i);return u&&u[s]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=pt("div","leaflet-default-icon-path",document.body),e=Di(t,"background-image")||Di(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),lr=fe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Se(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),st(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Et(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,a=this._marker.options.autoPanSpeed,s=this._marker.options.autoPanPadding,u=Ue(e._icon),_=i.getPixelBounds(),g=i.getPixelOrigin(),w=B(_.min._subtract(g).add(s),_.max._subtract(g).subtract(s));if(!w.contains(u)){var N=T((Math.max(w.max.x,u.x)-w.max.x)/(_.max.x-w.max.x)-(Math.min(w.min.x,u.x)-w.min.x)/(_.min.x-w.min.x),(Math.max(w.max.y,u.y)-w.max.y)/(_.max.y-w.max.y)-(Math.min(w.min.y,u.y)-w.min.y)/(_.min.y-w.min.y)).multiplyBy(a);i.panBy(N,{animate:!1}),this._draggable._newPos._add(N),this._draggable._startPos._add(N),Pt(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=et(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Q(this._panRequest),this._panRequest=et(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,a=Ue(e._icon),s=e._map.layerPointToLatLng(a);i&&Pt(i,a),e._latlng=s,t.latlng=s,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),En=le.extend({options:{icon:new Hi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){k(this,e),this._latlng=$(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=$(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),a=!1;i!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(i.title=t.title),i.tagName==="IMG"&&(i.alt=t.alt||"")),st(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&at(i,"focus",this._panOnFocus,this);var s=t.icon.createShadow(this._shadow),u=!1;s!==this._shadow&&(this._removeShadow(),u=!0),s&&(st(s,e),s.alt=""),this._shadow=s,t.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&u&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xt(this._icon,"focus",this._panOnFocus,this),wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&wt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Pt(this._icon,t),this._shadow&&Pt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(st(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),lr)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new lr(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Xt(this._icon,t),this._shadow&&Xt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?T(e.iconSize):T(0,0),a=e.iconAnchor?T(e.iconAnchor):T(0,0);t.panInside(this._latlng,{paddingTopLeft:a,paddingBottomRight:i.subtract(a)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function $l(t,e){return new En(t,e)}var Ae=le.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return k(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Tn=Ae.extend({options:{fill:!0,radius:10},initialize:function(t,e){k(this,e),this._latlng=$(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=$(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Ae.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),a=[t+i,e+i];this._pxBounds=new z(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xl(t,e){return new Tn(t,e)}var Ca=Tn.extend({initialize:function(t,e,i){if(typeof e=="number"&&(e=c({},i,{radius:e})),k(this,e),this._latlng=$(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new R(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ae.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,a=i.options.crs;if(a.distance===bt.distance){var s=Math.PI/180,u=this._mRadius/bt.R/s,_=i.project([e+u,t]),g=i.project([e-u,t]),w=_.add(g).divideBy(2),N=i.unproject(w).lat,V=Math.acos((Math.cos(u*s)-Math.sin(e*s)*Math.sin(N*s))/(Math.cos(e*s)*Math.cos(N*s)))/s;(isNaN(V)||V===0)&&(V=u/Math.cos(Math.PI/180*e)),this._point=w.subtract(i.getPixelOrigin()),this._radius=isNaN(V)?0:w.x-i.project([N,t-V]).x,this._radiusY=w.y-_.y}else{var it=a.unproject(a.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(it).x}this._updateBounds()}});function Kl(t,e,i){return new Ca(t,e,i)}var be=Ae.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){k(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,i=null,a=Ui,s,u,_=0,g=this._parts.length;_<g;_++)for(var w=this._parts[_],N=1,V=w.length;N<V;N++){s=w[N-1],u=w[N];var it=a(t,s,u,!0);it<e&&(e=it,i=a(t,s,u))}return i&&(i.distance=Math.sqrt(e)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=$(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new R,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Kt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Kt(t),a=0,s=t.length;a<s;a++)i?(e[a]=$(t[a]),this._bounds.extend(e[a])):e[a]=this._convertLatLngs(t[a]);return e},_project:function(){var t=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new H(t,t);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var a=t[0]instanceof Z,s=t.length,u,_;if(a){for(_=[],u=0;u<s;u++)_[u]=this._map.latLngToLayerPoint(t[u]),i.extend(_[u]);e.push(_)}else for(u=0;u<s;u++)this._projectLatlngs(t[u],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,i,a,s,u,_,g,w;for(i=0,s=0,u=this._rings.length;i<u;i++)for(w=this._rings[i],a=0,_=w.length;a<_-1;a++)g=ar(w[a],w[a+1],t,a,!0),g&&(e[s]=e[s]||[],e[s].push(g[0]),(g[1]!==w[a+1]||a===_-2)&&(e[s].push(g[1]),s++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,a=t.length;i<a;i++)t[i]=er(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,a,s,u,_,g,w=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,u=this._parts.length;i<u;i++)for(g=this._parts[i],a=0,_=g.length,s=_-1;a<_;s=a++)if(!(!e&&a===0)&&ir(t,g[s],g[a])<=w)return!0;return!1}});function Jl(t,e){return new be(t,e)}be._flat=or;var hi=be.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=be.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof Z&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){be.prototype._setLatLngs.call(this,t),Kt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Kt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new H(e,e);if(t=new z(t.min.subtract(i),t.max.add(i)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var a=0,s=this._rings.length,u;a<s;a++)u=Qo(this._rings[a],t,!0),u.length&&this._parts.push(u)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,i,a,s,u,_,g,w,N;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(u=0,w=this._parts.length;u<w;u++)for(i=this._parts[u],_=0,N=i.length,g=N-1;_<N;g=_++)a=i[_],s=i[g],a.y>t.y!=s.y>t.y&&t.x<(s.x-a.x)*(t.y-a.y)/(s.y-a.y)+a.x&&(e=!e);return e||be.prototype._containsPoint.call(this,t,!0)}});function Ql(t,e){return new hi(t,e)}var xe=ye.extend({initialize:function(t,e){k(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=m(t)?t:t.features,i,a,s;if(e){for(i=0,a=e.length;i<a;i++)s=e[i],(s.geometries||s.geometry||s.features||s.coordinates)&&this.addData(s);return this}var u=this.options;if(u.filter&&!u.filter(t))return this;var _=Pn(t,u);return _?(_.feature=An(t),_.defaultOptions=_.options,this.resetStyle(_),u.onEachFeature&&u.onEachFeature(t,_),this.addLayer(_)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=c({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function Pn(t,e){var i=t.type==="Feature"?t.geometry:t,a=i?i.coordinates:null,s=[],u=e&&e.pointToLayer,_=e&&e.coordsToLatLng||Oa,g,w,N,V;if(!a&&!i)return null;switch(i.type){case"Point":return g=_(a),ur(u,t,g,e);case"MultiPoint":for(N=0,V=a.length;N<V;N++)g=_(a[N]),s.push(ur(u,t,g,e));return new ye(s);case"LineString":case"MultiLineString":return w=Ln(a,i.type==="LineString"?0:1,_),new be(w,e);case"Polygon":case"MultiPolygon":return w=Ln(a,i.type==="Polygon"?1:2,_),new hi(w,e);case"GeometryCollection":for(N=0,V=i.geometries.length;N<V;N++){var it=Pn({geometry:i.geometries[N],type:"Feature",properties:t.properties},e);it&&s.push(it)}return new ye(s);case"FeatureCollection":for(N=0,V=i.features.length;N<V;N++){var lt=Pn(i.features[N],e);lt&&s.push(lt)}return new ye(s);default:throw new Error("Invalid GeoJSON object.")}}function ur(t,e,i,a){return t?t(e,i):new En(i,a&&a.markersInheritOptions&&a)}function Oa(t){return new Z(t[1],t[0],t[2])}function Ln(t,e,i){for(var a=[],s=0,u=t.length,_;s<u;s++)_=e?Ln(t[s],e-1,i):(i||Oa)(t[s]),a.push(_);return a}function ka(t,e){return t=$(t),t.alt!==void 0?[I(t.lng,e),I(t.lat,e),I(t.alt,e)]:[I(t.lng,e),I(t.lat,e)]}function Sn(t,e,i,a){for(var s=[],u=0,_=t.length;u<_;u++)s.push(e?Sn(t[u],Kt(t[u])?0:e-1,i,a):ka(t[u],a));return!e&&i&&s.length>0&&s.push(s[0].slice()),s}function fi(t,e){return t.feature?c({},t.feature,{geometry:e}):An(e)}function An(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Ma={toGeoJSON:function(t){return fi(this,{type:"Point",coordinates:ka(this.getLatLng(),t)})}};En.include(Ma),Ca.include(Ma),Tn.include(Ma),be.include({toGeoJSON:function(t){var e=!Kt(this._latlngs),i=Sn(this._latlngs,e?1:0,!1,t);return fi(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),hi.include({toGeoJSON:function(t){var e=!Kt(this._latlngs),i=e&&!Kt(this._latlngs[0]),a=Sn(this._latlngs,i?2:e?1:0,!0,t);return e||(a=[a]),fi(this,{type:(i?"Multi":"")+"Polygon",coordinates:a})}}),ci.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(i){e.push(i.toGeoJSON(t).geometry.coordinates)}),fi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var i=e==="GeometryCollection",a=[];return this.eachLayer(function(s){if(s.toGeoJSON){var u=s.toGeoJSON(t);if(i)a.push(u.geometry);else{var _=An(u);_.type==="FeatureCollection"?a.push.apply(a,_.features):a.push(_)}}}),i?fi(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}});function cr(t,e){return new xe(t,e)}var tu=cr,Cn=le.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=U(e),k(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(st(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&li(this._image),this},bringToBack:function(){return this._map&&ui(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=U(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:pt("img");if(st(e,"leaflet-image-layer"),this._zoomAnimated&&st(e,"leaflet-zoom-animated"),this.options.className&&st(e,this.options.className),e.onselectstart=C,e.onmousemove=C,e.onload=h(this.fire,this,"load"),e.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Fe(this._image,i,e)},_reset:function(){var t=this._image,e=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();Pt(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){Xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),eu=function(t,e,i){return new Cn(t,e,i)},dr=Cn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:pt("video");if(st(e,"leaflet-image-layer"),this._zoomAnimated&&st(e,"leaflet-zoom-animated"),this.options.className&&st(e,this.options.className),e.onselectstart=C,e.onmousemove=C,e.onloadeddata=h(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),a=[],s=0;s<i.length;s++)a.push(i[s].src);this._url=i.length>0?a:[e.src];return}m(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var u=0;u<this._url.length;u++){var _=pt("source");_.src=this._url[u],e.appendChild(_)}}});function iu(t,e,i){return new dr(t,e,i)}var hr=Cn.extend({_initImage:function(){var t=this._image=this._url;st(t,"leaflet-image-layer"),this._zoomAnimated&&st(t,"leaflet-zoom-animated"),this.options.className&&st(t,this.options.className),t.onselectstart=C,t.onmousemove=C}});function nu(t,e,i){return new hr(t,e,i)}var pe=le.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof Z||m(t))?(this._latlng=$(t),k(this,e)):(k(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Xt(this._container,1),this.bringToFront(),this.options.interactive&&(st(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Xt(this._container,0),this._removeTimeout=setTimeout(h(wt,void 0,this._container),200)):wt(this._container),this.options.interactive&&(Et(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=$(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&li(this._container),this},bringToBack:function(){return this._map&&ui(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof ye){e=null;var i=this._source._layers;for(var a in i)if(i[a]._map){e=i[a];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=T(this.options.offset),i=this._getAnchor();this._zoomAnimated?Pt(this._container,t.add(i)):e=e.add(t).add(i);var a=this._containerBottom=-e.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=a+"px",this._container.style.left=s+"px"}},_getAnchor:function(){return[0,0]}});ht.include({_initOverlay:function(t,e,i,a){var s=e;return s instanceof t||(s=new t(a).setContent(e)),i&&s.setLatLng(i),s}}),le.include({_initOverlay:function(t,e,i,a){var s=i;return s instanceof t?(k(s,a),s._source=this):(s=e&&!a?e:new t(a,this),s.setContent(i)),s}});var On=pe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,pe.prototype.openOn.call(this,t)},onAdd:function(t){pe.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ae||this._source.on("preclick",He))},onRemove:function(t){pe.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ae||this._source.off("preclick",He))},getEvents:function(){var t=pe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=pt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=pt("div",t+"-content-wrapper",e);if(this._contentNode=pt("div",t+"-content",i),qi(e),xa(this._contentNode),at(e,"contextmenu",He),this._tipContainer=pt("div",t+"-tip-container",e),this._tip=pt("div",t+"-tip",this._tipContainer),this.options.closeButton){var a=this._closeButton=pt("a",t+"-close-button",e);a.setAttribute("role","button"),a.setAttribute("aria-label","Close popup"),a.href="#close",a.innerHTML='<span aria-hidden="true">&#215;</span>',at(a,"click",function(s){It(s),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var a=t.offsetHeight,s=this.options.maxHeight,u="leaflet-popup-scrolled";s&&a>s?(e.height=s+"px",st(t,u)):Et(t,u),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();Pt(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(Di(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,a=this._containerWidth,s=new H(this._containerLeft,-i-this._containerBottom);s._add(Ue(this._container));var u=t.layerPointToContainerPoint(s),_=T(this.options.autoPanPadding),g=T(this.options.autoPanPaddingTopLeft||_),w=T(this.options.autoPanPaddingBottomRight||_),N=t.getSize(),V=0,it=0;u.x+a+w.x>N.x&&(V=u.x+a-N.x+w.x),u.x-V-g.x<0&&(V=u.x-g.x),u.y+i+w.y>N.y&&(it=u.y+i-N.y+w.y),u.y-it-g.y<0&&(it=u.y-g.y),(V||it)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([V,it]))}},_getAnchor:function(){return T(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),au=function(t,e){return new On(t,e)};ht.mergeOptions({closePopupOnClick:!0}),ht.include({openPopup:function(t,e,i){return this._initOverlay(On,t,e,i).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),le.include({bindPopup:function(t,e){return this._popup=this._initOverlay(On,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof ye||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Ge(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof Ae)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var kn=pe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){pe.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){pe.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=pe.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,a=this._map,s=this._container,u=a.latLngToContainerPoint(a.getCenter()),_=a.layerPointToContainerPoint(t),g=this.options.direction,w=s.offsetWidth,N=s.offsetHeight,V=T(this.options.offset),it=this._getAnchor();g==="top"?(e=w/2,i=N):g==="bottom"?(e=w/2,i=0):g==="center"?(e=w/2,i=N/2):g==="right"?(e=0,i=N/2):g==="left"?(e=w,i=N/2):_.x<u.x?(g="right",e=0,i=N/2):(g="left",e=w+(V.x+it.x)*2,i=N/2),t=t.subtract(T(e,i,!0)).add(V).add(it),Et(s,"leaflet-tooltip-right"),Et(s,"leaflet-tooltip-left"),Et(s,"leaflet-tooltip-top"),Et(s,"leaflet-tooltip-bottom"),st(s,"leaflet-tooltip-"+g),Pt(s,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Xt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return T(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ou=function(t,e){return new kn(t,e)};ht.include({openTooltip:function(t,e,i){return this._initOverlay(kn,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),le.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(kn,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof ye||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(at(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),at(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,i,a;this._tooltip.options.sticky&&t.originalEvent&&(i=this._map.mouseEventToContainerPoint(t.originalEvent),a=this._map.containerPointToLayerPoint(i),e=this._map.layerPointToLatLng(a)),this._tooltip.setLatLng(e)}});var fr=di.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(mn(e),e.appendChild(i.html)):e.innerHTML=i.html!==!1?i.html:"",i.bgPos){var a=T(i.bgPos);e.style.backgroundPosition=-a.x+"px "+-a.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function ru(t){return new fr(t)}di.Default=Hi;var Gi=le.extend({options:{tileSize:256,opacity:1,updateWhenIdle:X.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){k(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),wt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(li(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ui(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof H?t:new H(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,i=-t(-1/0,1/0),a=0,s=e.length,u;a<s;a++)u=e[a].style.zIndex,e[a]!==this._container&&u&&(i=t(i,+u));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!X.ielt9){Xt(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var a in this._tiles){var s=this._tiles[a];if(!(!s.current||!s.loaded)){var u=Math.min(1,(t-s.loaded)/200);Xt(s.el,u),u<1?e=!0:(s.active?i=!0:this._onOpaqueTile(s),s.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(Q(this._fadeFrame),this._fadeFrame=et(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(wt(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var a=this._levels[t],s=this._map;return a||(a=this._levels[t]={},a.el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=e,a.origin=s.project(s.unproject(s.getPixelOrigin()),t).round(),a.zoom=t,this._setZoomTransform(a,s.getCenter(),s.getZoom()),C(a.el.offsetWidth),this._onCreateLevel(a)),this._level=a,a}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var a=e.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)wt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,a){var s=Math.floor(t/2),u=Math.floor(e/2),_=i-1,g=new H(+s,+u);g.z=+_;var w=this._tileCoordsToKey(g),N=this._tiles[w];return N&&N.active?(N.retain=!0,!0):(N&&N.loaded&&(N.retain=!0),_>a?this._retainParent(s,u,_,a):!1)},_retainChildren:function(t,e,i,a){for(var s=2*t;s<2*t+2;s++)for(var u=2*e;u<2*e+2;u++){var _=new H(s,u);_.z=i+1;var g=this._tileCoordsToKey(_),w=this._tiles[g];if(w&&w.active){w.retain=!0;continue}else w&&w.loaded&&(w.retain=!0);i+1<a&&this._retainChildren(s,u,i+1,a)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,a){var s=Math.round(e);this.options.maxZoom!==void 0&&s>this.options.maxZoom||this.options.minZoom!==void 0&&s<this.options.minZoom?s=void 0:s=this._clampZoom(s);var u=this.options.updateWhenZooming&&s!==this._tileZoom;(!a||u)&&(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),s!==void 0&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var a=this._map.getZoomScale(i,t.zoom),s=t.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(e,i)).round();X.any3d?Fe(t.el,s,a):Pt(t.el,s)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),a=this._tileZoom,s=this._map.getPixelWorldBounds(this._tileZoom);s&&(this._globalTileRange=this._pxBoundsToTileRange(s)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],a).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],a).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],a).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],a).y/i.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),a=e.getZoomScale(i,this._tileZoom),s=e.project(t,this._tileZoom).floor(),u=e.getSize().divideBy(a*2);return new z(s.subtract(u),s.add(u))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var a=this._getTiledPixelBounds(t),s=this._pxBoundsToTileRange(a),u=s.getCenter(),_=[],g=this.options.keepBuffer,w=new z(s.getBottomLeft().subtract([g,-g]),s.getTopRight().add([g,-g]));if(!(isFinite(s.min.x)&&isFinite(s.min.y)&&isFinite(s.max.x)&&isFinite(s.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var N in this._tiles){var V=this._tiles[N].coords;(V.z!==this._tileZoom||!w.contains(new H(V.x,V.y)))&&(this._tiles[N].current=!1)}if(Math.abs(i-this._tileZoom)>1){this._setView(t,i);return}for(var it=s.min.y;it<=s.max.y;it++)for(var lt=s.min.x;lt<=s.max.x;lt++){var Zt=new H(lt,it);if(Zt.z=this._tileZoom,!!this._isValidTile(Zt)){var Ot=this._tiles[this._tileCoordsToKey(Zt)];Ot?Ot.current=!0:_.push(Zt)}}if(_.sort(function(Ht,_i){return Ht.distanceTo(u)-_i.distanceTo(u)}),_.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Jt=document.createDocumentFragment();for(lt=0;lt<_.length;lt++)this._addTile(_[lt],Jt);this._level.el.appendChild(Jt)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var a=this._tileCoordsToBounds(t);return U(this.options.bounds).overlaps(a)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),a=t.scaleBy(i),s=a.add(i),u=e.unproject(a,t.z),_=e.unproject(s,t.z);return[u,_]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new R(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new H(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(wt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){st(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=C,t.onmousemove=C,X.ielt9&&this.options.opacity<1&&Xt(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),a=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),h(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&et(h(this._tileReady,this,t,null,s)),Pt(s,i),this._tiles[a]={el:s,coords:t,current:!0},e.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var a=this._tileCoordsToKey(t);i=this._tiles[a],i&&(i.loaded=+new Date,this._map._fadeAnimated?(Xt(i.el,0),Q(this._fadeFrame),this._fadeFrame=et(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(st(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),X.ielt9||!this._map._fadeAnimated?et(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new H(this._wrapX?A(t.x,this._wrapX):t.x,this._wrapY?A(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new z(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function su(t){return new Gi(t)}var pi=Gi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=k(this,e),e.detectRetina&&X.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return at(i,"load",h(this._tileOnLoad,this,e,i)),at(i,"error",h(this._tileOnError,this,e,i)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:X.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return y(this._url,c(e,this.options))},_tileOnLoad:function(t,e){X.ielt9?setTimeout(h(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var a=this.options.errorTileUrl;a&&e.getAttribute("src")!==a&&(e.src=a),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,a=this.options.zoomOffset;return i&&(t=e-t),t+a},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=C,e.onerror=C,!e.complete)){e.src=x;var i=this._tiles[t].coords;wt(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",x),Gi.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(!(!this._map||i&&i.getAttribute("src")===x))return Gi.prototype._tileReady.call(this,t,e,i)}});function pr(t,e){return new pi(t,e)}var _r=pi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=c({},this.defaultWmsParams);for(var a in e)a in this.options||(i[a]=e[a]);e=k(this,e);var s=e.detectRetina&&X.retina?2:1,u=this.getTileSize();i.width=u.x*s,i.height=u.y*s,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,pi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,a=B(i.project(e[0]),i.project(e[1])),s=a.min,u=a.max,_=(this._wmsVersion>=1.3&&this._crs===sr?[s.y,s.x,u.y,u.x]:[s.x,s.y,u.x,u.y]).join(","),g=pi.prototype.getTileUrl.call(this,t);return g+q(this.wmsParams,g,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_},setParams:function(t,e){return c(this.wmsParams,t),e||this.redraw(),this}});function lu(t,e){return new _r(t,e)}pi.WMS=_r,pr.wms=lu;var we=le.extend({options:{padding:.1},initialize:function(t){k(this,t),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),st(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),a=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),u=a.multiplyBy(-i).add(s).subtract(this._map._getNewPixelOrigin(t,e));X.any3d?Fe(this._container,u,i):Pt(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new z(i,i.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vr=we.extend({options:{tolerance:0},getEvents:function(){var t=we.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){we.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");at(t,"mousemove",this._onMouseMove,this),at(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),at(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Q(this._redrawRequest),delete this._ctx,wt(this._container),xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){we.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),a=X.retina?2:1;Pt(e,t.min),e.width=a*i.x,e.height=a*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",X.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){we.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[p(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,a=e.prev;i?i.prev=a:this._drawLast=a,a?a.next=i:this._drawFirst=i,delete t._order,delete this._layers[p(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),i=[],a,s;for(s=0;s<e.length;s++){if(a=Number(e[s]),isNaN(a))return;i.push(a)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||et(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)t=a.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,a,s,u,_=t._parts,g=_.length,w=this._ctx;if(g){for(w.beginPath(),i=0;i<g;i++){for(a=0,s=_[i].length;a<s;a++)u=_[i][a],w[a?"lineTo":"moveTo"](u.x,u.y);e&&w.closePath()}this._fillStroke(w,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,i=this._ctx,a=Math.max(Math.round(t._radius),1),s=(Math.max(Math.round(t._radiusY),1)||a)/a;s!==1&&(i.save(),i.scale(1,s)),i.beginPath(),i.arc(e.x,e.y/s,a,0,Math.PI*2,!1),s!==1&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&i.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),i,a,s=this._drawFirst;s;s=s.next)i=s.layer,i.options.interactive&&i._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(i))&&(a=i);this._fireEvent(a?[a]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(Et(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,a,s=this._drawFirst;s;s=s.next)i=s.layer,i.options.interactive&&i._containsPoint(e)&&(a=i);a!==this._hoveredLayer&&(this._handleMouseOut(t),a&&(st(this._container,"leaflet-interactive"),this._fireEvent([a],t,"mouseover"),this._hoveredLayer=a)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,a=e.prev;if(i)i.prev=a;else return;a?a.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,a=e.prev;if(a)a.next=i;else return;i?i.prev=a:a&&(this._drawLast=a),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function mr(t){return X.canvas?new vr(t):null}var Wi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),uu={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(we.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Wi("shape");st(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Wi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[p(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;wt(e),t.removeInteractiveTarget(e),delete this._layers[p(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,a=t.options,s=t._container;s.stroked=!!a.stroke,s.filled=!!a.fill,a.stroke?(e||(e=t._stroke=Wi("stroke")),s.appendChild(e),e.weight=a.weight+"px",e.color=a.color,e.opacity=a.opacity,a.dashArray?e.dashStyle=m(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=a.lineCap.replace("butt","flat"),e.joinstyle=a.lineJoin):e&&(s.removeChild(e),t._stroke=null),a.fill?(i||(i=t._fill=Wi("fill")),s.appendChild(i),i.color=a.fillColor||a.color,i.opacity=a.fillOpacity):i&&(s.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),a=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+a+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){li(t._container)},_bringToBack:function(t){ui(t._container)}},Mn=X.vml?Wi:ri,Vi=we.extend({_initContainer:function(){this._container=Mn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Mn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){wt(this._container),xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){we.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),Pt(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Mn("path");t.options.className&&st(e,t.options.className),t.options.interactive&&st(e,"leaflet-interactive"),this._updateStyle(t),this._layers[p(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){wt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[p(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,wo(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),a=Math.max(Math.round(t._radiusY),1)||i,s="a"+i+","+a+" 0 1,0 ",u=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+s+i*2+",0 "+s+-i*2+",0 ";this._setPath(t,u)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){li(t._path)},_bringToBack:function(t){ui(t._path)}});X.vml&&Vi.include(uu);function gr(t){return X.svg||X.vml?new Vi(t):null}ht.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&mr(t)||gr(t)}});var yr=hi.extend({initialize:function(t,e){hi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=U(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function cu(t,e){return new yr(t,e)}Vi.create=Mn,Vi.pointsToPath=wo,xe.geometryToLayer=Pn,xe.coordsToLatLng=Oa,xe.coordsToLatLngs=Ln,xe.latLngToCoords=ka,xe.latLngsToCoords=Sn,xe.getFeature=fi,xe.asFeature=An,ht.mergeOptions({boxZoom:!0});var br=fe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){at(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ji(),fa(),this._startPoint=this._map.mouseEventToContainerPoint(t),at(document,{contextmenu:Ge,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),st(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new z(this._point,this._startPoint),i=e.getSize();Pt(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(wt(this._box),Et(this._container,"leaflet-crosshair")),Bi(),pa(),xt(document,{contextmenu:Ge,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var e=new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ht.addInitHook("addHandler","boxZoom",br),ht.mergeOptions({doubleClickZoom:!0});var xr=fe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),a=e.options.zoomDelta,s=t.originalEvent.shiftKey?i-a:i+a;e.options.doubleClickZoom==="center"?e.setZoom(s):e.setZoomAround(t.containerPoint,s)}});ht.addInitHook("addHandler","doubleClickZoom",xr),ht.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wr=fe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Se(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}st(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Et(this._map._container,"leaflet-grab"),Et(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=U(this._map.options.maxBounds);this._offsetLimit=B(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,a=this._draggable._newPos.x,s=(a-e+i)%t+e-i,u=(a+e+i)%t-e-i,_=Math.abs(s+i)<Math.abs(u+i)?s:u;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_},_onDragEnd:function(t){var e=this._map,i=e.options,a=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),a)e.fire("moveend");else{this._prunePositions(+new Date);var s=this._lastPos.subtract(this._positions[0]),u=(this._lastTime-this._times[0])/1e3,_=i.easeLinearity,g=s.multiplyBy(_/u),w=g.distanceTo([0,0]),N=Math.min(i.inertiaMaxSpeed,w),V=g.multiplyBy(N/w),it=N/(i.inertiaDeceleration*_),lt=V.multiplyBy(-it/2).round();!lt.x&&!lt.y?e.fire("moveend"):(lt=e._limitOffset(lt,e.options.maxBounds),et(function(){e.panBy(lt,{duration:it,easeLinearity:_,noMoveStart:!0,animate:!0})}))}}});ht.addInitHook("addHandler","dragging",wr),ht.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Er=fe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),at(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,a=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(a,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},i=this.keyCodes,a,s;for(a=0,s=i.left.length;a<s;a++)e[i.left[a]]=[-1*t,0];for(a=0,s=i.right.length;a<s;a++)e[i.right[a]]=[t,0];for(a=0,s=i.down.length;a<s;a++)e[i.down[a]]=[0,t];for(a=0,s=i.up.length;a<s;a++)e[i.up[a]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},i=this.keyCodes,a,s;for(a=0,s=i.zoomIn.length;a<s;a++)e[i.zoomIn[a]]=t;for(a=0,s=i.zoomOut.length;a<s;a++)e[i.zoomOut[a]]=-t},_addHooks:function(){at(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,i=this._map,a;if(e in this._panKeys){if(!i._panAnim||!i._panAnim._inProgress)if(a=this._panKeys[e],t.shiftKey&&(a=T(a).multiplyBy(3)),i.options.maxBounds&&(a=i._limitOffset(T(a),i.options.maxBounds)),i.options.worldCopyJump){var s=i.wrapLatLng(i.unproject(i.project(i.getCenter()).add(a)));i.panTo(s)}else i.panBy(a)}else if(e in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&i._popup&&i._popup.options.closeOnEscapeKey)i.closePopup();else return;Ge(t)}}});ht.addInitHook("addHandler","keyboard",Er),ht.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Tr=fe.extend({addHooks:function(){at(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Yo(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var a=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),a),Ge(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var a=this._delta/(this._map.options.wheelPxPerZoomLevel*4),s=4*Math.log(2/(1+Math.exp(-Math.abs(a))))/Math.LN2,u=i?Math.ceil(s/i)*i:s,_=t._limitZoom(e+(this._delta>0?u:-u))-e;this._delta=0,this._startTime=null,_&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+_):t.setZoomAround(this._lastMousePos,e+_))}});ht.addInitHook("addHandler","scrollWheelZoom",Tr);var du=600;ht.mergeOptions({tapHold:X.touchNative&&X.safari&&X.mobile,tapTolerance:15});var Pr=fe.extend({addHooks:function(){at(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new H(e.clientX,e.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(at(document,"touchend",It),at(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),du),at(document,"touchend touchcancel contextmenu",this._cancel,this),at(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){xt(document,"touchend",It),xt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),xt(document,"touchend touchcancel contextmenu",this._cancel,this),xt(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new H(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});ht.addInitHook("addHandler","tapHold",Pr),ht.mergeOptions({touchZoom:X.touch,bounceAtZoomLimits:!0});var Lr=fe.extend({addHooks:function(){st(this._map._container,"leaflet-touch-zoom"),at(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Et(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var i=e.mouseEventToContainerPoint(t.touches[0]),a=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(a)._divideBy(2))),this._startDist=i.distanceTo(a),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),at(document,"touchmove",this._onTouchMove,this),at(document,"touchend touchcancel",this._onTouchEnd,this),It(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),a=e.mouseEventToContainerPoint(t.touches[1]),s=i.distanceTo(a)/this._startDist;if(this._zoom=e.getScaleZoom(s,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&s<1||this._zoom>e.getMaxZoom()&&s>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,s===1)return}else{var u=i._add(a)._divideBy(2)._subtract(this._centerPoint);if(s===1&&u.x===0&&u.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(u),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),Q(this._animRequest);var _=h(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=et(_,this,!0),It(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Q(this._animRequest),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ht.addInitHook("addHandler","touchZoom",Lr),ht.BoxZoom=br,ht.DoubleClickZoom=xr,ht.Drag=wr,ht.Keyboard=Er,ht.ScrollWheelZoom=Tr,ht.TapHold=Pr,ht.TouchZoom=Lr,o.Bounds=z,o.Browser=X,o.CRS=rt,o.Canvas=vr,o.Circle=Ca,o.CircleMarker=Tn,o.Class=J,o.Control=se,o.DivIcon=fr,o.DivOverlay=pe,o.DomEvent=Cl,o.DomUtil=Sl,o.Draggable=Se,o.Evented=ot,o.FeatureGroup=ye,o.GeoJSON=xe,o.GridLayer=Gi,o.Handler=fe,o.Icon=di,o.ImageOverlay=Cn,o.LatLng=Z,o.LatLngBounds=R,o.Layer=le,o.LayerGroup=ci,o.LineUtil=Fl,o.Map=ht,o.Marker=En,o.Mixin=zl,o.Path=Ae,o.Point=H,o.PolyUtil=Dl,o.Polygon=hi,o.Polyline=be,o.Popup=On,o.PosAnimation=$o,o.Projection=Ul,o.Rectangle=yr,o.Renderer=we,o.SVG=Vi,o.SVGOverlay=hr,o.TileLayer=pi,o.Tooltip=kn,o.Transformation=Dt,o.Util=Ct,o.VideoOverlay=dr,o.bind=h,o.bounds=B,o.canvas=mr,o.circle=Kl,o.circleMarker=Xl,o.control=Fi,o.divIcon=ru,o.extend=c,o.featureGroup=Vl,o.geoJSON=cr,o.geoJson=tu,o.gridLayer=su,o.icon=Yl,o.imageOverlay=eu,o.latLng=$,o.latLngBounds=U,o.layerGroup=Wl,o.map=Ol,o.marker=$l,o.point=T,o.polygon=Ql,o.polyline=Jl,o.popup=au,o.rectangle=cu,o.setOptions=k,o.stamp=p,o.svg=gr,o.svgOverlay=nu,o.tileLayer=pr,o.tooltip=ou,o.transformation=oe,o.version=l,o.videoOverlay=iu;var hu=window.L;o.noConflict=function(){return window.L=hu,this},window.L=o}))})(Ji,Ji.exports)),Ji.exports}var Ad=Sd();const Ha=Xs(Ad);var Cd=gt(`<h3 class="svelte-c6ry3r">Lendo o censo, quem mora nas áreas atravessadas pela rota do 474? Uma
    leitura por cor/raça</h3> <p>Cada ponto neste mapa representa um morador das áreas atravessadas pelo 474,
    e a cor desse ponto indica a resposta fornecida à pergunta “cor/raça” do
    questionário do censo de 2010. Legenda: <span style="background-color:#73b2ff">branca</span>, <span style="background-color:#9fd400">parda</span>, <span style="background-color:#ff0000">preta</span>, <span style="background-color:#ffaa00">amarela</span>, <span style="background-color:#996633">indígena</span>. Para replicar este
    mapa, confira as instruções do <a target="_blank" href="https://patadata.org/maparacial/how.html">Pata</a>,
    escritório de visualização e análise de dados.</p> <div id="map" style="height: 1000px; width: 100%; margin-top:2rem;"></div>`,1);function Ks(n,r){Ze(r,!1);let o;Te(async()=>{o=Ha.map("map",{center:[-22.937093521616838,-43.22460295163364],zoom:13,dragging:!0,scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1,keyboard:!1}),Ha.tileLayer("https://www.alessandromusetta.com/geo/tiles/474/{z}/{x}/{y}.png",{minZoom:13,maxZoom:15,tileSize:256,attribution:"&copy; Local Tiles"}).addTo(o);const d=await(await fetch("474.geojson")).json(),h=Ha.geoJSON(d,{style:{color:"#c743c7",weight:1,opacity:.7}}).addTo(o);o.fitBounds(h.getBounds())}),oi();var l=Cd();ct(n,l),qe()}function Od(n){}var Ga={exports:{}},os;function kd(){return os||(os=1,(function(n){var r=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var o=(function(l){var c=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,d=0,h={},f={manual:l.Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function y(m){return m instanceof p?new p(m.type,y(m.content),m.alias):Array.isArray(m)?m.map(y):m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(y){return Object.prototype.toString.call(y).slice(8,-1)},objId:function(y){return y.__id||Object.defineProperty(y,"__id",{value:++d}),y.__id},clone:function y(m,O){O=O||{};var x,v;switch(f.util.type(m)){case"Object":if(v=f.util.objId(m),O[v])return O[v];x={},O[v]=x;for(var E in m)m.hasOwnProperty(E)&&(x[E]=y(m[E],O));return x;case"Array":return v=f.util.objId(m),O[v]?O[v]:(x=[],O[v]=x,m.forEach(function(G,D){x[D]=y(G,O)}),x);default:return m}},getLanguage:function(y){for(;y;){var m=c.exec(y.className);if(m)return m[1].toLowerCase();y=y.parentElement}return"none"},setLanguage:function(y,m){y.className=y.className.replace(RegExp(c,"gi"),""),y.classList.add("language-"+m)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(x){var y=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(x.stack)||[])[1];if(y){var m=document.getElementsByTagName("script");for(var O in m)if(m[O].src==y)return m[O]}return null}},isActive:function(y,m,O){for(var x="no-"+m;y;){var v=y.classList;if(v.contains(m))return!0;if(v.contains(x))return!1;y=y.parentElement}return!!O}},languages:{plain:h,plaintext:h,text:h,txt:h,extend:function(y,m){var O=f.util.clone(f.languages[y]);for(var x in m)O[x]=m[x];return O},insertBefore:function(y,m,O,x){x=x||f.languages;var v=x[y],E={};for(var G in v)if(v.hasOwnProperty(G)){if(G==m)for(var D in O)O.hasOwnProperty(D)&&(E[D]=O[D]);O.hasOwnProperty(G)||(E[G]=v[G])}var K=x[y];return x[y]=E,f.languages.DFS(f.languages,function(et,Q){Q===K&&et!=y&&(this[et]=E)}),E},DFS:function y(m,O,x,v){v=v||{};var E=f.util.objId;for(var G in m)if(m.hasOwnProperty(G)){O.call(m,G,m[G],x||G);var D=m[G],K=f.util.type(D);K==="Object"&&!v[E(D)]?(v[E(D)]=!0,y(D,O,null,v)):K==="Array"&&!v[E(D)]&&(v[E(D)]=!0,y(D,O,G,v))}}},plugins:{},highlightAll:function(y,m){f.highlightAllUnder(document,y,m)},highlightAllUnder:function(y,m,O){var x={callback:O,container:y,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};f.hooks.run("before-highlightall",x),x.elements=Array.prototype.slice.apply(x.container.querySelectorAll(x.selector)),f.hooks.run("before-all-elements-highlight",x);for(var v=0,E;E=x.elements[v++];)f.highlightElement(E,m===!0,x.callback)},highlightElement:function(y,m,O){var x=f.util.getLanguage(y),v=f.languages[x];f.util.setLanguage(y,x);var E=y.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&f.util.setLanguage(E,x);var G=y.textContent,D={element:y,language:x,grammar:v,code:G};function K(Q){D.highlightedCode=Q,f.hooks.run("before-insert",D),D.element.innerHTML=D.highlightedCode,f.hooks.run("after-highlight",D),f.hooks.run("complete",D),O&&O.call(D.element)}if(f.hooks.run("before-sanity-check",D),E=D.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!D.code){f.hooks.run("complete",D),O&&O.call(D.element);return}if(f.hooks.run("before-highlight",D),!D.grammar){K(f.util.encode(D.code));return}if(m&&l.Worker){var et=new Worker(f.filename);et.onmessage=function(Q){K(Q.data)},et.postMessage(JSON.stringify({language:D.language,code:D.code,immediateClose:!0}))}else K(f.highlight(D.code,D.grammar,D.language))},highlight:function(y,m,O){var x={code:y,grammar:m,language:O};if(f.hooks.run("before-tokenize",x),!x.grammar)throw new Error('The language "'+x.language+'" has no grammar.');return x.tokens=f.tokenize(x.code,x.grammar),f.hooks.run("after-tokenize",x),p.stringify(f.util.encode(x.tokens),x.language)},tokenize:function(y,m){var O=m.rest;if(O){for(var x in O)m[x]=O[x];delete m.rest}var v=new C;return I(v,v.head,y),A(y,v,m,v.head,0),S(v)},hooks:{all:{},add:function(y,m){var O=f.hooks.all;O[y]=O[y]||[],O[y].push(m)},run:function(y,m){var O=f.hooks.all[y];if(!(!O||!O.length))for(var x=0,v;v=O[x++];)v(m)}},Token:p};l.Prism=f;function p(y,m,O,x){this.type=y,this.content=m,this.alias=O,this.length=(x||"").length|0}p.stringify=function y(m,O){if(typeof m=="string")return m;if(Array.isArray(m)){var x="";return m.forEach(function(K){x+=y(K,O)}),x}var v={type:m.type,content:y(m.content,O),tag:"span",classes:["token",m.type],attributes:{},language:O},E=m.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(v.classes,E):v.classes.push(E)),f.hooks.run("wrap",v);var G="";for(var D in v.attributes)G+=" "+D+'="'+(v.attributes[D]||"").replace(/"/g,"&quot;")+'"';return"<"+v.tag+' class="'+v.classes.join(" ")+'"'+G+">"+v.content+"</"+v.tag+">"};function b(y,m,O,x){y.lastIndex=m;var v=y.exec(O);if(v&&x&&v[1]){var E=v[1].length;v.index+=E,v[0]=v[0].slice(E)}return v}function A(y,m,O,x,v,E){for(var G in O)if(!(!O.hasOwnProperty(G)||!O[G])){var D=O[G];D=Array.isArray(D)?D:[D];for(var K=0;K<D.length;++K){if(E&&E.cause==G+","+K)return;var et=D[K],Q=et.inside,Ct=!!et.lookbehind,J=!!et.greedy,tt=et.alias;if(J&&!et.pattern.global){var nt=et.pattern.toString().match(/[imsuy]*$/)[0];et.pattern=RegExp(et.pattern.source,nt+"g")}for(var ot=et.pattern||et,H=x.next,M=v;H!==m.tail&&!(E&&M>=E.reach);M+=H.value.length,H=H.next){var T=H.value;if(m.length>y.length)return;if(!(T instanceof p)){var z=1,B;if(J){if(B=b(ot,M,y,Ct),!B||B.index>=y.length)break;var $=B.index,R=B.index+B[0].length,U=M;for(U+=H.value.length;$>=U;)H=H.next,U+=H.value.length;if(U-=H.value.length,M=U,H.value instanceof p)continue;for(var Z=H;Z!==m.tail&&(U<R||typeof Z.value=="string");Z=Z.next)z++,U+=Z.value.length;z--,T=y.slice(M,U),B.index-=M}else if(B=b(ot,0,T,Ct),!B)continue;var $=B.index,rt=B[0],bt=T.slice(0,$),Bt=T.slice($+rt.length),Mt=M+T.length;E&&Mt>E.reach&&(E.reach=Mt);var Dt=H.prev;bt&&(Dt=I(m,Dt,bt),M+=bt.length),j(m,Dt,z);var oe=new p(G,Q?f.tokenize(rt,Q):rt,tt,rt);if(H=I(m,Dt,oe),Bt&&I(m,H,Bt),z>1){var re={cause:G+","+K,reach:Mt};A(y,m,O,H.prev,M,re),E&&re.reach>E.reach&&(E.reach=re.reach)}}}}}}function C(){var y={value:null,prev:null,next:null},m={value:null,prev:y,next:null};y.next=m,this.head=y,this.tail=m,this.length=0}function I(y,m,O){var x=m.next,v={value:O,prev:m,next:x};return m.next=v,x.prev=v,y.length++,v}function j(y,m,O){for(var x=m.next,v=0;v<O&&x!==y.tail;v++)x=x.next;m.next=x,x.prev=m,y.length-=v}function S(y){for(var m=[],O=y.head.next;O!==y.tail;)m.push(O.value),O=O.next;return m}if(!l.document)return l.addEventListener&&(f.disableWorkerMessageHandler||l.addEventListener("message",function(y){var m=JSON.parse(y.data),O=m.language,x=m.code,v=m.immediateClose;l.postMessage(f.highlight(x,f.languages[O],O)),v&&l.close()},!1)),f;var k=f.util.currentScript();k&&(f.filename=k.src,k.hasAttribute("data-manual")&&(f.manual=!0));function q(){f.manual||f.highlightAll()}if(!f.manual){var Y=document.readyState;Y==="loading"||Y==="interactive"&&k&&k.defer?document.addEventListener("DOMContentLoaded",q):window.requestAnimationFrame?window.requestAnimationFrame(q):window.setTimeout(q,16)}return f})(r);n.exports&&(n.exports=o),typeof ns<"u"&&(ns.Prism=o),o.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},o.languages.markup.tag.inside["attr-value"].inside.entity=o.languages.markup.entity,o.languages.markup.doctype.inside["internal-subset"].inside=o.languages.markup,o.hooks.add("wrap",function(l){l.type==="entity"&&(l.attributes.title=l.content.replace(/&amp;/,"&"))}),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(c,d){var h={};h["language-"+d]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[d]},h.cdata=/^<!\[CDATA\[|\]\]>$/i;var f={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:h}};f["language-"+d]={pattern:/[\s\S]+/,inside:o.languages[d]};var p={};p[c]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return c}),"i"),lookbehind:!0,greedy:!0,inside:f},o.languages.insertBefore("markup","cdata",p)}}),Object.defineProperty(o.languages.markup.tag,"addAttribute",{value:function(l,c){o.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+l+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[c,"language-"+c],inside:o.languages[c]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.xml=o.languages.extend("markup",{}),o.languages.ssml=o.languages.xml,o.languages.atom=o.languages.xml,o.languages.rss=o.languages.xml,(function(l){var c=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;l.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+c.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+c.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+c.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+c.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:c,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},l.languages.css.atrule.inside.rest=l.languages.css;var d=l.languages.markup;d&&(d.tag.addInlined("style","css"),d.tag.addAttribute("style","css"))})(o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:o.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),o.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),o.languages.markup&&(o.languages.markup.tag.addInlined("script","javascript"),o.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),o.languages.js=o.languages.javascript,(function(){if(typeof o>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var l="Loading…",c=function(k,q){return"✖ Error "+k+" while fetching file: "+q},d="✖ Error: File does not exist or is empty",h={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},f="data-src-status",p="loading",b="loaded",A="failed",C="pre[data-src]:not(["+f+'="'+b+'"]):not(['+f+'="'+p+'"])';function I(k,q,Y){var y=new XMLHttpRequest;y.open("GET",k,!0),y.onreadystatechange=function(){y.readyState==4&&(y.status<400&&y.responseText?q(y.responseText):y.status>=400?Y(c(y.status,y.statusText)):Y(d))},y.send(null)}function j(k){var q=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(k||"");if(q){var Y=Number(q[1]),y=q[2],m=q[3];return y?m?[Y,Number(m)]:[Y,void 0]:[Y,Y]}}o.hooks.add("before-highlightall",function(k){k.selector+=", "+C}),o.hooks.add("before-sanity-check",function(k){var q=k.element;if(q.matches(C)){k.code="",q.setAttribute(f,p);var Y=q.appendChild(document.createElement("CODE"));Y.textContent=l;var y=q.getAttribute("data-src"),m=k.language;if(m==="none"){var O=(/\.(\w+)$/.exec(y)||[,"none"])[1];m=h[O]||O}o.util.setLanguage(Y,m),o.util.setLanguage(q,m);var x=o.plugins.autoloader;x&&x.loadLanguages(m),I(y,function(v){q.setAttribute(f,b);var E=j(q.getAttribute("data-range"));if(E){var G=v.split(/\r\n?|\n/g),D=E[0],K=E[1]==null?G.length:E[1];D<0&&(D+=G.length),D=Math.max(0,Math.min(D-1,G.length)),K<0&&(K+=G.length),K=Math.max(0,Math.min(K,G.length)),v=G.slice(D,K).join(`
`),q.hasAttribute("data-start")||q.setAttribute("data-start",String(D+1))}Y.textContent=v,o.highlightElement(Y)},function(v){q.setAttribute(f,A),Y.textContent=v})}}),o.plugins.fileHighlight={highlight:function(q){for(var Y=(q||document).querySelectorAll(C),y=0,m;m=Y[y++];)o.highlightElement(m)}};var S=!1;o.fileHighlight=function(){S||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),S=!0),o.plugins.fileHighlight.highlight.apply(this,arguments)}})()})(Ga)),Ga.exports}var Md=kd();const xo=Xs(Md);Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};const Id=[{servico_jae:"100",descricao_servico_jae:"General Osório - Central"},{servico_jae:"108",descricao_servico_jae:"Jardim de Alah - Terminal Gentileza"},{servico_jae:"112",descricao_servico_jae:"Terminal Gentileza - Alto Gávea"},{servico_jae:"309",descricao_servico_jae:"Terminal Alvorada - Central"},{servico_jae:"371",descricao_servico_jae:"Praça Seca - Praça Tiradentes"},{servico_jae:"463",descricao_servico_jae:"São Cristóvão - Copacabana"},{servico_jae:"497",descricao_servico_jae:"Penha - Largo do Machado"},{servico_jae:"548",descricao_servico_jae:"Metrô Botafogo - Terminal Alvorada"},{servico_jae:"553",descricao_servico_jae:"Recreio dos Bandeirantes - Rio Sul"},{servico_jae:"607",descricao_servico_jae:"Cascadura - Rio Comprido"},{servico_jae:"629",descricao_servico_jae:"Irajá - Saens Peña"},{servico_jae:"639",descricao_servico_jae:"Jardim América - Saens Peña"},{servico_jae:"685",descricao_servico_jae:"Irajá - Méier"},{servico_jae:"721",descricao_servico_jae:"Vila Cruzeiro - Cascadura"},{servico_jae:"775",descricao_servico_jae:"Jardim América - Madureira"},{servico_jae:"804",descricao_servico_jae:"Largo do Aarão - Campo Grande"},{servico_jae:"808",descricao_servico_jae:"Salim - Campo Grande"},{servico_jae:"841",descricao_servico_jae:"Campo Grande - Inhoaíba"},{servico_jae:"855",descricao_servico_jae:"Bangu - Magarça"},{servico_jae:"905",descricao_servico_jae:"Bonsucesso - Irajá"},{servico_jae:"917",descricao_servico_jae:"Realengo - Bonsucesso"},{servico_jae:"919",descricao_servico_jae:"Pavuna - Bonsucesso"},{servico_jae:"920",descricao_servico_jae:"Pavuna - Bonsucesso"},{servico_jae:"L20TDO",descricao_servico_jae:"Terminal Deodoro"},{servico_jae:"LECD87",descricao_servico_jae:"Jesuítas - Terminal Curral Falso"},{servico_jae:"O21SAL",descricao_servico_jae:"Estação Salvador Allende"},{servico_jae:"O46TSC",descricao_servico_jae:"Estação Santa Cruz"},{servico_jae:"SN624",descricao_servico_jae:"Mariópolis - Praça da Bandeira"},{servico_jae:"SN639",descricao_servico_jae:"Jardim América - Saens Peña"},{servico_jae:"SV917",descricao_servico_jae:"Realengo - Bonsucesso"},{servico_jae:"483",descricao_servico_jae:"Penha - General Osório"},{servico_jae:"638",descricao_servico_jae:"Marechal Hermes - Saens Peña"},{servico_jae:"864",descricao_servico_jae:"Bangu - Terminal Campo Grande"},{servico_jae:"867",descricao_servico_jae:"Barra de Guaratiba - Terminal Campo Grande"},{servico_jae:"884",descricao_servico_jae:"Sepetiba - Terminal Campo Grande"},{servico_jae:"498",descricao_servico_jae:"Circular da Penha - Largo do Machado"},{servico_jae:"871",descricao_servico_jae:"Terminal Pingo D'Água - Cesarão"},{servico_jae:"883",descricao_servico_jae:"Bangu - Terminal Mato Alto"},{servico_jae:"SV624",descricao_servico_jae:"Mariópolis - Praça da Bandeira"},{servico_jae:"680",descricao_servico_jae:"Penha (IAPI) - Méier"},{servico_jae:"110",descricao_servico_jae:"Terminal Gentileza - Jardim de Alah"},{servico_jae:"918",descricao_servico_jae:"Bangu - Bonsucesso"},{servico_jae:"624",descricao_servico_jae:"Mariópolis - Praça da Bandeira"}],Rd=[{data:"2025-02-17",hora:"14",operadora:"EMPRESA DE TRANSPORTE BRASO LISBOA LTDA.",servico_jae:"474",id_veiculo:"29011",temperatura:"0.0"},{data:"2025-02-17",hora:"14",operadora:"EMPRESA DE TRANSPORTE BRASO LISBOA LTDA.",servico_jae:"474",id_veiculo:"29011",temperatura:"0.0"},{data:"2025-02-17",hora:"14",operadora:"EMPRESA DE TRANSPORTE BRASO LISBOA LTDA.",servico_jae:"474",id_veiculo:"29011",temperatura:"0.0"},{data:"2025-02-17",hora:"14",operadora:"EMPRESA DE TRANSPORTE BRASO LISBOA LTDA.",servico_jae:"474",id_veiculo:"29068",temperatura:"0.0"},{data:"2025-02-17",hora:"14",operadora:"EMPRESA DE TRANSPORTE BRASO LISBOA LTDA.",servico_jae:"474",id_veiculo:"29068",temperatura:"0.0"},{data:"2025-02-17",hora:"14",operadora:"EMPRESA DE TRANSPORTE BRASO LISBOA LTDA.",servico_jae:"474",id_veiculo:"29068",temperatura:"0.0"},{data:"2025-02-17",hora:"14",operadora:"EMPRESA DE TRANSPORTE BRASO LISBOA LTDA.",servico_jae:"474",id_veiculo:"29068",temperatura:"0.0"},{data:"2025-02-17",hora:"14",operadora:"EMPRESA DE TRANSPORTE BRASO LISBOA LTDA.",servico_jae:"474",id_veiculo:"29068",temperatura:"0.0"},{data:"2025-02-17",hora:"14",operadora:"EMPRESA DE TRANSPORTE BRASO LISBOA LTDA.",servico_jae:"474",id_veiculo:"29124",temperatura:"0.0"},{data:"2025-02-17",hora:"14",operadora:"EMPRESA DE TRANSPORTE BRASO LISBOA LTDA.",servico_jae:"474",id_veiculo:"29124",temperatura:"0.0"}];var Nd=gt('<tr><td class="svelte-i2qlck"> </td><td class="svelte-i2qlck"> </td></tr>'),zd=gt('<tr><td class="svelte-i2qlck"> </td><td class="svelte-i2qlck"> </td><td class="svelte-i2qlck"> </td><td class="svelte-i2qlck"> </td><td class="svelte-i2qlck"> </td><td class="svelte-i2qlck"> </td></tr>'),Dd=gt(`<div class="intro-decode svelte-i2qlck"><div class="pres-decode svelte-i2qlck"><h1>Rio 60 graus</h1> <p class="svelte-i2qlck">Rio bate o recorde de 60 °C de sensação térmica e os jornais abrem
            suas matérias comemorando com imagens de banhistas lotando as praias
            da zona sul. Esquecendo quem vive no Hell de Janeiro das comunidades
            marginalizadas e em áreas de risco, dos motoristas e passageiros
            dentro de ônibus sem ar condicionado.</p></div> <div class="refer-decode svelte-i2qlck"><h4 class="svelte-i2qlck">Banco de dados utilizado nesta decodificação</h4> <ul class="svelte-i2qlck"><li class="svelte-i2qlck"><a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=br_rj_riodejaneiro_bilhetagem&amp;t=gps_validador&amp;page=table" target="_blank">Tabela de posições de GPS de todos os validadores da Jaé
                    instalados, incluindo estado do equipamento, serviço,
                    sentido e veículo associado e temperatura do veículo.</a></li> <li class="svelte-i2qlck"><a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=gtfs&amp;t=trips&amp;page=table" target="_blank">GTFS - Viagens para cada rota</a></li> <li class="svelte-i2qlck"><a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=gtfs&amp;t=shapes_geom&amp;page=table" target="_blank">GTFS - Shapes em formatos geográficos para cada rota</a></li></ul></div></div> <div class="content-decode svelte-i2qlck"><p class="svelte-i2qlck">Às 12h35 do dia 17 de fevereiro de 2025, o Rio atingiu o Nível de Calor
        4 (NC4) pela primeira vez desde a criação do protocolo para altas
        temperaturas. O NC4 é atingido quando a temperatura na cidade permanece
        entre 40 °C e 44 °C por pelo menos três dias consecutivos. O modelo foi
        desenvolvido em colaboração com os departamentos de Saúde, Meio Ambiente
        e Clima, além do Centro Operacional Rio (COR), e tem como base o Índice
        de Calor, que leva em consideração a temperatura e a umidade relativa do
        ar.</p> <h3 class="svelte-i2qlck">Quais linhas colocaram para rodar, em 17 de fevereiro de 2025, veículos
        sem ar condicionado, cuja temperatura interna ultrapassou os 50 °C?</h3> <p class="svelte-i2qlck">A partir do inverno de 2024, começou a instalação de sensores de
        temperatura em todos os ônibus municipais. Esses sensores enviam dados
        para os aparelhos Jaé e são disponibilizados pela Secretaria Municipal
        de Transportes. O plano é claro: a empresa que não cumprir com a
        temperatura aceitável terá seu subsídio da prefeitura reduzido (um
        ar-condicionado, segundo a Associação Brasileira de Normas Técnicas, tem
        que reduzir a temperatura nos veículos em no mínimo 8°C em relação à
        temperatura externa).</p> <div class="split-cont svelte-i2qlck"><div class="split-left"><p class="svelte-i2qlck">Os dados de temperatura estão disponíveis em um banco de dados
                disponibilizado pela Secretaria Municipal de Transportes chamado <a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=br_rj_riodejaneiro_bilhetagem&amp;t=gps_validador&amp;page=table" target="_blank">Tabela de posições de GPS de todos os validadores da Jaé
                    instalados, incluindo estado do equipamento, serviço,
                    sentido e veículo associado e temperatura do veículo</a> (código rj-smtr.br_rj_riodejaneiro_bilhetagem.gps_validador\`).<br/>Para acessar as temperaturas de todos os ônibus municipais em
                17 de fevereiro de 2025, é necessário executar a seguinte busca:</p></div> <div class="split-right svelte-i2qlck"><p class="svelte-i2qlck">Este exercício é conduzido através dos serviços do Google Cloud.
                Para conectar sua conta do Google e aprender suas funções
                básicas, siga o <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/" class="svelte-i2qlck">tutorial</a>. Caso contrário, use preferencialmente <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/#acessando-dados-via-python" class="svelte-i2qlck">Python</a> ou <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/#acessando-dados-via-r" class="svelte-i2qlck">R</a>.</p></div></div> <pre class="svelte-i2qlck"><code class="language-sql svelte-i2qlck">
-- Lógica: selecionar TODAS as distintas linhas de ônibus (descricao_servico_jae) 
-- no banco de dados (\`rj-smtr.br_rj_riodejaneiro_bilhetagem.gps_validador\`) 
-- que atendem às condições: data (\`data\` = "2025-02-17" ) e 
-- temperatura em °C (temperatura > 50,0).

SELECT DISTINCT id_servico_jae, descricao_servico_jae 
FROM \`rj-smtr.br_rj_riodejaneiro_bilhetagem.gps_validador\` 
WHERE \`data\` = "2025-02-17" 
AND temperatura > 50.0

    </code></pre> <table class="svelte-i2qlck"><thead><tr><th class="svelte-i2qlck">ID serviço Jaé</th><th class="svelte-i2qlck">Descrição serviço Jaé</th></tr></thead><tbody></tbody></table> <p class="svelte-i2qlck">Esta é a tabela das linhas que colocaram para rodar, em 17 de fevereiro
        de 2025, veículos sem ar condicionado, cuja temperatura interna
        ultrapassou os 50 °C. É possível, por exemplo, criar um mapa das linhas
        envolvidas, para compará-lo com a extensão de toda a rede.</p> <div class="split-cont svelte-i2qlck"><div class="split-left"><p class="svelte-i2qlck">Os dados espaciais para criar um mapa das linhas envolvidas
                podem ser extraídos através do uso de duas tabelas. A tabela <a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=gtfs&amp;t=trips&amp;page=table" target="_blank">GTFS - Viagens para cada rota</a> e a tabela <a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=gtfs&amp;t=shapes_geom&amp;page=table" target="_blank">GTFS - Shapes em formatos geográficos para cada rota</a> . Cada dado espacial está associado a um identificador que, por várias
                razões, não coincide com o nome da linha. Por exemplo, a linha 483
                Penha - General Osório tem o identificador 'byuc' (que obtenho da
                tabela GTFS - Viagens para cada rota), ao qual corresponde uma geometria
                (que obtenho da tabela GTFS - Formatos geográficos para cada rota).</p></div> <div class="split-right svelte-i2qlck"><p class="svelte-i2qlck">Este exercício é conduzido através dos serviços do Google Cloud.
                Para conectar sua conta do Google e aprender suas funções
                básicas, siga o <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/" class="svelte-i2qlck">tutorial</a>. Caso contrário, use preferencialmente <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/#acessando-dados-via-python" class="svelte-i2qlck">Python</a> ou <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/#acessando-dados-via-r" class="svelte-i2qlck">R</a>.</p></div></div> <pre class="svelte-i2qlck"><code class="language-sql svelte-i2qlck">

-- Lógica: pesquisar os IDs das geometrias das linhas (shape_id) 
-- no banco de dados (\`rj-smtr.gtfs.trips\`) 
-- que atendem às condições: está entre as linhas que colocaram para rodar, em 17 de fevereiro de 2025, veículos sem ar condicionado, cuja temperatura interna ultrapassou os 50 °C.

SELECT DISTINCT trip_short_name, shape_id 
FROM \`rj-smtr.gtfs.trips\` 
WHERE trip_short_name IN ("920", "O46TSC", "624", "SN624", "371", "108", "685", "808", "871","SN639", "112", "721", "639", "638", "680", "804", "883", "100", "497", "629", "919", "L20TDO", "553", "855", "841", "917", "SV917", "463", "LECD87", "021SAL", "309", "867", "884", "483", "905", "607", "548", "864", "SV624", "110", "498", "775", "918")

    </code></pre> <pre class="svelte-i2qlck"><code class="language-sql svelte-i2qlck">

-- Lógica: extrair as geometrias das linhas (shape ) em formato WKT utilizável por softwares GIS
-- no banco de dados (\`rj-smtr.gtfs.shapes_geom\`) 
-- que atendem às condições: tem o shape_id das linhas que colocaram para rodar, em 17 de fevereiro de 2025, veículos sem ar condicionado, cuja temperatura interna ultrapassou os 50 °C.

SELECT shape_id, shape 
FROM \`rj-smtr.gtfs.shapes_geom\` 
WHERE shape_id IN ("byuc", "fl98", "y35p", "O0112AAA0AIDU02", "O0864AAA0AIDU01", "O0919AAA0AVDU02", "10f900a8-7a30-43b5-a2a3-bde69060e1be", "49ff21ac-2dab-4583-81ff-337fafcab12c",..., "yhfv")
   
    </code></pre> <div class="split-cont svelte-i2qlck" style="margin-top: 3rem;"><div class="split-left"><p class="svelte-i2qlck">As geometrias extraídas se encontram no formato WKT “Well-known
                text representation of geometry” e podem ser visualizadas pelos
                softwares GIS mais comuns. As WKT são conjuntos de coordenadas.
                Um exemplo de geometria no formato WKT é:</p> <pre class="svelte-i2qlck"><code class="svelte-i2qlck">
LINESTRING(-43.68531 -22.91527, -43.68566 -22.91496,
-43.68607 -22.91452, -43.68616 -22.91435, -43.68641
-22.91334, -43.68652 -22.91295, -43.6867 -22.91264,
-43.68692 -22.91225, -43.68727 -22.91152, -43.68735
-22.91115, -43.68738 -22.91068, -43.68735 -22.91054,
-43.68731 -22.91043, -43.68716 -22.91019, -43.68601
-22.90861, -43.68424 -22.90618, -43.68292 -22.90433,
-43.68251 -22.90379, -43.68218 -22.90335, -43.68167
-22.90264, -43.68149 -22.90235, -43.68106 -22.9018,
...
-43.65868 -22.88406, -43.65855 -22.88415, -43.65838
-22.88432, -43.65826 -22.88443, -43.65754 -22.88521,
-43.65611 -22.88679)
                </code></pre></div> <div class="split-right svelte-i2qlck"><p class="svelte-i2qlck">Para adicionar uma geometria WKT no QGIS, siga o <a target="_blank" href="https://gis-stackexchange-com.translate.goog/questions/202770/loading-wkt-polygons-into-qgis?_x_tr_sl=en&amp;_x_tr_tl=pt&amp;_x_tr_hl=en&amp;_x_tr_pto=wapp" class="svelte-i2qlck">tutorial</a>.</p></div></div> <!> <br/> <br/> <br/> <br/><br/> <br/> <h3 class="svelte-i2qlck">Qual foi a temperatura atingida pelos veículos da linha 474 em 17 de
        fevereiro de 2025?</h3> <div class="split-cont svelte-i2qlck"><div class="split-left"><p class="svelte-i2qlck">É possível responder a essa pergunta consultando a <a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=br_rj_riodejaneiro_bilhetagem&amp;t=gps_validador&amp;page=table" target="_blank">Tabela de posições de GPS de todos os validadores da Jaé
                    instalados, incluindo estado do equipamento, serviço,
                    sentido e veículo associado e temperatura do veículo</a>. Essa questão levanta diferentes assuntos, desde atrasos na
                instalação dos sensores de temperatura, sabotagens e mau
                funcionamento dos aparelhos instalados em algumas linhas, até a
                falta de conexão entre os sensores e os aparelhos. Retratando a
                falácia na leitura acrítica dos dados. Em 17 de fevereiro de
                2025, os 23 veículos da linha 474 que a Braso Lisboa colocou
                para rodar não transmitiram dados aos aparelhos Jaé. Isso é
                evidenciado ao ler as tabelas, sendo que o campo de temperatura
                apresenta resultados nulos ou iguais a 0.</p></div> <div class="split-right svelte-i2qlck"><p class="svelte-i2qlck">Este exercício é conduzido através dos serviços do Google Cloud.
                Para conectar sua conta do Google e aprender suas funções
                básicas, siga o <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/" class="svelte-i2qlck">tutorial</a>. Caso contrário, use preferencialmente <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/#acessando-dados-via-python" class="svelte-i2qlck">Python</a> ou <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/#acessando-dados-via-r" class="svelte-i2qlck">R</a>.</p></div></div> <table class="svelte-i2qlck"><thead><tr><th class="svelte-i2qlck">Data</th><th class="svelte-i2qlck">Hora</th><th class="svelte-i2qlck">Operadora</th><th class="svelte-i2qlck">ID serviço Jaé</th><th class="svelte-i2qlck">ID veiculo</th><th class="svelte-i2qlck">Temperatura</th></tr></thead><tbody></tbody></table></div>`,1);function jd(n,r){Ze(r,!1),Te(()=>{xo.highlightAll()}),oi();var o=Dd(),l=W(ie(o),2),c=W(F(l),10),d=W(F(c));Vt(d,5,()=>Id,Wt,(b,A)=>{var C=Nd(),I=F(C),j=F(I),S=W(I),k=F(S);St(()=>{ut(j,P(A).servico_jae),ut(k,P(A).descricao_servico_jae)}),ct(b,C)});var h=W(c,12);$s(h,{src:"/temp.svg",height:"600px",width:"100%"});var f=W(h,17),p=W(F(f));Vt(p,5,()=>Rd,Wt,(b,A)=>{var C=zd(),I=F(C),j=F(I),S=W(I),k=F(S),q=W(S),Y=F(q),y=W(q),m=F(y),O=W(y),x=F(O),v=W(O),E=F(v);St(()=>{ut(j,P(A).data),ut(k,P(A).hora),ut(Y,P(A).operadora),ut(m,P(A).servico_jae),ut(x,P(A).id_veiculo),ut(E,P(A).temperatura)}),ct(b,C)}),ct(n,o),qe()}const Bd=[{data:"2025-02-17",hora:"4",total_passageiros:"65"},{data:"2025-02-17",hora:"5",total_passageiros:"284"},{data:"2025-02-17",hora:"6",total_passageiros:"468"},{data:"2025-02-17",hora:"7",total_passageiros:"639"},{data:"2025-02-17",hora:"8",total_passageiros:"416"},{data:"2025-02-17",hora:"9",total_passageiros:"290"},{data:"2025-02-17",hora:"10",total_passageiros:"202"},{data:"2025-02-17",hora:"11",total_passageiros:"205"},{data:"2025-02-17",hora:"12",total_passageiros:"249"},{data:"2025-02-17",hora:"13",total_passageiros:"243"},{data:"2025-02-17",hora:"14",total_passageiros:"233"},{data:"2025-02-17",hora:"15",total_passageiros:"249"},{data:"2025-02-17",hora:"16",total_passageiros:"350"},{data:"...",hora:"...",total_passageiros:"..."},{data:"2025-02-21",hora:"21",total_passageiros:"91"},{data:"2025-02-21",hora:"22",total_passageiros:"74"},{data:"2025-02-21",hora:"23",total_passageiros:"12"}],Zd=[{data:"2025-02-17",hora:"5",total_passageiros:"13"},{data:"2025-02-17",hora:"6",total_passageiros:"9"},{data:"2025-02-17",hora:"9",total_passageiros:"30"},{data:"2025-02-17",hora:"10",total_passageiros:"37"},{data:"2025-02-17",hora:"11",total_passageiros:"23"},{data:"2025-02-17",hora:"12",total_passageiros:"27"},{data:"2025-02-17",hora:"14",total_passageiros:"11"},{data:"2025-02-17",hora:"15",total_passageiros:"10"},{data:"2025-02-17",hora:"16",total_passageiros:"2"},{data:"2025-02-17",hora:"17",total_passageiros:"52"},{data:"2025-02-17",hora:"18",total_passageiros:"33"},{data:"2025-02-17",hora:"19",total_passageiros:"26"},{data:"2025-02-17",hora:"20",total_passageiros:"8"},{data:"...",hora:"...",total_passageiros:"..."},{data:"2025-02-18",hora:"5",total_passageiros:"18"},{data:"2025-02-18",hora:"6",total_passageiros:"19"},{data:"2025-02-18",hora:"8",total_passageiros:"22"}],qd=[{hora:"5",media_passageiros:"290.0"},{hora:"6",media_passageiros:"481.4"},{hora:"7",media_passageiros:"599.2"},{hora:"8",media_passageiros:"393.6"},{hora:"9",media_passageiros:"275.4"},{hora:"10",media_passageiros:"218.0"},{hora:"11",media_passageiros:"184.4"}],Fd=[{hora:"5",media_passageiros:"18.2"},{hora:"6",media_passageiros:"13.0"},{hora:"7",media_passageiros:"5.0"},{hora:"8",media_passageiros:"22.5"},{hora:"9",media_passageiros:"9.8"},{hora:"10",media_passageiros:"15.3"},{hora:"11",media_passageiros:"17.8"}],Ud=[{data:"2025-02-21",hora:"4",total_passageiros:"21"},{data:"2025-02-21",hora:"5",total_passageiros:"70"},{data:"2025-02-21",hora:"6",total_passageiros:"99"},{data:"2025-02-21",hora:"7",total_passageiros:"86"},{data:"2025-02-21",hora:"8",total_passageiros:"43"},{data:"2025-02-21",hora:"9",total_passageiros:"25"},{data:"2025-02-21",hora:"11",total_passageiros:"20"},{data:"2025-02-21",hora:"12",total_passageiros:"24"},{data:"2025-02-21",hora:"13",total_passageiros:"11"},{data:"2025-02-21",hora:"14",total_passageiros:"9"},{data:"2025-02-21",hora:"15",total_passageiros:"5"},{data:"2025-02-21",hora:"16",total_passageiros:"12"},{data:"2025-02-21",hora:"17",total_passageiros:"22"},{data:"2025-02-21",hora:"18",total_passageiros:"4"},{data:"2025-02-21",hora:"19",total_passageiros:"8"},{data:"2025-02-21",hora:"20",total_passageiros:"3"}];var Hd=gt('<tr><td class="svelte-18jvlxi"> </td><td class="svelte-18jvlxi"> </td><td class="svelte-18jvlxi"> </td></tr>'),Gd=gt('<tr><td class="svelte-18jvlxi"> </td><td class="svelte-18jvlxi"> </td><td class="svelte-18jvlxi"> </td></tr>'),Wd=gt('<tr><td class="svelte-18jvlxi"> </td><td class="svelte-18jvlxi"> </td></tr>'),Vd=gt('<tr><td class="svelte-18jvlxi"> </td><td class="svelte-18jvlxi"> </td></tr>'),Yd=gt('<tr><td class="svelte-18jvlxi"> </td><td class="svelte-18jvlxi"> </td><td class="svelte-18jvlxi"> </td></tr>'),$d=gt(`<div class="intro-decode svelte-18jvlxi"><div class="pres-decode svelte-18jvlxi"><h1>Indo "alimentar" os bairros ricos da zona sul</h1> <p class="svelte-18jvlxi">Babás, empregadas domésticas, camareiras, vendedoras, garçons e
            pedreiros desembarcam na zona sul todas as manhãs. A cidade está
            planejada para que a zona norte “alimente” os bairros ricos da zona
            sul. Enquanto os ônibus que seguem no sentido sul circulam lotados,
            os que seguem no sentido norte ficam vazios.</p></div> <div class="refer-decode svelte-18jvlxi"><h4 class="svelte-18jvlxi">Banco de dados utilizado nesta decodificação</h4> <ul class="svelte-18jvlxi"><li class="svelte-18jvlxi"><a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=br_rj_riodejaneiro_bilhetagem&amp;t=passageiros_hora&amp;page=table" target="_blank">Tabela de contagem do número de passageiros por hora.
                    Agrega valores da tabela de transações por: data, hora,
                    modo, consorcio, operadora, servico, sentido e
                    tipo_transacao</a></li> <li class="svelte-18jvlxi"><a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=br_rj_riodejaneiro_bilhetagem&amp;t=passageiros_tile_hora&amp;page=table" target="_blank">Tabela de contagem do número de passageiros por hora.
                    Agrega valores das tabelas transacao e transacao_riocard
                    por: data, hora, modo, consorcio, operadora, servico,
                    sentido, tipo_transacao e tile_id</a></li></ul></div></div> <div class="content-decode svelte-18jvlxi"><div class="split-cont svelte-18jvlxi"><div class="split-left"><p class="svelte-18jvlxi">Os dados sobre os passageiros estão disponíveis em um banco de
                dados disponibilizado pela Secretaria Municipal de Transportes
                chamado <a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=br_rj_riodejaneiro_bilhetagem&amp;t=gps_validador&amp;page=table" target="_blank">Tabela de contagem do número de passageiros por hora</a> (código \`rj-smtr.br_rj_riodejaneiro_bilhetagem.passageiros_hora\`).<br/>Para acessar o número de passageiros por hora embarcados no
                474 em ambos os sentidos, entre 17 e 21 de fevereiro de 2025,
                uma semana comun de trabalho antes do carnaval e no meio de uma
                onda de calor, é necessário executar a seguinte busca:</p></div> <div class="split-right svelte-18jvlxi"><p class="svelte-18jvlxi">Este exercício é conduzido através dos serviços do Google Cloud.
                Para conectar sua conta do Google e aprender suas funções
                básicas, siga o <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/" class="svelte-18jvlxi">tutorial</a>. Caso contrário, use preferencialmente <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/#acessando-dados-via-python" class="svelte-18jvlxi">Python</a> ou <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/#acessando-dados-via-r" class="svelte-18jvlxi">R</a>.</p></div></div> <pre class="svelte-18jvlxi"><code class="language-sql svelte-18jvlxi">
-- Selecionar as colunas data e hora e criar uma coluna que represente a soma da quantidade de passageiros retirada da coluna “quantidade_passageiros” ( essa coluna deve ser chamada de “total_passageiros”)
-- no banco de dados (\`rj-smtr.br_rj_riodejaneiro_bilhetagem.passageiros_hora\`) 
-- que atendem às condições: entre duas datas (BETWEEN DATE) e 
-- o serviço é o 474 (servico_jae ="474") e
-- a direção é de Jacaré para Copacabana (sentido = "0").
-- Para que o resultado seja compreensível, ordene a tabela extraída por data e hora

SELECT data, hora, SUM(quantidade_passageiros) AS total_passageiros 
FROM \`rj-smtr.br_rj_riodejaneiro_bilhetagem.passageiros_hora\` 
WHERE data BETWEEN DATE('2025-02-17') AND DATE('2025-02-21') 
AND servico_jae ="474" 
AND sentido = "0"
GROUP BY data, hora 
ORDER BY data, hora

-- Para obter os dados da volta Copacabana pro Jacaré, é preciso trocar sentido="0" por sentido="1".

    </code></pre> <div class="split-cont svelte-18jvlxi" style="grid-template-columns: 1fr 1fr !important;"><div class="split-left"><p class="svelte-18jvlxi">Total de passageiros embarcados no 474 entre 17 e 21 de
                fevereiro de 2025, sentido Copacabana</p> <table class="svelte-18jvlxi"><thead><tr><th class="svelte-18jvlxi">Data</th><th class="svelte-18jvlxi">Hora</th><th class="svelte-18jvlxi">Total de passageiros</th></tr></thead><tbody></tbody></table></div> <div class="split-right svelte-18jvlxi" style="background: none !important; color:black; padding:0; display:block"><p class="svelte-18jvlxi">Total de passageiros embarcados no 474 entre 17 e 21 de
                fevereiro de 2025, sentido Jacaré</p> <table class="svelte-18jvlxi"><thead><tr><th class="svelte-18jvlxi">Data</th><th class="svelte-18jvlxi">Hora</th><th class="svelte-18jvlxi">Total de passageiros</th></tr></thead><tbody></tbody></table></div></div> <p class="svelte-18jvlxi">Enquanto desde cedo os moradores da zona norte embarcam nos ônibus para
        atravessar o túnel de Santa Bárbara, a zona sul ainda dorme. Ao calcular
        a diferença entre a média de passageiros nos dois sentidos (por exemplo,
        no intervalo horário das 4 às 12), a diferença é gritante:</p> <pre class="svelte-18jvlxi"><code class="language-sql svelte-18jvlxi">

WITH por_dia AS (
  SELECT
    data,
    hora,
    SUM(quantidade_passageiros) AS total_passageiros
  FROM \`rj-smtr.br_rj_riodejaneiro_bilhetagem.passageiros_hora\`
  WHERE data BETWEEN DATE('2025-02-17') AND DATE('2025-02-21')
    AND hora &gt; 4 AND hora &lt; 12
    AND servico_jae = "474"
    AND sentido = "0"
  GROUP BY data, hora
)
SELECT
  hora,
  AVG(total_passageiros) AS media_passageiros
FROM por_dia
GROUP BY hora
ORDER BY hora

    </code></pre> <div class="split-cont svelte-18jvlxi" style="grid-template-columns: 1fr 1fr !important;"><div class="split-left"><p class="svelte-18jvlxi">Media de passageiros embarcados no 474 entre 17 e 21 de
                fevereiro de 2025, intervalo horário das 4 às 12, sentido
                Copacabana</p> <table class="svelte-18jvlxi"><thead><tr><th class="svelte-18jvlxi">Hora</th><th class="svelte-18jvlxi">Madia de passageiros</th></tr></thead><tbody></tbody></table></div> <div class="split-right svelte-18jvlxi" style="background: none !important; color:black; padding:0; display:block"><p class="svelte-18jvlxi">Media de passageiros embarcados no 474 entre 17 e 21 de
                fevereiro de 2025, intervalo horário das 4 às 12, sentido Jacaré</p> <table class="svelte-18jvlxi"><thead><tr><th class="svelte-18jvlxi">Hora</th><th class="svelte-18jvlxi">Media de passageiros</th></tr></thead><tbody></tbody></table></div></div> <p class="svelte-18jvlxi">Esses dados podem ser ainda mais específicos, identificando quantas
        pessoas embarcam no 474 em determinados pontos. Isso é possível através
        de uma análise espacial, utilizando o sistema de referência
        disponibilizado pela Secretaria Municipal de Transportes, que segmentou
        a cidade numa malha hexagonal, onde cada hexágono possui um
        identificador.</p> <div class="svg-wrapper svelte-18jvlxi"><div class="svg-container" style="border:1px solid #ccc; overflow:hidden; width:100%; height:100%;"></div> <div class="controls svelte-18jvlxi"><button class="svelte-18jvlxi">+</button> <button class="svelte-18jvlxi">–</button> <button class="svelte-18jvlxi">Reset</button></div></div> <div class="split-cont svelte-18jvlxi"><div class="split-left"><p class="svelte-18jvlxi">O primeiro passo é identificar em qual hexágono os pontos estão
                localizados. Por exemplo, os quatro primeiros: Ponto final:
                Jacaré :: Álvaro Seixas (R. Álvaro Seixas, 150), Largo do Jacaré
                (Largo do Jacaré), Viúva Ortigão (R. Dois de Maio, 624),
                Baronesa do Engenho Novo (R. Dois de Maio, 349), na malha
                hexagonal disponível no banco de dados chamado <a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=br_rj_riodejaneiro_geo&amp;t=h3_res9&amp;page=table" target="_blank">h3_res9</a> , estão localizados no hexágono identificado como "89a8a06113bffff". <br/><br/>Tendo esse identificador, é possível determinar o
                número de passageiros embarcados no 474 nesses pontos,
                consultando o banco de dados chamado <a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=br_rj_riodejaneiro_bilhetagem&amp;t=passageiros_tile_hora&amp;page=table" target="_blank">Tabela de contagem do número de passageiros por hora.
                    Agrega valores das tabelas transacao e transacao_riocard
                    por: data, hora, modo, consorcio, operadora, servico,
                    sentido, tipo_transacao e tile_id</a>, executando a seguinte busca:</p></div> <div class="split-right svelte-18jvlxi"><p class="svelte-18jvlxi">Este exercício é conduzido através dos serviços do Google Cloud.
                Para conectar sua conta do Google e aprender suas funções
                básicas, siga o <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/" class="svelte-18jvlxi">tutorial</a>. Caso contrário, use preferencialmente <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/#acessando-dados-via-python" class="svelte-18jvlxi">Python</a> ou <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/#acessando-dados-via-r" class="svelte-18jvlxi">R</a>.</p></div></div> <pre class="svelte-18jvlxi"><code class="language-sql svelte-18jvlxi">
-- Selecionar as colunas data e hora e criar uma coluna que represente a soma da quantidade de passageiros retirada da coluna “quantidade_passageiros” ( essa coluna deve ser chamada de “total_passageiros”)
-- no banco de dados (\`rj-smtr.br_rj_riodejaneiro_bilhetagem.passageiros_hora\`) 
-- que atendem às condições: data (data ='2025-02-21') e 
-- o serviço é o 474 (servico_jae ="474") e
-- a direção é de Jacaré para Copacabana (sentido = "0") e
-- o ponto está localizado no hexágono cujo identificador é conhecido (tile_id = "89a8a06113bffff")
-- Para que o resultado seja compreensível, ordene a tabela extraída por data e hora

SELECT data, hora, SUM(quantidade_passageiros) AS total_passageiros 
FROM \`rj-smtr.br_rj_riodejaneiro_bilhetagem.passageiros_tile_hora\` 
WHERE data ='2025-02-21' 
AND servico_jae ="474" 
AND sentido="0" 
AND tile_id = "89a8a06113bffff" 
GROUP BY data, hora 
ORDER BY data, hora

    </code></pre> <p class="svelte-18jvlxi">Total de passageiros embarcados no 474 em 21 de fevereiro de 2025,
        sentido Copacabana, nos quatro primeiros pontos: Ponto final Jacaré :: Álvaro
        Seixas (R. Álvaro Seixas, 150), Largo do Jacaré (Largo do Jacaré), Viúva
        Ortigão (R. Dois de Maio, 624), Baronesa do Engenho Novo (R. Dois de
        Maio, 349)</p> <table class="svelte-18jvlxi"><thead><tr><th class="svelte-18jvlxi">Data</th><th class="svelte-18jvlxi">Hora</th><th class="svelte-18jvlxi">Total de passageiros</th></tr></thead><tbody></tbody></table></div>`,1);function Xd(n,r){Ze(r,!1);let o=ne(r,"src",8,"h3re9.svg"),l=ne(r,"height",8,"1000px"),c=ne(r,"width",8,"100%"),d=jt(),h;Te(()=>{xo.highlightAll()}),Te(async()=>{const M=`/474/${o()}`,z=await(await fetch(M)).text();ho(d,P(d).innerHTML=z);const B=P(d).querySelector("svg");B&&(h=ia(B,{contain:"outside",maxScale:10,minScale:1}),B.parentElement.addEventListener("wheel",R=>{R.ctrlKey&&(R.preventDefault(),h.zoomWithWheel(R))}))});function f(){h==null||h.zoomIn()}function p(){h==null||h.zoomOut()}function b(){h==null||h.reset()}oi();var A=$d(),C=W(ie(A),2),I=W(F(C),4),j=F(I),S=W(F(j),2),k=W(F(S));Vt(k,5,()=>Bd,Wt,(M,T)=>{var z=Hd(),B=F(z),R=F(B),U=W(B),Z=F(U),$=W(U),rt=F($);St(()=>{ut(R,(P(T),vt(()=>P(T).data))),ut(Z,(P(T),vt(()=>P(T).hora))),ut(rt,(P(T),vt(()=>P(T).total_passageiros)))}),ct(M,z)});var q=W(j,2),Y=W(F(q),2),y=W(F(Y));Vt(y,5,()=>Zd,Wt,(M,T)=>{var z=Gd(),B=F(z),R=F(B),U=W(B),Z=F(U),$=W(U),rt=F($);St(()=>{ut(R,(P(T),vt(()=>P(T).data))),ut(Z,(P(T),vt(()=>P(T).hora))),ut(rt,(P(T),vt(()=>P(T).total_passageiros)))}),ct(M,z)});var m=W(I,6),O=F(m),x=W(F(O),2),v=W(F(x));Vt(v,5,()=>qd,Wt,(M,T)=>{var z=Wd(),B=F(z),R=F(B),U=W(B),Z=F(U);St(()=>{ut(R,(P(T),vt(()=>P(T).hora))),ut(Z,(P(T),vt(()=>P(T).media_passageiros)))}),ct(M,z)});var E=W(O,2),G=W(F(E),2),D=W(F(G));Vt(D,5,()=>Fd,Wt,(M,T)=>{var z=Vd(),B=F(z),R=F(B),U=W(B),Z=F(U);St(()=>{ut(R,(P(T),vt(()=>P(T).hora))),ut(Z,(P(T),vt(()=>P(T).media_passageiros)))}),ct(M,z)});var K=W(m,4);let et;var Q=F(K);Ti(Q,M=>mt(d,M),()=>P(d));var Ct=W(Q,2),J=F(Ct),tt=W(J,2),nt=W(tt,2),ot=W(K,8),H=W(F(ot));Vt(H,5,()=>Ud,Wt,(M,T)=>{var z=Yd(),B=F(z),R=F(B),U=W(B),Z=F(U),$=W(U),rt=F($);St(()=>{ut(R,(P(T),vt(()=>P(T).data))),ut(Z,(P(T),vt(()=>P(T).hora))),ut(rt,(P(T),vt(()=>P(T).total_passageiros)))}),ct(M,z)}),St(M=>et=ea(K,"",et,M),[()=>({width:c(),height:l()})]),Nt("click",J,f),Nt("click",tt,p),Nt("click",nt,b),ct(n,A),qe()}function Kd(n){}function Jd(n){}const Qd=[{timestamp_gps:"2022-09-07T14:43:49",data:"2022-09-07",hora:"14:43:49",id_veiculo:"A29064",servico:"474",status:"Em operação",latitude:"-22.97361",longitude:"-43.191"},{timestamp_gps:"2022-09-07T14:44:19",data:"2022-09-07",hora:"14:44:19",id_veiculo:"A29064",servico:"474",status:"Em operação",latitude:"-22.97361",longitude:"-43.19099"},{timestamp_gps:"2022-09-07T14:44:49",data:"2022-09-07",hora:"14:44:49",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97371",longitude:"-43.19098"},{timestamp_gps:"2022-09-07T14:45:19",data:"2022-09-07",hora:"14:45:19",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97371",longitude:"-43.19098"},{timestamp_gps:"2022-09-07T14:45:49",data:"2022-09-07",hora:"14:45:49",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97366",longitude:"-43.19113"},{timestamp_gps:"2022-09-07T14:46:19",data:"2022-09-07",hora:"14:46:19",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97365",longitude:"-43.19112"},{timestamp_gps:"2022-09-07T14:46:49",data:"2022-09-07",hora:"14:46:49",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97361",longitude:"-43.19113"},{timestamp_gps:"2022-09-07T14:47:19",data:"2022-09-07",hora:"14:47:19",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97365",longitude:"-43.1911"},{timestamp_gps:"2022-09-07T14:47:49",data:"2022-09-07",hora:"14:47:49",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97365",longitude:"-43.19111"},{timestamp_gps:"2022-09-07T14:48:19",data:"2022-09-07",hora:"14:48:19",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97364",longitude:"-43.19106"},{timestamp_gps:"2022-09-07T14:48:49",data:"2022-09-07",hora:"14:48:49",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97364",longitude:"-43.19106"},{timestamp_gps:"2022-09-07T14:49:19",data:"2022-09-07",hora:"14:49:19",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97363",longitude:"-43.19106"},{timestamp_gps:"2022-09-07T14:49:49",data:"2022-09-07",hora:"14:49:49",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97359",longitude:"-43.19102"},{timestamp_gps:"2022-09-07T14:50:19",data:"2022-09-07",hora:"14:50:19",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97363",longitude:"-43.19108"},{timestamp_gps:"...",data:"...",hora:"...",id_veiculo:"...",servico:"...",status:"...",latitude:"...",longitude:"..."},{timestamp_gps:"2022-09-07T15:22:49",data:"2022-09-07",hora:"15:22:49",id_veiculo:"A29064",servico:"474",status:"Parado trajeto correto",latitude:"-22.97729",longitude:"-43.19265"},{timestamp_gps:"2022-09-07T15:23:37",data:"2022-09-07",hora:"15:23:37",id_veiculo:"A29064",servico:"474",status:"Em operação",latitude:"-22.98123",longitude:"-43.19254"}];var th=gt('<tr><td class="svelte-15d0xym"> </td><td class="svelte-15d0xym"> </td><td class="svelte-15d0xym"> </td><td class="svelte-15d0xym"> </td><td class="svelte-15d0xym"> </td><td class="svelte-15d0xym"> </td><td class="svelte-15d0xym"> </td><td class="svelte-15d0xym"> </td></tr>'),eh=gt(`<div class="intro-decode svelte-15d0xym"><div class="pres-decode svelte-15d0xym"><h1>Uma questão de cor</h1> <p class="svelte-15d0xym">TEXT</p></div> <div class="refer-decode svelte-15d0xym"><h4 class="svelte-15d0xym">Banco de dados utilizado nesta decodificação</h4> <ul class="svelte-15d0xym"><li class="svelte-15d0xym"><a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=br_rj_riodejaneiro_veiculos&amp;t=gps_sppo&amp;page=table" target="_blank">Tabela com os dados tratados de registros de GPS do SPPO,
                    incluindo velocidade estimada, estado de movimento, parada
                    em terminal ou garagem e interseção com o traçado da linha
                    informada</a></li> <li class="svelte-15d0xym"><a href="https://ftp.ibge.gov.br/Censos/Censo_Demografico_2010/Resultados_do_Universo/Agregados_por_Setores_Censitarios/" target="_blank">Censo Demográfico 2010: Agregados por Setores Censitários -
                    Resultados do Universo</a></li></ul></div></div> <div class="content-decode svelte-15d0xym"><p class="svelte-15d0xym">7 de setembro de 2022 (veículo A29064). Oito jovens negros não
        identificados protestaram dentro do ônibus da linha 474 Jacaré -
        Copacabana contra a motociata de apoiadores do presidente Jair Bolsonaro
        (PL) em Copacabana. Eles foram obrigados a sair do veículo e revistados
        por três policiais militares do Batalhão de Choque logo em seguida. Uma
        testemunha filmou toda a ação. Nas imagens, é possível ver os jovens
        apoiados com as mãos no ônibus, enquanto os outros passageiros
        aguardavam dentro do veículo. A PM revistou roupas, bolsas e alimentos
        que os jovens portavam. Um dos policiais chegou a desbloquear o celular
        de um deles e mexeu em aplicativos e mensagens privadas. Outro jovem
        mostrou a carteira de trabalho.</p> <h3 class="svelte-15d0xym">Qual foi o trajeto realizado pelo veículo A29064 da frota 474 em 7 de
        setembro de 2022?<br/>Onde a PM revistou os suspeitos?</h3> <div class="split-cont svelte-15d0xym"><div class="split-left"><p class="svelte-15d0xym">Os dados relativos à localização GPS de todos os ônibus
                municipais estão disponíveis em um banco de dados
                disponibilizado pela Secretaria Municipal de Transportes,
                chamado <a href="https://console.cloud.google.com/bigquery?p=rj-smtr&amp;d=br_rj_riodejaneiro_veiculos&amp;t=gps_sppo&amp;page=table" target="_blank">Tabela com os dados tratados de registros de GPS do SPPO,
                    incluindo velocidade estimada, estado de movimento, parada
                    em terminal ou garagem e interseção com o traçado da linha
                    informada</a>. Para acessar a localização do veículo A29064 em 7 de
                fevereiro de 2022, é necessário realizar a seguinte pesquisa:</p></div> <div class="split-right svelte-15d0xym"><p class="svelte-15d0xym">Este exercício é conduzido através dos serviços do Google Cloud.
                Para conectar sua conta do Google e aprender suas funções
                básicas, siga o <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/" class="svelte-15d0xym">tutorial</a>. Caso contrário, use preferencialmente <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/#acessando-dados-via-python" class="svelte-15d0xym">Python</a> ou <a target="_blank" href="https://docs.dados.rio/tutoriais/como-acessar-dados/#acessando-dados-via-r" class="svelte-15d0xym">R</a>.</p></div></div> <pre class="svelte-15d0xym"><code class="language-sql svelte-15d0xym">
-- Lógica: Selecione todas as colunas 
-- no banco de dados (\`rj-smtr.br_rj_riodejaneiro_veiculos.gps_sppo\`) 
-- que atendem às condições: data (\`data\` = 2022-09-07" ) e 
-- serviço 474 (servico = "474") e
-- identificativo veiculo A29064 (id_veiculo = "A29064")

SELECT * 
FROM \`rj-smtr.br_rj_riodejaneiro_veiculos.gps_sppo\` 
WHERE data = "2022-09-07" 
AND servico = "474" 
AND id_veiculo = "A29064"

    </code></pre> <table class="svelte-15d0xym"><thead><tr><th class="svelte-15d0xym">GPS timestamp</th><th class="svelte-15d0xym">Data</th><th class="svelte-15d0xym">Hora</th><th class="svelte-15d0xym">ID veiculo</th><th class="svelte-15d0xym">Serviço</th><th class="svelte-15d0xym">Status</th><th class="svelte-15d0xym">Latitude</th><th class="svelte-15d0xym">Longitude</th></tr></thead><tbody></tbody></table></div> <div class="split-cont svelte-15d0xym" style="margin-top: 3rem;"><div class="split-left"><p class="svelte-15d0xym">A tabela fornece as coordenadas geográficas no sistema de referência <a target="_blank" href="https://epsg.io/4326">EPSG:4326 WGS 84</a> do
            sinal GPS dos ônibus municipais, que podem ser visualizadas pelos softwares
            GIS mais comuns.</p></div> <div class="split-right svelte-15d0xym"><p class="svelte-15d0xym">Para adicionar as geometrias dos pontos GPS no QGIS, é necessário
            adicionar um novo “delimited text layer”, conforme indicado no <a target="_blank" href="https://gis-stackexchange-com.translate.goog/questions/273143/adding-delimited-text-layer-in-qgis?_x_tr_sl=en&amp;_x_tr_tl=pt&amp;_x_tr_hl=en&amp;_x_tr_pto=wapp" class="svelte-15d0xym">tutorial</a>. Para converter os pontos em uma linha que une os pontos GPS, no
            QGIS é necessário usar a ferramenta “Points to Path” usando como
            “Order Expression” o campo “Timestamp_gps”.</p></div></div> <div class="svg-wrapper svelte-15d0xym"><div class="svg-container" style="border:1px solid #ccc; overflow:hidden; width:100%; height:100%;"></div> <div class="controls svelte-15d0xym"><button class="svelte-15d0xym">+</button> <button class="svelte-15d0xym">–</button> <button class="svelte-15d0xym">Reset</button></div></div> <!>`,1);function ih(n,r){Ze(r,!1),Te(()=>{xo.highlightAll()});let o=ne(r,"src",8,"cor.svg"),l=ne(r,"height",8,"1000px"),c=ne(r,"width",8,"100%"),d=jt(),h;Te(async()=>{const v=`/474/${o()}`,G=await(await fetch(v)).text();ho(d,P(d).innerHTML=G);const D=P(d).querySelector("svg");if(D){h=ia(D,{contain:"outside",maxScale:10,minScale:1}),h.zoom(1,{animate:!1}),h.setTransform({scale:2,x:-2e3,y:-2e3});const{width:K,height:et}=D.getBBox();D.setAttribute("viewBox",`0 0 ${K} ${et}`),D.parentElement.addEventListener("wheel",Q=>{Q.ctrlKey&&(Q.preventDefault(),h.zoomWithWheel(Q))})}});function f(){h==null||h.zoomIn()}function p(){h==null||h.zoomOut()}function b(){h==null||h.reset()}oi();var A=eh(),C=W(ie(A),2),I=W(F(C),8),j=W(F(I));Vt(j,5,()=>Qd,Wt,(v,E)=>{var G=th(),D=F(G),K=F(D),et=W(D),Q=F(et),Ct=W(et),J=F(Ct),tt=W(Ct),nt=F(tt),ot=W(tt),H=F(ot),M=W(ot),T=F(M),z=W(M),B=F(z),R=W(z),U=F(R);St(()=>{ut(K,(P(E),vt(()=>P(E).timestamp_gps))),ut(Q,(P(E),vt(()=>P(E).data))),ut(J,(P(E),vt(()=>P(E).hora))),ut(nt,(P(E),vt(()=>P(E).id_veiculo))),ut(H,(P(E),vt(()=>P(E).servico))),ut(T,(P(E),vt(()=>P(E).status))),ut(B,(P(E),vt(()=>P(E).latitude))),ut(U,(P(E),vt(()=>P(E).longitude)))}),ct(v,G)});var S=W(C,4);let k;var q=F(S);Ti(q,v=>mt(d,v),()=>P(d));var Y=W(q,2),y=F(Y),m=W(y,2),O=W(m,2),x=W(S,2);Ks(x,{}),St(v=>k=ea(S,"",k,v),[()=>({width:c(),height:l()})]),Nt("click",y,f),Nt("click",m,p),Nt("click",O,b),ct(n,A),qe()}function nh(n){}function ah(n){}function oh(n){}function rh(n){}var sh=gt('<li class="svelte-1eol4qa"><a class="svelte-1eol4qa"> </a></li>'),lh=gt('<a class="svelte-1eol4qa"> </a>'),uh=gt('<div class="related svelte-1eol4qa"><small class="svelte-1eol4qa">Consulte <!></small></div>'),ch=gt('<li class="svelte-1eol4qa"><a class="svelte-1eol4qa"> </a> <!></li>'),dh=gt('<a target="_blank" rel="noopener noreferrer" class="svelte-1eol4qa"> </a>'),hh=gt('<a class="svelte-1eol4qa"> </a>'),fh=gt('<a class="svelte-1eol4qa"> </a>'),ph=gt('<div class="related svelte-1eol4qa"><small class="svelte-1eol4qa">Consulte <!></small></div>'),_h=gt('<li class="svelte-1eol4qa"><!> <!></li>'),vh=gt('<li class="svelte-1eol4qa"><a class="svelte-1eol4qa"> </a></li>'),mh=gt('<div class="content-overlay svelte-1eol4qa"><button class="close-btn svelte-1eol4qa">✕</button> <!></div>'),gh=gt('<div class="layout svelte-1eol4qa"><div class="left svelte-1eol4qa"><header class="main-header svelte-1eol4qa">474, JACARÉ COPACABANA: DATA CRITIC</header> <!> <div class="columns svelte-1eol4qa"><section class="texto-col svelte-1eol4qa"><h4 class="svelte-1eol4qa">BIBLIOTECA</h4> <ul class="svelte-1eol4qa"></ul></section> <section class="mapa-col svelte-1eol4qa"><h4 class="svelte-1eol4qa">MAPAS</h4> <ul class="svelte-1eol4qa"></ul></section> <section class="dado-col svelte-1eol4qa"><h4 class="svelte-1eol4qa">DADOS</h4> <div>↓</div> <ul class="svelte-1eol4qa"></ul></section></div></div> <div class="right svelte-1eol4qa"><header class="decode-header svelte-1eol4qa">DECODIFICAÇÕES</header> <div class="decode-list svelte-1eol4qa"><ul class="svelte-1eol4qa"></ul></div></div></div> <!>',1);function yh(n,r){Ze(r,!1);const o={"/":ts,"/textos/nunca-e-moite-no-mapa":rd,"/textos/linhas":ld,"/textos/texto3":cd,"/textos/texto4":hd,"/mapas/mapa1":$s,"/mapas/mapa2":Ks,"/dados":Od,"/decode/decode1":jd,"/decode/decode2":Xd,"/decode/decode3":Kd,"/decode/decode4":Jd,"/decode/decode5":ih,"/decode/decode6":nh,"/decode/decode7":ah,"/decode/decode8":oh,"/decode/decode9":rh};let l=jt(!1),c=jt(0),d=jt(),h=jt(),f=jt();function p(J){var H,M,T;mt(l,!0);const tt=((H=P(d))==null?void 0:H.offsetWidth)||0,nt=((M=P(h))==null?void 0:M.offsetWidth)||0,ot=((T=P(f))==null?void 0:T.offsetWidth)||0;mt(c,tt+nt+ot+32),setTimeout(()=>{const z=document.querySelector(".content-overlay");z&&(z.scrollTop=0)},0)}function b(){mt(l,!1)}function A(J){return Qr.filter(tt=>J.includes(tt.link))}let C=jt(!1);Te(()=>{function J(){if(P(f)){const tt=P(f).scrollHeight>P(f).clientHeight,nt=P(f).scrollTop+P(f).clientHeight>=P(f).scrollHeight-2;mt(C,tt&&!nt)}}return P(f)&&P(f).addEventListener("scroll",J),J(),window.addEventListener("resize",J),()=>{P(f)&&P(f).removeEventListener("scroll",J),window.removeEventListener("resize",J)}}),oi();var I=gh(),j=ie(I),S=F(j),k=W(F(S),2);ts(k);var q=W(k,2),Y=F(q),y=W(F(Y),2);Vt(y,5,()=>ed,Wt,(J,tt)=>{var nt=sh(),ot=F(nt),H=F(ot);mi(ot,M=>kt==null?void 0:kt(M)),Oe(()=>Nt("click",ot,()=>p(P(tt).link))),St(()=>{Ye(ot,"href",P(tt).link),ut(H,P(tt).title)}),ct(J,nt)}),Ti(Y,J=>mt(d,J),()=>P(d));var m=W(Y,2),O=W(F(m),2);Vt(O,5,()=>id,Wt,(J,tt)=>{var nt=ch(),ot=F(nt),H=F(ot);mi(ot,z=>kt==null?void 0:kt(z)),Oe(()=>Nt("click",ot,()=>p(P(tt).link)));var M=W(ot,2);{var T=z=>{var B=uh(),R=F(B),U=W(F(R));Vt(U,1,()=>A(P(tt).decodeRefs),Wt,(Z,$)=>{var rt=lh(),bt=F(rt);mi(rt,Bt=>kt==null?void 0:kt(Bt)),Oe(()=>Nt("click",rt,()=>p(P($).link))),St(()=>{Ye(rt,"href",P($).link),ut(bt,P($).title)}),ct(Z,rt)}),ct(z,B)};Ne(M,z=>{var B;(B=P(tt).decodeRefs)!=null&&B.length&&z(T)})}St(()=>{Ye(ot,"href",P(tt).link),ut(H,P(tt).title)}),ct(J,nt)}),Ti(m,J=>mt(h,J),()=>P(h));var x=W(m,2),v=W(F(x),2);let E;var G=W(v,2);Vt(G,5,()=>nd,Wt,(J,tt)=>{var nt=_h(),ot=F(nt);{var H=B=>{var R=dh(),U=F(R);St(()=>{Ye(R,"href",P(tt).link),ut(U,P(tt).title)}),ct(B,R)},M=B=>{var R=hh(),U=F(R);mi(R,Z=>kt==null?void 0:kt(Z)),Oe(()=>Nt("click",R,()=>p(P(tt).link))),St(()=>{Ye(R,"href",P(tt).link),ut(U,P(tt).title)}),ct(B,R)};Ne(ot,B=>{P(tt).link.startsWith("http")?B(H):B(M,!1)})}var T=W(ot,2);{var z=B=>{var R=ph(),U=F(R),Z=W(F(U));Vt(Z,1,()=>A(P(tt).decodeRefs),Wt,($,rt)=>{var bt=fh(),Bt=F(bt);mi(bt,Mt=>kt==null?void 0:kt(Mt)),Oe(()=>Nt("click",bt,()=>p(P(rt).link))),St(()=>{Ye(bt,"href",P(rt).link),ut(Bt,P(rt).title)}),ct($,bt)}),ct(B,R)};Ne(T,B=>{var R;(R=P(tt).decodeRefs)!=null&&R.length&&B(z)})}ct(J,nt)}),Ti(x,J=>mt(f,J),()=>P(f));var D=W(S,2),K=W(F(D),2),et=F(K);Vt(et,5,()=>Qr,Wt,(J,tt)=>{var nt=vh(),ot=F(nt),H=F(ot);mi(ot,M=>kt==null?void 0:kt(M)),Oe(()=>Nt("click",ot,()=>p(P(tt).link))),St(()=>{Ye(ot,"href",P(tt).link),ut(H,P(tt).title)}),ct(J,nt)});var Q=W(j,2);{var Ct=J=>{var tt=mh(),nt=F(tt),ot=W(nt,2);td(ot,{get routes(){return o},useHash:!0,props:{closeContent:b}}),St(()=>ea(tt,`width: ${P(c)??""}px;`)),Nt("click",nt,b),ct(J,tt)};Ne(Q,J=>{P(l)&&J(Ct)})}St(J=>E=jc(v,1,"scroll-hint svelte-1eol4qa",null,E,J),[()=>({visible:P(C)})]),ct(n,I),qe()}kc(yh,{target:document.getElementById("app")});
